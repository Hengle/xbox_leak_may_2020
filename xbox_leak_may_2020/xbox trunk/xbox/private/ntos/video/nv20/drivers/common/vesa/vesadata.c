 /***************************************************************************\
|*                                                                           *|
|*        Copyright (c) 1993-1997 NVIDIA, Corp.  All rights reserved.        *|
|*                                                                           *|
|*     NOTICE TO USER:   The source code  is copyrighted under  U.S. and     *|
|*     international laws.   NVIDIA, Corp. of Sunnyvale, California owns     *|
|*     the copyright  and as design patents  pending  on the design  and     *|
|*     interface  of the NV chips.   Users and possessors of this source     *|
|*     code are hereby granted  a nonexclusive,  royalty-free  copyright     *|
|*     and  design  patent license  to use this code  in individual  and     *|
|*     commercial software.                                                  *|
|*                                                                           *|
|*     Any use of this source code must include,  in the user documenta-     *|
|*     tion and  internal comments to the code,  notices to the end user     *|
|*     as follows:                                                           *|
|*                                                                           *|
|*     Copyright (c) 1993-1997  NVIDIA, Corp.    NVIDIA  design  patents     *|
|*     pending in the U.S. and foreign countries.                            *|
|*                                                                           *|
|*     NVIDIA, CORP.  MAKES  NO REPRESENTATION ABOUT  THE SUITABILITY OF     *|
|*     THIS SOURCE CODE FOR ANY PURPOSE.  IT IS PROVIDED "AS IS" WITHOUT     *|
|*     EXPRESS OR IMPLIED WARRANTY OF ANY KIND.  NVIDIA, CORP. DISCLAIMS     *|
|*     ALL WARRANTIES  WITH REGARD  TO THIS SOURCE CODE,  INCLUDING  ALL     *|
|*     IMPLIED   WARRANTIES  OF  MERCHANTABILITY  AND   FITNESS   FOR  A     *|
|*     PARTICULAR  PURPOSE.   IN NO EVENT SHALL NVIDIA, CORP.  BE LIABLE     *|
|*     FOR ANY SPECIAL, INDIRECT, INCIDENTAL,  OR CONSEQUENTIAL DAMAGES,     *|
|*     OR ANY DAMAGES  WHATSOEVER  RESULTING  FROM LOSS OF USE,  DATA OR     *|
|*     PROFITS,  WHETHER IN AN ACTION  OF CONTRACT,  NEGLIGENCE OR OTHER     *|
|*     TORTIOUS ACTION, ARISING OUT  OF OR IN CONNECTION WITH THE USE OR     *|
|*     PERFORMANCE OF THIS SOURCE CODE.                                      *|
|*                                                                           *|
 \***************************************************************************/

#include "vesadata.h"
#include "nvMultiMon.h"

//*****************************************************************************
//
// This file contains the display timing tables required for all supported
// VESA (DMT, GTF) modes.
//
// Definition of display timing terms:
//
//
//  <------------------><--------><-------><------><-------><--------><--------
//
//     Active Display     Border    Porch    Sync    Porch    Border    Active
//
//
//  <---------------------------------------------------------------->
//  Total
//
//  <------------------>
//  Visible
//
//  <---------------------------->
//  Blank Start
//
//  <------------------------------------->
//  Sync Start
//
//  <--------------------------------------------->
//  Sync End
//
//  <------------------------------------------------------>
//  Blank End
//
//*****************************************************************************

//*****************************************************************************
//
// GTF Timings 
//
// Currently we're using hardcoded table values, but there is no reason why we
// don't just use the standard GTF algorithms and compute any frequency on the
// fly (once we've got a GTF function that doesn't use pure floating point).
//
// Horizontal Visible, Vertical Visible
// Refresh (Hz * 100)
// Horizontal Total, Sync Start, Sync End
// Vertical Total, Sync Start, Sync End
// DotClock (MHz * 100)
// HSync polarity 
// VSync polarity 
//
// NOTE: GTF Timings dictate no borders, so Blank Start == Visible and
// Blank End == Total.
//
unsigned int GTFTimingTable[][12] =
{
    // Settings for 2048x1536:
    {2048,1536,6000, 2800,2200,2424,1589,1537,1540,26695,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {2048,1536,7000, 2816,2208,2432,1599,1537,1540,31519,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {2048,1536,7200, 2816,2208,2432,1600,1537,1540,32440,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {2048,1536,7500, 2832,2216,2440,1603,1537,1540,34048,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {2048,1536,8500, 2832,2216,2440,1612,1537,1540,38804,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    
    // Settings for 1920x1440:
    {1920,1440,6000, 2624,2064,2272,1490,1441,1444,23459,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1920,1440,7000, 2640,2072,2280,1499,1441,1444,27702,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1920,1440,7200, 2640,2072,2280,1500,1441,1444,28512,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1920,1440,7500, 2640,2072,2280,1503,1441,1444,29759,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1920,1440,8500, 2656,2072,2288,1512,1441,1444,34135,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
        
    // Settings for 1920x1200:
    {1920,1200,6000, 2592,2048,2256,1242,1201,1204,19316,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1920,1200,7000, 2608,2056,2264,1249,1201,1204,22802,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1920,1200,7200, 2624,2064,2272,1251,1201,1204,23635,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1920,1200,7500, 2624,2064,2272,1253,1201,1204,24659,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1920,1200,7600, 2624,2064,2272,1253,1201,1204,24988,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1920,1200,8500, 2640,2072,2280,1260,1201,1204,28274,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1920,1200,10000,2656,2072,2288,1271,1201,1204,33758,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1920,1200,12000,2672,2080,2296,1286,1201,1204,41234,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},

    // Settings for 1920x1080:
    {1920,1080,6000, 2576,2040,2248,1118,1081,1084,17280,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1920,1080,7000, 2608,2056,2264,1124,1081,1084,20520,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1920,1080,7200, 2608,2056,2264,1126,1081,1084,21144,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1920,1080,7500, 2608,2056,2264,1128,1081,1084,22064,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1920,1080,8500, 2624,2064,2272,1134,1081,1084,25293,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1920,1080,10000,2640,2072,2280,1144,1081,1084,30202,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1920,1080,12000,2656,2072,2288,1157,1081,1084,36876,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},

    // Settings for 1800x1440:
    {1800,1440,6000, 2456,1928,2128,1490,1441,1444,21957,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1800,1440,7000, 2472,1936,2136,1499,1441,1444,25939,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1800,1440,7200, 2472,1936,2136,1500,1441,1444,26698,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1800,1440,7500, 2472,1936,2136,1503,1441,1444,27866,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1800,1440,8500, 2488,1944,2144,1512,1441,1444,31976,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1800,1440,10000,2504,1952,2152,1525,1441,1444,38186,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},

    // Settings for 1600x1200:
    {1600,1200,6000, 2160,1704,1880,1242,1201,1204,16096,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1600,1200,7000, 2176,1712,1888,1249,1201,1204,19025,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1600,1200,7200, 2176,1712,1888,1251,1201,1204,19600,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1600,1200,7500, 2192,1720,1896,1253,1201,1204,20599,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1600,1200,8500, 2192,1720,1896,1260,1201,1204,23476,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1600,1200,10000,2208,1728,1904,1272,1201,1204,28064,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1600,1200,12000,2224,1736,1912,1286,1201,1204,34321,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1600,1200,14000,2240,1744,1920,1301,1201,1204,40799,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    
    // Settings for 1600x1024:
    {1600,1024,6000, 2144,1704,1872,1060,1025,1028,13636,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1600,1024,7000, 2160,1704,1880,1066,1025,1028,16118,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1600,1024,7200, 2160,1704,1880,1067,1025,1028,16594,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1600,1024,7500, 2176,1712,1888,1069,1025,1028,17446,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1600,1024,7600, 2176,1712,1888,1070,1025,1028,17695,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1600,1024,8500, 2176,1712,1888,1075,1025,1028,19883,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1600,1024,10000,2192,1720,1896,1085,1025,1028,23783,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1600,1024,12000,2208,1728,1904,1097,1025,1028,29066,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    
    // Settings for 1600x900:
    {1600,900,6000, 2128,1696,1864,932,901,904,11900,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1600,900,7000, 2144,1704,1872,937,901,904,14062,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1600,900,7200, 2144,1704,1872,938,901,904,14480,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1600,900,7500, 2160,1704,1880,940,901,904,15228,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1600,900,8500, 2176,1712,1888,945,901,904,17479,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1600,900,10000,2192,1720,1896,953,901,904,20890,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1600,900,12000,2208,1728,1904,965,901,904,25569,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1600,900,14000,2224,1736,1912,976,901,904,30389,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1600,900,14400,2224,1736,1912,978,901,904,31321,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1600,900,15000,2224,1736,1912,982,901,904,32760,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1600,900,17000,2224,1736,1912,994,901,904,37581,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    
    // Settings for 1600x880:
    {1600,880,6000, 2112,1688,1856,911,881,884,11544,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1600,880,7000, 2144,1704,1872,916,881,884,13747,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1600,880,7200, 2144,1704,1872,917,881,884,14156,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1600,880,7500, 2144,1704,1872,919,881,884,14778,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1600,880,8500, 2160,1704,1880,924,881,884,16965,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1600,880,10000,2192,1720,1896,932,881,884,20429,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1600,880,12000,2208,1728,1904,943,881,884,24986,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1600,880,14000,2208,1728,1904,954,881,884,29490,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1600,880,14400,2224,1736,1912,957,881,884,30648,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1600,880,15000,2224,1736,1912,960,881,884,32026,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1600,880,17000,2224,1736,1912,972,881,884,36749,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},

    // Settings for 1400x1050:
    {1400,1050,6000, 1880,1488,1640,1087,1051,1054,12261,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1400,1050,7000, 1896,1496,1648,1093,1051,1054,14506,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1400,1050,7200, 1896,1496,1648,1094,1051,1054,14934,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1400,1050,7500, 1896,1496,1648,1096,1051,1054,15585,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1400,1050,8500, 1912,1504,1656,1103,1051,1054,17926,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1400,1050,10000,1928,1512,1664,1112,1051,1054,21439,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1400,1050,12000,1944,1520,1672,1125,1051,1054,26244,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1400,1050,14000,1944,1520,1672,1139,1051,1054,30999,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1400,1050,14400,1944,1520,1672,1141,1051,1054,31941,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1400,1050,15000,1944,1520,1572,1146,1051,1054,33417,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},

    
    // Settings for 1280x1024:
    {1280,1024,6000, 1712,1360,1496,1060,1025,1028,10888,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1280,1024,7000, 1728,1368,1504,1066,1025,1028,12894,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1280,1024,7200, 1728,1368,1504,1067,1025,1028,13275,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1280,1024,7500, 0x6B0,0x550,0x5d8,0x424,0x401,0x404,0x2a88,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1280,1024,8500, 1744,1376,1512,1075,1025,1028,15936,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1280,1024,10000,1760,1376,1520,1085,1025,1028,19096,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1280,1024,12000,1776,1384,1528,1097,1025,1028,23379,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1280,1024,14000,1776,1384,1528,1111,1025,1028,27624,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1280,1024,14400,1776,1384,1528,1113,1025,1028,28464,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1280,1024,15000,1776,1384,1528,1117,1025,1028,29757,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1280,1024,17000,1792,1392,1536,1131,1025,1028,34455,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1280,1024,20000,1729,1392,1536,1152,1025,1028,41288,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    
    // Settings for 1280x960:
    {1280,960,6000, 1712,1360,1496,994, 961,964,10210,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1280,960,7000, 1728,1368,1504,999, 961,964,12084,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1280,960,7200, 1728,1368,1504,1001,961,964,12454,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1280,960,7500, 1728,1368,1504,1002,961,964,12986,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1280,960,8500, 1744,1376,1512,1008,961,964,14943,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1280,960,10000,1760,1376,1520,1017,961,964,17899,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1280,960,12000,1760,1376,1520,1029,961,964,21732,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1280,960,14000,1776,1384,1528,1041,961,964,25883,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1280,960,14400,1776,1384,1528,1044,961,964,26700,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1280,960,15000,1776,1384,1528,1047,961,964,27892,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1280,960,17000,1792,1392,1536,1060,961,964,32292,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1280,960,20000,1792,1392,1536,1080,961,964,38707,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    
    // Settings for 1152x864:
    {1152,864,6000, 1520,1216,1336,895,865,868,8162,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1152,864,7000, 1536,1224,1344,900,865,868,9677,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1152,864,7200, 1536,1224,1344,901,865,868,9964,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1152,864,7500, 1552,1224,1352,902,865,868,10499,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1152,864,8500, 1552,1224,1352,907,865,868,11965,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1152,864,10000,1568,1232,1360,915,865,868,14347,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1152,864,12000,1584,1240,1368,926,865,868,17601,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1152,864,14000,1600,1248,1376,937,865,868,20989,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1152,864,14400,1600,1248,1376,939,865,868,21635,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1152,864,15000,1600,1248,1376,943,865,868,22632,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1152,864,17000,1600,1248,1376,954,865,868,25949,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1152,864,20000,1616,1256,1384,972,865,868,31415,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1152,864,24000,1616,1256,1384,997,865,868,38668,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    
    // Settings for 1024x768:
    //Use DMT for 60Hz: 1344,1080,1184,795,769,772,6411 ,6000,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE,
    {1024,768,6000, 1344,1048,1184,806,771,777,6500,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_NEGATIVE},
    {1024,768,7000, 1360,1080,1192,800,769,772,7616,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1024,768,7200, 1360,1080,1192,801,769,772,7843,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1024,768,7500, 1360,1080,1192,802,769,772,8180,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1024,768,8500, 1376,1088,1200,807,769,772,9439,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    //Adjust 100Hz due to DAC feedback
    //1392,1096,1208,814,769,772,11331,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE,
    {1024,768,10000,1392,1096,1208,814,769,772,11370,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1024,768,12000,1408,1104,1216,823,769,772,13905,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1024,768,14000,1408,1104,1216,833,769,772,16420,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1024,768,14400,1408,1104,1216,835,769,772,16930,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1024,768,15000,1408,1104,1216,838,769,772,17699,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1024,768,17000,1424,1112,1224,848,769,772,20528,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1024,768,20000,1424,1112,1224,864,769,772,24607,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {1024,768,24000,1440,1120,1232,886,769,772,30620,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    
    // Settings for 960x720:
    {960,720,6000, 1248,1008,1104,746,721,724,5586,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {960,720,7000, 1264,1008,1112,750,721,724,6636,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {960,720,7200, 1264,1008,1112,751,721,724,6835,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {960,720,7500, 1280,1016,1120,752,721,724,7219,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {960,720,8500, 1280,1016,1120,756,721,724,8225,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {960,720,10000,1296,1024,1128,763,721,724,9888,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {960,720,12000,1312,1032,1136,772,721,724,12154,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {960,720,14000,1312,1032,1136,781,721,724,14345,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {960,720,14400,1328,1040,1144,783,721,724,14973,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {960,720,15000,1328,1040,1144,786,721,724,15657,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {960,720,17000,1328,1040,1144,795,721,724,17948,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {960,720,20000,1344,1048,1152,810,721,724,21773,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {960,720,24000,1344,1048,1152,831,721,724,26805,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    
    // Settings for 864x480:
    {864,480,6000, 1072,880,968,497,481,484,3197,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {864,480,7000, 1104,896,984,500,481,484,3864,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {864,480,7200, 1104,896,984,501,481,484,3982,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {864,480,7500, 1104,896,984,502,481,484,4157,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {864,480,8500, 1120,904,992,505,481,484,4808,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {864,480,10000,1136,912,1000,509,481,484,5782,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {864,480,12000,1152,912,1008,515,481,484,7119,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {864,480,14000,1168,920,1016,521,481,484,8519,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {864,480,14400,1168,920,1016,522,481,484,8780,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {864,480,15000,1168,920,1016,524,481,484,9180,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {864,480,17000,1184,928,1024,531,481,484,10688,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {864,480,20000,1184,928,1024,540,481,484,12787,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {864,480,24000,1200,936,1032,554,481,484,15955,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    
    // Settings for 856x480:
    {856,480,6000, 1064,872,960,497,481,484,3173,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {856,480,7000, 1096,888,976,500,481,484,3836,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {856,480,7200, 1096,888,976,501,481,484,3953,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {856,480,7500, 1096,888,976,502,481,484,4126,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {856,480,8500, 1112,896,984,505,481,484,4773,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {856,480,10000,1128,904,992,509,481,484,5742,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {856,480,12000,1144,912,1000,515,481,484,7070,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {856,480,14000,1160,912,1008,521,481,484,8461,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {856,480,14400,1160,912,1008,522,481,484,8719,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {856,480,15000,1160,912,1008,524,481,484,9118,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {856,480,17000,1160,912,1008,531,481,484,10471,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {856,480,20000,1176,920,1016,540,481,484,12701,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {856,480,24000,1192,928,1024,554,481,484,15849,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    
    // Settings for 852x480:
    {852,480,6000, 1046,872,960,497,481,484,3173,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {852,480,7000, 1096,888,976,500,481,484,3836,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {852,480,7200, 1096,888,976,501,481,484,3953,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {852,480,7500, 1096,888,976,502,481,484,4126,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {852,480,8500, 1112,896,984,505,481,484,4773,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {852,480,10000,1128,904,992,509,481,484,5742,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {852,480,12000,1144,912,1000,515,481,484,7070,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {852,480,14000,1160,912,1008,521,481,484,8461,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {852,480,14400,1160,912,1008,522,481,484,8719,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {852,480,15000,1160,912,1008,524,481,484,9118,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {852,480,17000,1160,912,1008,531,481,484,10471,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {852,480,20000,1176,920,1016,540,481,484,12701,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {852,480,24000,1192,928,1024,554,481,484,15849,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
        
    // Settings for 848x480:
    {848,480,6000, 1056,864,952,497,481,484,3149,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {848,480,7000, 1072,872,960,500,481,484,3752,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {848,480,7200, 1088,880,968,501,481,484,3925,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {848,480,7500, 1088,880,968,502,481,484,4096,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {848,480,8500, 1104,888,976,505,481,484,4739,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {848,480,10000,1120,896,984,509,481,484,5701,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {848,480,12000,1136,904,992,515,481,484,7020,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {848,480,14000,1152,904,1000,521,481,484,8403,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {848,480,14400,1152,904,1000,522,481,484,8659,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {848,480,15000,1152,904,1000,524,481,484,9055,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {848,480,17000,1152,904,1000,531,481,484,10399,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {848,480,20000,1168,912,1008,540,481,484,12614,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {848,480,24000,1168,912,1008,554,481,484,15530,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
        
    // Settings for 800x600:
    // Use DMT for 60: 1024,832,912,622,601,604,3822,6000,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE,
    {800,600,6000, 1056,840,968,628,601,605,4000,BUFFER_HSYNC_POSITIVE,BUFFER_VSYNC_POSITIVE},
    {800,600,7000, 1040,840,920,625,601,604,4550,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {800,600,7200, 1040,840,920,626,601,604,4687,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {800,600,7500, 1040,840,920,627,601,604,4891,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {800,600,8500, 1056,840,928,630,601,604,5655,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {800,600,10000,1072,848,936,636,601,604,6818,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {800,600,12000,1088,856,944,643,601,604,8395,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {800,600,14000,1088,856,944,651,601,604,9916,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {800,600,14400,1088,856,944,653,601,604,10231,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {800,600,15000,1088,856,944,655,601,604,10690,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {800,600,17000,1104,864,952,663,601,604,12443,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {800,600,20000,1104,864,952,675,601,604,14904,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {800,600,24000,1120,872,960,692,601,604,18601,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    
    // Settings for 720x480:
    {720,480,6000, 896,736,808,497,481,484,2672,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {720,480,7000, 912,744,816,500,481,484,3192,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {720,480,7200, 912,744,816,501,481,484,3290,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {720,480,7500, 928,752,824,502,481,484,3494,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {720,480,8500, 928,752,824,505,481,484,3983,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {720,480,10000,944,760,832,509,481,484,4805,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {720,480,12000,960,760,840,515,481,484,5933,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {720,480,14000,976,768,848,521,481,484,7119,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {720,480,14400,976,768,848,522,481,484,7336,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {720,480,15000,976,768,848,524,481,484,7671,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {720,480,17000,976,768,848,531,481,484,8810,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {720,480,20000,992,776,856,540,481,484,10714,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {720,480,24000,992,776,856,554,481,484,13190,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    
    // Settings for 640x480:
    // Use DMT for 60: 800,656,720,497,481,484,2386,6000,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE,
    {640,480,6000, 800,656,752,525,490,492,2518,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_NEGATIVE},
    {640,480,7000, 816,664,728,500,481,484,2856,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {640,480,7200, 816,664,728,501,481,484,2943,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {640,480,7500, 816,664,728,502,481,484,3072,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {640,480,8500, 832,672,736,505,481,484,3571,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {640,480,10000,848,680,744,509,481,484,4316,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {640,480,12000,848,680,744,515,481,484,5241,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {640,480,14000,864,680,752,521,481,484,6302,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {640,480,14400,864,680,752,522,481,484,6495,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {640,480,15000,864,680,752,524,481,484,6791,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {640,480,17000,880,688,760,531,481,484,7944,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {640,480,20000,880,688,760,540,481,484,9504,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {640,480,24000,880,688,760,554,481,484,11700,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    
    // Settings for 640x400:
    //
    // The GTF timings for 640x400 at 70Hz and 72Hz are drastically different than
    // the original VGA timings (which officially only list 85Hz as a support rate
    // at this resolution).  Therefore, when we attempt to set the GTF rates the
    // monitors just aren't happy.
    //
    // Remember that IBM VGA 640x400 starts at 70Hz, not 60Hz.  There is no 60Hz 
    // timings for 640x400 as defined by IBM VGA.
    //
    // Use GTF 75: 784,648,712,415,401,404,1952,6000,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE,
    {640,400,6000, 800,656,720,418,401,404,2508,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    // Use GTF 75: 800,656,720,417,401,404,2335,7000,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE,
    {640,400,7000, 800,656,720,418,401,404,2508,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    // Use GTF 75: 800,656,720,418,401,404,2408,7200,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE,
    {640,400,7200, 800,656,720,418,401,404,2508,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {640,400,7500, 800,656,720,418,401,404,2508,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {640,400,8500, 816,664,728,421,401,404,2920,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {640,400,10000,832,672,736,424,401,404,3528,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {640,400,12000,848,680,744,429,401,404,4366,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {640,400,14000,848,680,744,434,401,404,5152,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {640,400,14400,848,680,744,435,401,404,5312,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {640,400,15000,864,680,752,437,401,404,5664,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {640,400,17000,864,680,752,442,401,404,6492,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {640,400,20000,880,688,760,451,401,404,7938,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {640,400,24000,880,688,760,462,401,404,9757,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    
    // Settings for 512x384:
    // NOTE: This is a scan-doubled version of 512x768 timings
    {512,384,6000, 672,536,592,795,769,772,3205,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {512,384,7000, 672,536,592,800,769,772,3763,BUFFER_HSYNC_NEGATIVE, BUFFER_VSYNC_POSITIVE},
    {512,384,7200, 688,544,600,801,769,772,3968,BUFFER_HSYNC_NEGATIVE, BUFFER_VSYNC_POSITIVE},
    {512,384,7500, 688,544,600,802,769,772,4138,BUFFER_HSYNC_NEGATIVE, BUFFER_VSYNC_POSITIVE},
    {512,384,8500, 688,544,600,807,769,772,4719,BUFFER_HSYNC_NEGATIVE, BUFFER_VSYNC_POSITIVE},
    {512,384,10000,688,544,600,814,769,772,5600,BUFFER_HSYNC_NEGATIVE, BUFFER_VSYNC_POSITIVE},
    {512,384,12000,704,552,608,823,769,772,6953,BUFFER_HSYNC_NEGATIVE, BUFFER_VSYNC_POSITIVE},
    {512,384,14000,704,552,608,833,769,772,8210,BUFFER_HSYNC_NEGATIVE, BUFFER_VSYNC_POSITIVE},
    {512,384,14400,704,552,608,835,769,772,8465,BUFFER_HSYNC_NEGATIVE, BUFFER_VSYNC_POSITIVE},
    {512,384,15000,704,552,608,838,769,772,8849,BUFFER_HSYNC_NEGATIVE, BUFFER_VSYNC_POSITIVE},
    {512,384,17000,704,552,608,848,769,772,10149,BUFFER_HSYNC_NEGATIVE, BUFFER_VSYNC_POSITIVE},
    {512,384,20000,720,560,616,864,769,772,12442,BUFFER_HSYNC_NEGATIVE, BUFFER_VSYNC_POSITIVE},
    {512,384,24000,720,560,616,886,769,772,15310,BUFFER_HSYNC_NEGATIVE, BUFFER_VSYNC_POSITIVE},
    
    // Settings for 480x360:
    // NOTE: This is a scan-doubled version of 480x720 timings
    {480,360,6000, 624,504,552,746,721,724,2793,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {480,360,7000, 640,512,560,750,721,724,3360,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {480,360,7200, 640,512,560,751,721,724,3461,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {480,360,7500, 640,512,560,752,721,724,3610,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {480,360,8500, 640,512,560,756,721,724,4113,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {480,360,10000,656,512,568,763,721,724,5005,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {480,360,12000,656,512,568,772,721,724,6077,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {480,360,14000,656,512,568,781,721,724,7173,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {480,360,14400,656,512,568,783,721,724,7397,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {480,360,15000,656,512,568,786,721,724,7734,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {480,360,17000,672,520,576,795,721,724,9082,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {480,360,20000,672,520,576,810,721,724,10886,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {480,360,24000,672,520,576,831,721,724,13402,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    
    // Settings for 400x300:
    // NOTE: This is a scan-doubled version of 400x600 timings
    {400,300,6000, 512,416,456,622,601,604,1911,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {400,300,7000, 528,424,464,625,601,604,2310,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {400,300,7200, 528,424,464,626,601,604,2380,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {400,300,7500, 528,424,464,627,601,604,2483,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {400,300,8500, 528,424,464,630,601,604,2827,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {400,300,10000,528,424,464,636,601,604,3358,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {400,300,12000,544,432,472,643,601,604,4198,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {400,300,14000,544,432,472,651,601,604,4958,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {400,300,14400,544,432,472,653,601,604,5115,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {400,300,15000,544,432,472,655,601,604,5345,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {400,300,17000,544,432,472,663,601,604,6131,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {400,300,20000,560,432,480,675,601,604,7560,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {400,300,24000,560,432,480,692,601,604,9300,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    
    // Settings for 320x240:
    // NOTE: This is a scan-doubled version of 320x480 timings
    {320,240,6000, 400,328,360,497,481,484,1193,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {320,240,7000, 400,328,360,500,481,484,1400,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {320,240,7200, 416,336,368,501,481,484,1501,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {320,240,7500, 416,336,368,502,481,484,1566,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {320,240,8500, 416,336,368,505,481,484,1786,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {320,240,10000,416,336,368,509,481,484,2117,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {320,240,12000,432,344,376,515,481,484,2670,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {320,240,14000,432,344,376,521,481,484,3151,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {320,240,14400,432,344,376,522,481,484,3247,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {320,240,15000,432,344,376,524,481,484,3396,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {320,240,17000,432,344,376,531,481,484,3900,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {320,240,20000,432,344,376,540,481,484,4666,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {320,240,24000,448,352,384,554,481,484,5957,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    
    // Settings for 320x200:
    // NOTE: This a scan-doubled version of 320x400 timings
    //There is no 60Hz timings for 320x200 as defined by IBM VGA
    //384,320,352,415,401,404,956 ,6000,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE,
    {320,200,6000, 400,328,360,417,401,404,1168,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {320,200,7000, 400,328,360,417,401,404,1168,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {320,200,7200, 400,328,360,418,401,404,1204,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {320,200,7500, 400,328,360,418,401,404,1254,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {320,200,8500, 416,336,368,421,401,404,1489,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {320,200,10000,416,336,368,424,401,404,1764,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {320,200,12000,416,336,368,429,401,404,2142,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {320,200,14000,432,344,376,434,401,404,2625,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {320,200,14400,432,344,376,435,401,404,2706,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {320,200,15000,432,344,376,437,401,404,2832,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {320,200,17000,432,344,376,442,401,404,3246,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {320,200,20000,432,344,376,451,401,404,3897,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE},
    {320,200,24000,448,352,384,462,401,404,4967,BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_POSITIVE}
};

//*****************************************************************************
//
// VESA 1.0 rev 0.7 DMT timings
//
// DMT timing calculations were produced with the VESA DMT 1.0 rev 0.7 
// Monitor Timing Specifications.
//
// Horizontal Visible, Vertical Visible
// Refresh (Hz * 100)
// Horizontal Total, Blank Start, Sync Start, Sync End, Blank End
// Vertical Total, Blank Start, Sync Start, Sync End, Blank End
// DotClock (MHz * 100)
// HSync polarity 
// VSync polarity 
//
// NOTE: Unlike GTF timings, DMT does not dictate zero border widths.
// Therefore we must include blank start and end positions. 
//
unsigned int DMTTimingTableNT[][16] =
{

    // Settings for 320x200 (mode doubled 640x400):
    //  NOTE: There is no 60Hz 320x200, so use 70Hz if anyone wants 60Hz
    {320,200,6000,800/2,640/2,656/2,752/2,288/2,449,400,412,414,449,2518/2,
    	BUFFER_HSYNC_POSITIVE,BUFFER_VSYNC_NEGATIVE},
    {320,200,7000,800/2,640/2,656/2,752/2,288/2,449,400,412,414,449,2518/2,
    	BUFFER_HSYNC_POSITIVE,BUFFER_VSYNC_NEGATIVE},
    {320,200,8500,832/2,640/2,672/2,736/2,832/2,445,400,401,404,445,3150/2,
    	BUFFER_HSYNC_POSITIVE,BUFFER_VSYNC_NEGATIVE},

	// Settings for 320x240 (mode doubled 640x480):
	{320,240,6000,800/2,648/2,656/2,752/2,792/2,525,488,490,492,517,2518/2,
		BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_NEGATIVE},
	{320,240,7200,832/2,648/2,664/2,704/2,824/2,520,488,489,492,512,3150/2,
		BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_NEGATIVE},
	{320,240,7500,840/2,640/2,656/2,720/2,840/2,500,480,481,484,500,3150/2,
		BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_NEGATIVE},
	{320,240,8500,832/2,640/2,696/2,752/2,832/2,509,480,481,484,509,3600/2,
		BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_NEGATIVE},

	// Settings for 400x300 (mode doubled 800x600):
	{400,300,6000,1056/2,800/2,840/2,968/2,1056/2,628,600,601,605,628,4000/2,
		BUFFER_HSYNC_POSITIVE,BUFFER_VSYNC_POSITIVE},
	{400,300,7200,1040/2,800/2,856/2,976/2,1040/2,666,600,637,643,666,5000/2,
		BUFFER_HSYNC_POSITIVE,BUFFER_VSYNC_POSITIVE},
	{400,300,7500,1056/2,800/2,816/2,896/2,1056/2,625,600,601,604,625,4950/2,
		BUFFER_HSYNC_POSITIVE,BUFFER_VSYNC_POSITIVE},
	{400,300,8500,1048/2,800/2,832/2,896/2,1048/2,631,600,601,604,631,5625/2,
		BUFFER_HSYNC_POSITIVE,BUFFER_VSYNC_POSITIVE},

	// Settings for 512x384 (mode doubled 1024x768):
	{512,384,6000,1344/2,1024/2,1048/2,1184/2,1344/2,806,768,771,777,806,6500/2,
		BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_NEGATIVE},
	{512,384,7000,1328/2,1024/2,1048/2,1184/2,1328/2,806,768,771,777,806,7500/2,
		BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_NEGATIVE},
	{512,384,7500,1312/2,1024/2,1040/2,1136/2,1312/2,800,768,769,772,800,7875/2,
		BUFFER_HSYNC_POSITIVE,BUFFER_VSYNC_POSITIVE},
	{512,384,8500,1376/2,1024/2,1072/2,1168/2,1376/2,808,768,769,772,808,9450/2,
		BUFFER_HSYNC_POSITIVE,BUFFER_VSYNC_POSITIVE},

    // Settings for 640x400:
    //  NOTE: There is no 60Hz 640x400, so use 70Hz if anyone wants 60Hz
    {640,400,6000,800,640,656,752,288,449,400,412,414,449,2518,
    	BUFFER_HSYNC_POSITIVE,BUFFER_VSYNC_NEGATIVE},
    {640,400,7000,800,640,656,752,288,449,400,412,414,449,2518,
    	BUFFER_HSYNC_POSITIVE,BUFFER_VSYNC_NEGATIVE},
    {640,400,8500,832,640,672,736,832,445,400,401,404,445,3150,
    	BUFFER_HSYNC_POSITIVE,BUFFER_VSYNC_NEGATIVE},

	// Settings for 640x480:
	{640,480,6000,800,648,656,752,792,525,488,490,492,517,2518,
		BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_NEGATIVE},
	{640,480,7200,832,648,664,704,824,520,488,489,492,512,3150,
		BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_NEGATIVE},
	{640,480,7500,840,640,656,720,840,500,480,481,484,500,3150,
		BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_NEGATIVE},
	{640,480,8500,832,640,696,752,832,509,480,481,484,509,3600,
		BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_NEGATIVE},

	// Settings for 800x600:
	{800,600,6000,1056,800,840,968,1056,628,600,601,605,628,4000,
		BUFFER_HSYNC_POSITIVE,BUFFER_VSYNC_POSITIVE},
	{800,600,7200,1040,800,856,976,1040,666,600,637,643,666,5000,
		BUFFER_HSYNC_POSITIVE,BUFFER_VSYNC_POSITIVE},
	{800,600,7500,1056,800,816,896,1056,625,600,601,604,625,4950,
		BUFFER_HSYNC_POSITIVE,BUFFER_VSYNC_POSITIVE},
	{800,600,8500,1048,800,832,896,1048,631,600,601,604,631,5625,
		BUFFER_HSYNC_POSITIVE,BUFFER_VSYNC_POSITIVE},

	// Settings for 1024x768:
	{1024,768,6000,1344,1024,1048,1184,1344,806,768,771,777,806,6500,
		BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_NEGATIVE},
	{1024,768,7000,1328,1024,1048,1184,1328,806,768,771,777,806,7500,
		BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_NEGATIVE},
	{1024,768,7500,1312,1024,1040,1136,1312,800,768,769,772,800,7875,
		BUFFER_HSYNC_POSITIVE,BUFFER_VSYNC_POSITIVE},
	{1024,768,8500,1376,1024,1072,1168,1376,808,768,769,772,808,9450,
		BUFFER_HSYNC_POSITIVE,BUFFER_VSYNC_POSITIVE},

	// Settings for 1152x864:
	{1152,864,7500,1600,1152,1216,1344,1600,900,864,865,868,900,10800,
		BUFFER_HSYNC_POSITIVE,BUFFER_VSYNC_POSITIVE},

	// Settings for 1280x1024:
	{1280,1024,6000,1688,1280,1328,1440,1688,1066,1024,1025,1028,1066,10800,
		BUFFER_HSYNC_POSITIVE,BUFFER_VSYNC_POSITIVE},
	{1280,1024,7500,1688,1280,1296,1440,1688,1066,1024,1025,1028,1066,13500,
		BUFFER_HSYNC_POSITIVE,BUFFER_VSYNC_POSITIVE},
	{1280,1024,8500,1728,1280,1344,1504,1728,1072,1024,1025,1028,1072,15750,
		BUFFER_HSYNC_POSITIVE,BUFFER_VSYNC_POSITIVE},

    // Settings for 1600x1024 (OEM requested version of 76Hz)
    {1600,1024,7600,2096,1600,1632,1792,2096,1070,1024,1027,1030,1070,17045,
        BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_NEGATIVE},

	// Settings for 1600x1200:
	{1600,1200,6000,2160,1600,1664,1856,2160,1250,1200,1201,1204,1250,16200,
		BUFFER_HSYNC_POSITIVE,BUFFER_VSYNC_POSITIVE},
	{1600,1200,6500,2160,1600,1664,1856,2160,1250,1200,1201,1204,1250,17550,
		BUFFER_HSYNC_POSITIVE,BUFFER_VSYNC_POSITIVE},
	{1600,1200,7000,2160,1600,1664,1856,2160,1250,1200,1201,1204,1250,18900,
		BUFFER_HSYNC_POSITIVE,BUFFER_VSYNC_POSITIVE},
	{1600,1200,7500,2160,1600,1664,1856,2160,1250,1200,1201,1204,1250,20250,
		BUFFER_HSYNC_POSITIVE,BUFFER_VSYNC_POSITIVE},
	{1600,1200,8500,2160,1600,1664,1856,2160,1250,1200,1201,1204,1250,22950,
		BUFFER_HSYNC_POSITIVE,BUFFER_VSYNC_POSITIVE},

    // Settings for 1920x1200 (OEM requested version of 76Hz)
    {1920,1200,7600,2584,1920,1984,2240,2584,1250,1200,1203,1206,2584,24548,
        BUFFER_HSYNC_NEGATIVE,BUFFER_VSYNC_NEGATIVE}
};

// This function scans the GTF table for the requested resolution/refresh rate
// and returns the timing values for it.
unsigned int vesaGetGTFTimings
(
    unsigned int hRes,
    unsigned int vRes,
    unsigned int refreshRate,
    MODE_TIMING_VALUES * timingInfo
)
{
    unsigned int numEntries;
    unsigned int i;

    // Check for the multi-mon modes.
    if (MULTIMON_MODE(hRes, vRes)) 
       {
       if (HORIZONTAL_MODE(hRes, vRes))
          {
          hRes /= 2;
          }
       else
          {
          if (VERTICAL_MODE(hRes, vRes))
             {
             vRes /= 2;
             }
          }
       }


    // For each mode, there are 12 (unsigned int) timing values
    numEntries = sizeof(GTFTimingTable) / (sizeof(unsigned int) * 12);

    // refresh rate is in terms of Hz * 100 in the table.
    refreshRate *= 100;

    for (i = 0; i < numEntries; i++)
    {
        if (GTFTimingTable[i][0] == hRes &&
            GTFTimingTable[i][1] == vRes &&
            GTFTimingTable[i][2] == refreshRate)
        {
            // Found the mode we want.
            // Copy the timing values.
            // NOTE: GTF Timings dictate no borders, so Blank Start == Visible and
            // Blank End == Total.
            timingInfo->HorizontalVisible       = GTFTimingTable[i][0]; 
            timingInfo->VerticalVisible         = GTFTimingTable[i][1];
            timingInfo->Refresh                 = GTFTimingTable[i][2];
            timingInfo->HorizontalTotal         = GTFTimingTable[i][3]; 
            timingInfo->HorizontalBlankStart    = timingInfo->HorizontalVisible; 
            timingInfo->HorizontalRetraceStart  = GTFTimingTable[i][4]; 
            timingInfo->HorizontalRetraceEnd    = GTFTimingTable[i][5]; 
            timingInfo->HorizontalBlankEnd      = timingInfo->HorizontalTotal;
            timingInfo->VerticalTotal           = GTFTimingTable[i][6]; 
            timingInfo->VerticalBlankStart      = timingInfo->VerticalVisible; 
            timingInfo->VerticalRetraceStart    = GTFTimingTable[i][7]; 
            timingInfo->VerticalRetraceEnd      = GTFTimingTable[i][8]; 
            timingInfo->VerticalBlankEnd        = timingInfo->VerticalTotal;
            timingInfo->PixelClock              = GTFTimingTable[i][9];
            timingInfo->HSyncpolarity           = GTFTimingTable[i][10]; 
            timingInfo->VSyncpolarity           = GTFTimingTable[i][11]; 

            // return success.
            return 0;
        } // found the matching mode
    } // loop over all the modes in the table

    // Did not find the specifed resolution/refresh rate conbination.
    return 1;
} // end of vesaGetGTFTimings

// This function scans the DMT table for the requested resolution/refresh rate
// and returns the timing values for it.
unsigned int vesaGetDMTTimings
(
    unsigned int hRes,
    unsigned int vRes,
    unsigned int refreshRate,
    MODE_TIMING_VALUES * timingInfo
)
{
    unsigned int numEntries;
    unsigned int i;

    // Check for the multi-mon modes.
    if (MULTIMON_MODE(hRes, vRes)) 
       {
       if (HORIZONTAL_MODE(hRes, vRes))
          {
          hRes /= 2;
          }
       else
          {
          if (VERTICAL_MODE(hRes, vRes))
             {
             vRes /= 2;
             }
          }
       }

    // For each mode, there are 16 (unsigned int) timing values
    numEntries = sizeof(DMTTimingTableNT) / (sizeof(unsigned int) * 16);

    // refresh rate is in terms of Hz * 100 in the table.
    refreshRate *= 100;

    for (i = 0; i < numEntries; i++)
    {
        if (DMTTimingTableNT[i][0] == hRes &&
            DMTTimingTableNT[i][1] == vRes &&
            DMTTimingTableNT[i][2] == refreshRate)
        {
            // Found the mode we want.
            // Copy the timing values.
            timingInfo->HorizontalVisible       = DMTTimingTableNT[i][0]; 
            timingInfo->VerticalVisible         = DMTTimingTableNT[i][1];
            timingInfo->Refresh                 = DMTTimingTableNT[i][2];
            timingInfo->HorizontalTotal         = DMTTimingTableNT[i][3]; 
            // timingInfo->HorizontalBlankStart    = DMTTimingTableNT[i][4]; 
            timingInfo->HorizontalBlankStart    = timingInfo->HorizontalVisible; 
            timingInfo->HorizontalRetraceStart  = DMTTimingTableNT[i][5]; 
            timingInfo->HorizontalRetraceEnd    = DMTTimingTableNT[i][6]; 
            // timingInfo->HorizontalBlankEnd      = DMTTimingTableNT[i][7];
            timingInfo->HorizontalBlankEnd      = timingInfo->HorizontalBlankStart
                            + (timingInfo->HorizontalTotal - DMTTimingTableNT[i][7]);
            timingInfo->VerticalTotal           = DMTTimingTableNT[i][8]; 
            // timingInfo->VerticalBlankStart      = DMTTimingTableNT[i][9]; 
            timingInfo->VerticalBlankStart      = timingInfo->VerticalVisible; 
            timingInfo->VerticalRetraceStart    = DMTTimingTableNT[i][10]; 
            timingInfo->VerticalRetraceEnd      = DMTTimingTableNT[i][11]; 
            // timingInfo->VerticalBlankEnd        = DMTTimingTableNT[i][12];
            timingInfo->VerticalBlankEnd        = timingInfo->VerticalBlankStart 
                            + (timingInfo->VerticalTotal - DMTTimingTableNT[i][12]);
            timingInfo->PixelClock              = DMTTimingTableNT[i][13];
            timingInfo->HSyncpolarity           = DMTTimingTableNT[i][14]; 
            timingInfo->VSyncpolarity           = DMTTimingTableNT[i][15]; 

            // success.
            return 0;
        } // found the matching mode
    } // loop over all the modes in the table

    // Did not find the specifed resolution/refresh rate conbination.
    return 1;
} // end of vesaGetDMTTimings


// This function simply returns the number of entries in the GTF table
// 

unsigned int vesaGetNumGTFEntries
(
void
)
{
    unsigned int numEntries;

    // For each mode, there are 12 (unsigned int) timing values
    numEntries = sizeof(GTFTimingTable) / (sizeof(unsigned int) * 12);

    return(numEntries);
}


