//
// modedata.c - Data tables used for setting extended VESA modes.
//
// Copyright (c) 1997 - NVidia Corporation. All Rights Reserved.
//

#ifdef DOS_COMPILE
#include    <stdio.h>
#include    "modes.h"
#endif // DOS_COMPILE

//  Basic VGA mode. This setup is used initially in all mode sets.
VGATBL   vga_tbl[] =
{
    // U008   columns;
    // U008   rows;
    // U008   char_height;
    // U016  RegenLenght;
    // SEQ     seq_regs;              // SR1-4
    // U008   PT_Misc;               // Misc Register
    // CRTC    crtc_regs;             // CR0-18
    // U008   PT_ATC[20];            // Attribute Controller
    // GR      gr_regs;               // GR0-8

    // Basic CRTC Table for Packed Pixel Graphics Modes.
    {0x50, 0x1D, 0x10,
     0xFFFF,
    {0x01, 0x0F, 0x00, 0x0E},               // Seq
     0xEB,
    {0x5F, 0x4F, 0x4F, 0x83, 0x53, 0x9F,    // CR0-18
     0x0B, 0x3E, 0x00, 0x40, 0x00, 0x00,
     0x00, 0x00, 0x00, 0x00, 0xEA, 0x0C,
     0xDF, 0x50, 0x00, 0xDF, 0x0C, 0xE3,
     0xFF},
     0x00, 0x01, 0x02, 0x03, 0x04, 0x05,    // Attr
     0x06, 0x07, 0x08, 0x09, 0x0A, 0x0B,
     0x0C, 0x0D, 0x0E, 0x0F, 0x01, 0x00,
     0x0F, 0x00,
    {0x00, 0x00, 0x00, 0x00, 0x00, 0x40,    // GR
     0x05, 0x0F, 0xFF}
    },
     
    // Basic CRTC Table for Planar Graphics Modes.
    // We never use this! (ported this code from BIOS)
    {0x50, 0x1D, 0x10,
     0xA000,
    {0x01, 0x0F, 0x00, 0x06},
     0xE3,
    {0x5F, 0x4F, 0x50, 0x82, 0x54, 0x80,
     0x0B, 0x3E, 0x00, 0x40, 0x00, 0x00,
     0x00, 0x00, 0x00, 0x00, 0xEA, 0x8C,
     0xDF, 0x28, 0x00, 0xE7, 0x04, 0xE3,
     0xFF},
     0x00, 0x01, 0x02, 0x03, 0x04, 0x05,
     0x14, 0x07, 0x38, 0x39, 0x3A, 0x3B,
     0x3C, 0x3D, 0x3E, 0x3F, 0x01, 0x00,
     0x0F, 0x00,
    {0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
     0x05, 0x0F, 0xFF}
    }
};   


//  Mode Information Block
//  This is the starting point for a mode set (after vga_tbl). 
//  This shows which crtc_override and e_regs (extended register) table to use.
//  This is converted from the BIOS, and therefore has some unused fields.

//  define some special cases
#define TV_MODE_320x200 0
#define TV_MODE_320x240 1
#define TV_MODE_320x400 2
#define TV_MODE_400x300 3
#define TV_MODE_480x360 4
#define TV_MODE_512x384 5
#define TV_MODE_640x480 6   // tv_modetbl entry for 640x480

MODEDESC mib[] =             // Our Mode List
{                                       
//    +------- vmode                                max DCLK     ------+
//    |      +----- imode                           row offset   -----+|
//    |      |      +----- std_modetbl              y resolution ----+||
//    |      |      |      +----- ext_modetbl       x resolution ---+|||
//    |      |      |      |     +----- tv_modetbl                  ||||
//    |      |      |      |     |     +----- crtc_override         ||||
//    |      |      |      |     |     |     +----- bits per pixel  ||||
//    |      |      |      |     |     |     |    +-----------------+|||
//    |      |      |      |     |     |     |    |     +------------+||
//    |      |      |      |     |     |     |    |     |     +-------+|
//    |      |      |      |     |     |     |    |     |     |    +---+
//    V      V      V      V     V     V     V    V     V     V    V    
    {0x100, 0x5B, PACKED, 0x11, 0x06, 0x06,  8,  640,  400,  640, MAX_DCLK},  // Mode 100 - 640x400    8bpp
    {0x101, 0x5F, PACKED, 0x01, 0x07, 0xFF,  8,  640,  480,  640, MAX_DCLK},  // Mode 101 - 640x480    8bpp
//    {0x102, 0x58, PLANAR, 0x02, 0x03, 0x07,  4,  800,  600,  100, MAX_ATC },  // Mode 102 - 800x600    4bpp
//    {0x102, 0x6A, PLANAR, 0x02, 0x03, 0x07,  4,  800,  600,  100, MAX_ATC },  // Mode  6A - 800x600    4bpp
    {0x103, 0x5C, PACKED, 0x03, 0x08, 0x08,  8,  800,  600,  800, MAX_DCLK},  // Mode 103 - 800x600    8bpp
//    {0x104, 0x5D, PLANAR, 0x04, 0x03, 0x0A,  4, 1024,  768, 1024, MAX_ATC },  // Mode 104 - 1024x768   4bpp
    {0x105, 0x5E, PACKED, 0x05, 0xff, 0x0B,  8, 1024,  768, 1024, MAX_DCLK},  // Mode 105 - 1024x768   8bpp
//    {0x106, 0x5A, PLANAR, 0x06, 0x03, 0x0D,  4, 1280, 1024,  160, MAX_ATC },  // Mode 106 - 1280x1024  4bpp
    {0x107, 0x6B, PACKED, 0x07, 0xff, 0x0E,  8, 1280, 1024, 1280, MAX_DCLK},  // Mode 107 - 1280x1024  8bpp
    {0x10E, 0x78, PACKED, 0x0D, 0x00, 0x00, 16,  320,  200,  640, MAX_DCLK},  // Mode 10E - 320x200   16bpp
    {0x10F, 0x20, PACKED, 0x12, 0x00, 0x00, 32,  320,  200, 1280, MAX_DCLK},  // Mode 10F - 320x200 32bpp
    {0x111, 0x6E, PACKED, 0x0E, 0x07, 0xFF, 16,  640,  480, 1280, MAX_DCLK},  // Mode 111 - 640x480 16bpp
    {0x112, 0x21, PACKED, 0x19, 0x07, 0xFF, 32,  640,  480, 2560, MAX_DCLK},  // Mode 112 - 640x480 32bpp
    {0x114, 0x6F, PACKED, 0x0F, 0x08, 0x08, 16,  800,  600, 1600, MAX_DCLK},  // Mode 114 - 800x600 16bpp
    {0x115, 0x22, PACKED, 0x1A, 0x08, 0x08, 32,  800,  600, 3200, MAX_DCLK},  // Mode 115 - 800x600 32bpp
    {0x117, 0x72, PACKED, 0x10, 0xff, 0x0B, 16, 1024,  768, 2048, MAX_DCLK},  // Mode 117 - 1024x768 16bpp
    {0x118, 0x3F, PACKED, 0x1C, 0xff, 0x0B, 32, 1024,  768, 4096, MAX_DCLK},  // Mode 118 - 1024x768 32bpp
    {0x11A, 0x44, PACKED, 0x2F, 0xff, 0x0E, 16, 1280, 1024, 2560, MAX_DCLK},  // Mode 11A - 1280x1024 16bbp
    {0x130, 0x30, PACKED, 0x1E, 0x00, 0x00,  8,  320,  200,  320, MAX_DCLK},  // Mode 130 - 320x200  8bbp
    {0x131, 0x31, PACKED, 0x1F, 0x02, 0x02,  8,  320,  400,  320, MAX_DCLK},  // Mode 131 - 320x400 8bpp
    {0x132, 0x32, PACKED, 0x27, 0x02, 0x02, 16,  320,  400,  640, MAX_DCLK},  // Mode 132 - 320x400 16bpp
    {0x133, 0x33, PACKED, 0x13, 0x02, 0x02, 32,  320,  400, 1280, MAX_DCLK},  // Mode 133 - 320x400 32bpp
    {0x134, 0x34, PACKED, 0x20, 0x01, 0x01,  8,  320,  240,  320, MAX_DCLK},  // Mode 134 - 320x240 8bpp
    {0x135, 0x35, PACKED, 0x28, 0x01, 0x01, 16,  320,  240,  640, MAX_DCLK},  // Mode 135 - 320x240 16
    {0x136, 0x36, PACKED, 0x14, 0x01, 0x01, 32,  320,  240, 1280, MAX_DCLK},  // Mode 136 - 320x240 32
    {0x137, 0x37, PACKED, 0x21, 0x03, 0x03,  8,  400,  300,  400, MAX_DCLK},  // Mode 137 - 400x300 8
    {0x138, 0x38, PACKED, 0x29, 0x03, 0x03, 16,  400,  300,  800, MAX_DCLK},  // Mode 138 - 400x300 16
    {0x139, 0x39, PACKED, 0x15, 0x03, 0x03, 32,  400,  300, 1600, MAX_DCLK},  // Mode 139 - 400x300 32
    {0x13A, 0x3A, PACKED, 0x23, 0x05, 0x05,  8,  512,  384,  512, MAX_DCLK},  // Mode 13A - 512x384 8
    {0x13B, 0x3B, PACKED, 0x2B, 0x05, 0x05, 16,  512,  384, 1024, MAX_DCLK},  // Mode 13B - 512x384 16
    {0x13C, 0x3C, PACKED, 0x17, 0x05, 0x05, 32,  512,  384, 2048, MAX_DCLK},  // Mode 13C - 512x384 32
    {0x13D, 0x3D, PACKED, 0x2C, 0x06, 0x06, 16,  640,  400, 1280, MAX_DCLK},  // Mode 13D - 640x400 16
    {0x13E, 0x3E, PACKED, 0x18, 0x06, 0x06, 32,  640,  400, 2560, MAX_DCLK},  // Mode 13E - 640x400 32
    {0x141, 0x41, PACKED, 0x25, 0xff, 0x0C,  8, 1152,  864, 1152, MAX_DCLK},  // Mode 141 - 1152x864 8
    {0x142, 0x42, PACKED, 0x2E, 0xff, 0x0C, 16, 1152,  864, 2304, MAX_DCLK},  // Mode 142 - 1152x864 16
    {0x143, 0x43, PACKED, 0x1D, 0xff, 0x0C, 32, 1152,  864, 4608, MAX_DCLK},  // Mode 143 - 1152x864 32
    {0x145, 0x45, PACKED, 0x26, 0xFF, 0x0F,  8, 1600, 1200, 1600, MAX_DCLK},  // Mode 145 - 1600x1200 8
    {0x146, 0x46, PACKED, 0x30, 0xFF, 0x0F, 16, 1600, 1200, 3200, MAX_DCLK},  // Mode 146 - 1600x1200 16
    // more TV modes?
    {0x147, 0x47, PACKED, 0x22, 0x04, 0x04,  8,  480,  360,  480, MAX_DCLK},  // Mode 147 - 480x360 8
    {0x148, 0x48, PACKED, 0x2A, 0x04, 0x04, 16,  480,  360,  960, MAX_DCLK},  // Mode 148 - 480x360 16
    {0x149, 0x49, PACKED, 0x16, 0x04, 0x04, 32,  480,  360, 1920, MAX_DCLK},  // Mode 149 - 480x360 32
    {0x14A, 0x4A, PACKED, 0x24, 0xff, 0x09,  8,  960,  720,  960, MAX_DCLK},  // Mode 14A - 960x720 8
    {0x14B, 0x4B, PACKED, 0x2D, 0xff, 0x09, 16,  960,  720, 1920, MAX_DCLK},  // Mode 14B - 960x720 16
    {0x14C, 0x4C, PACKED, 0x1B, 0xff, 0x09, 32,  960,  720, 3840, MAX_DCLK},  // Mode 14C - 960x720 32
    {0x14D, 0x4D, PACKED, 0x31, 0xff, 0x0E, 32, 1280, 1024, 5120, MAX_DCLK},  // Mode 14D - 1280x1024 32
    {0x14E, 0x4E, PACKED, 0x32, 0xFF, 0x0F, 32, 1600, 1200, 6400, MAX_DCLK},  // Mode 14E - 1600x1200 32

	// JJV - New Modes
    {0x14F, 0x80, PACKED, 0x33, 0xFF, 0x10,  8, 1800, 1440, 1800, MAX_DCLK},    // Mode 14F - 1800x1440 8
    {0x150, 0x81, PACKED, 0x34, 0xFF, 0x11, 16, 1800, 1440, 3600, MAX_DCLK},    // Mode 150 - 1800x1440 16
    {0x151, 0x82, PACKED, 0x35, 0xFF, 0x12,  8, 1920, 1080, 1920, MAX_DCLK},    // Mode 151 - 1920x1080 8
    {0x152, 0x83, PACKED, 0x36, 0xFF, 0x13, 16, 1920, 1080, 3840, MAX_DCLK},    // Mode 152 - 1920x1080 16
    {0x153, 0x84, PACKED, 0x37, 0xFF, 0x14, 32, 1920, 1080, 7680, MAX_DCLK},    // Mode 153 - 1920x1080 32
    {0x154, 0x85, PACKED, 0x38, 0xFF, 0x15,  8, 1920, 1200, 1920, MAX_DCLK},    // Mode 154 - 1920x1200 8
    {0x155, 0x86, PACKED, 0x39, 0xFF, 0x16, 16, 1920, 1200, 3840, MAX_DCLK},    // Mode 155 - 1920x1200 16
    {0x156, 0x87, PACKED, 0x3A, 0xFF, 0x17, 32, 1920, 1200, 7680, MAX_DCLK},    // Mode 156 - 1920x1200 32
    
    {0x157, 0x88, PACKED, 0x3B, 0xFF, 0x18, 32, 1800, 1440, 1800, MAX_DCLK},    // Mode 157 - 1800x1440 32
    {0x158, 0x89, PACKED, 0x3C, 0xFF, 0x19,  8, 2048, 1536, 2048, MAX_DCLK},    // Mode 158 - 2048x1536 8
    {0x159, 0x8A, PACKED, 0x3D, 0xFF, 0x1A, 16, 2048, 1536, 2048, MAX_DCLK},    // Mode 159 - 2048x1536 16
    {0x15A, 0x8B, PACKED, 0x3E, 0xFF, 0x1B, 32, 2048, 1536, 2048, MAX_DCLK},    // Mode 15A - 2048x1536 32
    // JJV - New Modes

    {0xFFFF,0xFF, 0xFF,   0xFF, 0xFF, 0xFF,  0,    0,    0,    0, 0}          // List Terminator
};                                 

//  Table of extended (NV only) CRTC registers
//  The data is in packed format (bits from several regs combined in each byte)
//
//  Array of xrFlags, xrOffset, xrVOver, xrPixFmt, xrVOffset, xrIntlace, xrRegenLength,
//  xrClkSel.  See MODES.H for bit definitions.
//
EXTREGS eregs[] =    // Extended Register Tables
{                                      
    {0x49, 0x00, 0x20, 0x30, 0xFF, 0xFF, 0x0000, CLKID_25_175}, // 00: VGA Modes	  00:
    {0x4C, 0x00, 0x20, 0x39, 0x50, 0xFF, 0xFFFF, CLKID_25_175}, // 08: Mode 5F/101	  01:
    {0x48, 0x00, 0x20, 0x30, 0x32, 0xFF, 0xFA00, CLKID_40},     // 09: Mode 58/6A/102 02:
    {0x4C, 0x00, 0x20, 0x39, 0x64, 0xFF, 0xFFFF, CLKID_40},     // 0A: Mode 5C/103	  03:
    {0x48, 0x00, 0x20, 0x30, 0x40, 0xFF, 0xFFFF, CLKID_65},     // 0B: Mode 5D/104	  04:
    {0x4C, 0x00, 0x20, 0x39, 0x80, 0xFF, 0xFFFF, CLKID_65},     // 0C: Mode 5E/105	  05:
    {0x08, 0x00, 0x15, 0x30, 0x50, 0xFF, 0xFFFF, CLKID_108_5},  // 0F: Mode 5A/106	  06:
    {0x0C, 0x00, 0x15, 0x39, 0xA0, 0xFF, 0xFFFF, CLKID_108_5},  // 10: Mode 6B/107	  07:
    {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0000, 0x00},         // Text - unused mode 08:                             
    {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0000, 0x00},         // Text - unused mode 09:                             
    {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0000, 0x00},         // Text - unused mode 0A:                             
    {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0000, 0x00},         // Text - unused mode 0B:                             
    {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0000, 0x00},         // Text - unused mode 0C:                             
    {0x44, 0x80, 0x20, 0x3A, 0x50, 0xFF, 0xFFFF, CLKID_12_588}, // 22: Mode 78		  0D:
    {0x44, 0x80, 0x20, 0x3A, 0xA0, 0xFF, 0xFFFF, CLKID_25_175}, // 23: Mode 6E		  0E:
    {0x44, 0x80, 0x20, 0x3A, 0xC8, 0xFF, 0xFFFF, CLKID_40},     // 24: Mode 6F		  0F:
    {0x54, 0x81, 0x20, 0x3A, 0x00, 0xFF, 0xFFFF, CLKID_65},     // 25: Mode 72		  10:
    {0x4C, 0x00, 0x20, 0x39, 0x50, 0xFF, 0xFFFF, CLKID_25_175}, // 26: Mode 5B		  11:
    {0x44, 0x00, 0x20, 0x3B, 0xA0, 0xFF, 0xFFFF, CLKID_12_588}, // 27: Mode 20		  12:
    {0x44, 0x00, 0x20, 0x3B, 0xA0, 0xFF, 0xFFFF, CLKID_12_588}, // 27: Mode 20		  13:
    {0x44, 0x00, 0x20, 0x3B, 0xA0, 0xFF, 0xFFFF, CLKID_12_588}, // 27: Mode 20		  14:
    {0x44, 0x00, 0x20, 0x3B, 0xC8, 0xFF, 0xFFFF, CLKID_20},     // 27: Mode 20		  15:
    {0x44, 0x00, 0x20, 0x3B, 0xF0, 0xFF, 0xFFFF, CLKID_27_93},  // 25: Mode 72		  16:
    {0x54, 0x01, 0x20, 0x3B, 0x00, 0xFF, 0xFFFF, CLKID_32_5},   // 25: Mode 72		  17:
    {0x54, 0x01, 0x20, 0x3B, 0x40, 0xFF, 0xFFFF, CLKID_25_175}, // 26: Mode 5B		  18:
    {0x54, 0x01, 0x20, 0x3B, 0x40, 0xFF, 0xFFFF, CLKID_25_175}, // 28: Mode 21		  19:
    {0x54, 0x01, 0x20, 0x3B, 0x90, 0xFF, 0xFFFF, CLKID_40},     // 29: Mode 22		  1A:
    {0x54, 0x01, 0x20, 0x3B, 0xE0, 0xFF, 0xFFFF, CLKID_55_86},  // 25: Mode 72		  1B:
    {0x64, 0x02, 0x20, 0x3B, 0x00, 0xFF, 0xFFFF, CLKID_65},     // 25: Mode 72		  1C:
    {0x24, 0x02, 0x20, 0x3B, 0x40, 0xFF, 0xFFFF, CLKID_81_62},  // 25: Mode 72		  1D:
    {0x4C, 0x00, 0x20, 0x39, 0x28, 0xFF, 0x4000, CLKID_12_588}, // 27: Mode 20		  1E:
    {0x4C, 0x00, 0x20, 0x39, 0x28, 0xFF, 0x8000, CLKID_12_588}, // 27: Mode 20		  1F:
    {0x4C, 0x00, 0x20, 0x39, 0x28, 0xFF, 0x5000, CLKID_12_588}, // 27: Mode 20		  20:
    {0x4C, 0x00, 0x20, 0x39, 0x32, 0xFF, 0x8000, CLKID_20},     // 27: Mode 20		  21:
    {0x4C, 0x00, 0x20, 0x39, 0x3C, 0xFF, 0xB000, CLKID_27_93},  // 25: Mode 72		  22:
    {0x4C, 0x00, 0x20, 0x39, 0x40, 0xFF, 0xD000, CLKID_32_5},   // 25: Mode 72		  23:
    {0x4C, 0x00, 0x20, 0x39, 0x78, 0xFF, 0xFFFF, CLKID_55_86},  // 0C: Mode 5E/105	  24:
    {0x0C, 0x00, 0x20, 0x39, 0x90, 0xFF, 0xFFFF, CLKID_81_62},  // 25: Mode 72		  25:
    {0x0C, 0x00, 0x0F, 0x79, 0xC8, 0xFF, 0xFFFF, CLKID_158},    // 25: Mode 72		  26:
    {0x44, 0x80, 0x20, 0x3A, 0x50, 0xFF, 0xFFFF, CLKID_12_588}, // 27: Mode 20		  27:
    {0x44, 0x80, 0x20, 0x3A, 0x50, 0xFF, 0xA000, CLKID_12_588}, // 27: Mode 20		  28:
    {0x44, 0x80, 0x20, 0x3A, 0x64, 0xFF, 0xF000, CLKID_20},     // 27: Mode 20		  29:
    {0x44, 0x80, 0x20, 0x3A, 0x78, 0xFF, 0xFFFF, CLKID_27_93},  // 25: Mode 72		  2A:
    {0x44, 0x80, 0x20, 0x3A, 0x80, 0xFF, 0xFFFF, CLKID_32_5},   // 25: Mode 72		  2B:
    {0x44, 0x80, 0x20, 0x3A, 0xA0, 0xFF, 0xFFFF, CLKID_25_175}, // 26: Mode 5B		  2C:
    {0x44, 0x80, 0x20, 0x3A, 0xF0, 0xFF, 0xFFFF, CLKID_55_86},  // 25: Mode 72		  2D:
    {0x14, 0x81, 0x20, 0x3A, 0x20, 0xFF, 0xFFFF, CLKID_81_62},  // 25: Mode 72		  2E:
    {0x14, 0x81, 0x15, 0x3A, 0x40, 0xFF, 0xFFFF, CLKID_108_5},  // 10: Mode 6B/107	  2F:
    {0x14, 0x81, 0x0F, 0x7A, 0x90, 0xFF, 0xFFFF, CLKID_158},    // 25: Mode 72		  30:
    {0x24, 0x02, 0x15, 0x3B, 0x80, 0xFF, 0xFFFF, CLKID_108_5},  // 10: Mode 6B/107	  31:
    {0x24, 0x03, 0x0F, 0x7B, 0x20, 0xFF, 0xFFFF, CLKID_158},    // 25: Mode 72		  32:
																					  
	// JJV - New Modes (I think this starts at 0x33 ??)								  
    {0x0C, 0x40, 0x0F, 0x79, 0xE1, 0xFF, 0xFFFF, CLKID_219_566}, // 33: 1800X1440X8	  
    {0x0C, 0x41, 0x0F, 0x7A, 0xC2, 0xFF, 0xFFFF, CLKID_219_566}, // 34: 1800X1440X16	  
    {0x0C, 0x40, 0x9F, 0x79, 0xF0, 0xFF, 0xFFFF, CLKID_172_798}, // 35: 1920X1080X8	  
    {0x0C, 0x41, 0x9F, 0x7A, 0xE0, 0xFF, 0xFFFF, CLKID_172_798}, // 36: 1920X1080X16	  
    {0x0C, 0x43, 0x9F, 0x7B, 0xC0, 0xFF, 0xFFFF, CLKID_172_798}, // 37: 1920X1080X32	  
    {0x0C, 0x40, 0x9F, 0x79, 0xF0, 0xFF, 0xFFFF, CLKID_193_156}, // 38: 1920X1200X8	  
    {0x0C, 0x41, 0x9F, 0x7A, 0xE0, 0xFF, 0xFFFF, CLKID_193_156}, // 39: 1920X1200X16	  
    {0x0C, 0x43, 0x9F, 0x7B, 0xC0, 0xFF, 0xFFFF, CLKID_193_156}, // 3A: 1920X1200X32	  
    {0x0C, 0x43, 0x9F, 0x7B, 0xC0, 0xFF, 0xFFFF, CLKID_219_566}, // 3B: 1800x1440x32
    {0x0C, 0x40, 0x9F, 0x79, 0xF0, 0xFF, 0xFFFF, CLKID_266_95},  // 3C: 2048x1536x8
    {0x0C, 0x41, 0x9F, 0x7A, 0xE0, 0xFF, 0xFFFF, CLKID_266_95},  // 3D: 2048x1536x16
    {0x0C, 0x43, 0x9F, 0x7B, 0xC0, 0xFF, 0xFFFF, CLKID_266_95}   // 3E: 2048x1536x32
	// JJV - New Modes																  
																					  
};                                             										  

//  Table of Std CRTC settings for all modes.
//
//  Array of override values for the following registers:
//  cols, rows, height, misc, SR1, CR00, CR01, CR02, CR03, CR04, CR05, CR06
//  CR07, CR09, CR10, CR11, CR12, CR15, CR16.
//
//  See MODES.H for bit definitions.
//
CRTC_OVERRIDE crt_override[] =       // Mode overide table for CRTC
{
    // 0. Mode 20h, 78h / VESA Mode 10Eh, 10Fh
    //    320x200 16-bit/32-bit color graphics
    { 0x28, 0x18, 0x08, 0x63, 0x01, 0x2D, 0x27, 0x27, 0x91, 0x2A, 0x9F,
      0xBF, 0x1F, 0xC0, 0x9C, 0x0E, 0x8F, 0x8F, 0xC0 },
      
    // 1. Mode 34h,35h,36h / VESA Mode 134h,135h,136h
    //       320x240 16-bit Color Graphics (8x8 font, 40x30 "Text")
    { 0x28, 0x1D, 0x08, 0xE3, 0x01, 0x2D, 0x27, 0x27, 0x91, 0x2A, 0x9F,
      0x0B, 0x3E, 0xC0, 0xEA, 0x0C, 0xDF, 0xDF, 0x0C },    
                                                      
    // 2. Mode 31h,32h,33h / VESA Mode 131h,132h,133h
    //    320x400 16-bit Color Graphics (8x16 font, 40x25 "Text")
    { 0x28, 0x18, 0x10, 0x63, 0x01, 0x2D, 0x27, 0x27, 0x91, 0x2A, 0x9F,
      0xBF, 0x1F, 0x40, 0x9C, 0x0E, 0x8F, 0x8F, 0xC0 },
      
    // 3. Mode 37h,38h,39h / VESA Mode 137h,138h,139h
    //       400x300 16-bit Color Graphics (8x8 font, 50x37 "Text")
    { 0x32, 0x24, 0x08, 0x2B, 0x01, 0x3D, 0x31, 0x31, 0x81, 0x35, 0x1D,
      0x72, 0xF0, 0xE0, 0x59, 0x0D, 0x57, 0x57, 0x73 },
                                                    
    // 4. Mode 72 / VESA Mode 117h / Internal Mode 25h
    //       480x360 16-bit Color Graphics (8x16 font, 128x48 "Text")
    { 0x3C, 0x2C, 0x08, 0xEB, 0x01, 0x49, 0x3B, 0x3B, 0x8D, 0x40, 0x08,
      0xE8, 0xF0, 0xE0, 0xD1, 0x04, 0xCF, 0xCF, 0xE9 },
                                                    
    // 5. Mode 3Ah,3Bh,3Ch / VESA Mode 13Ah,13Bh,13Ch
    //       512x384 16-bit Color Graphics (8x8 font, 64x48 "Text")
    { 0x40, 0x2F, 0x08, 0xEB, 0x01, 0x4F, 0x3F, 0x3F, 0x93, 0x43, 0x0B,
      0x24, 0xF5, 0xE0, 0x03, 0x09, 0xFF, 0xFF, 0x25 },
                                                    
    // 6. Mode 5Bh / VESA Mode 100h / Internal Mode 26h
    //       640x400 8-bit Color Graphics (8x16 font, 80x25 "Text")
    { 0x50, 0x18, 0x10, 0x63, 0x01, 0x5F, 0x4F, 0x4F, 0x83, 0x53, 0x9F,
      0xBF, 0x1F, 0x40, 0x9C, 0x0E, 0x8F, 0x8F, 0xC0 },
                                                    
    // 7. Internal Mode 9
    // Mode 58 / VESA Mode 6A / VESA Mode 102 800x600x4
    { 0x64, 0x24, 0x10, 0x2B, 0x01, 0x7F, 0x63, 0x63, 0x83, 0x6B, 0x1B,
      0x72, 0xF0, 0x60, 0x59, 0x0D, 0x57, 0x57, 0x73 },
                                                    
    // 8. Mode 6F / VESA Mode 114h / Internal Mode 24h
    //       800x600 16-bit Color Graphics (8x16 font, 100x37 "Text")
    { 0x64, 0x24, 0x10, 0x2B, 0x01, 0x7F, 0x63, 0x63, 0x83, 0x6A, 0x1A,
      0x72, 0xF0, 0x60, 0x59, 0x0D, 0x57, 0x57, 0x73 },
                                                    
    // 9. Mode 72 / VESA Mode 117h / Internal Mode 25h
    //       960x720 16-bit Color Graphics (8x16 font, 128x48 "Text")
    { 0x78, 0x2C, 0x10, 0xEB, 0x01, 0x97, 0x77, 0x77, 0x9B, 0x7F, 0x0B,
      0xE8, 0xF0, 0x60, 0xD1, 0x04, 0xCF, 0xCF, 0xE9 },
                                                    
    // A. Mode B
    // Mode 5D / VESA Mode 104 1024x768x4
    { 0x80, 0x2F, 0x10, 0xEB, 0x01, 0xA3, 0x7F, 0x7F, 0x87, 0x85, 0x96,
      0x24, 0xF5, 0x60, 0x03, 0x09, 0xFF, 0xFF, 0x25 },
                                                    
    // B. Mode 72 / VESA Mode 117h / Internal Mode 25h
    //       1024x768 16-bit Color Graphics (8x16 font, 128x48 "Text")
    { 0x80, 0x2F, 0x10, 0xEB, 0x01, 0xA3, 0x7F, 0x7F, 0x87, 0x84, 0x95,
      0x24, 0xF5, 0x60, 0x03, 0x09, 0xFF, 0xFF, 0x25 },
                                                    
    // C. Mode 41h/42h/43h / VESA Mode 141,142,143
    // 1152x864x16
    { 0x90, 0x35, 0x10, 0x2B, 0x01, 0xB9, 0x8F, 0x8F, 0x9D, 0x9A, 0x89,
      0x7D, 0xFF, 0x60, 0x61, 0x04, 0x5F, 0x5F, 0x7E },
                                                    
    // D. Internal Mode F
    // Mode 5A / VESA Mode 106 1280x1024x4
    { 0xA0, 0x3F, 0x10, 0x2B, 0x01, 0xCF, 0x9F, 0x9F, 0x93, 0xAA, 0x1A,
      0x28, 0x5A, 0x60, 0x01, 0x04, 0xFF, 0xFF, 0x29 },
                                                    
    // E. Internal Mode 10
    // Mode 6B / VESA Mode 107 1280x1024x8
    { 0xA0, 0x3F, 0x10, 0x2B, 0x01, 0xCF, 0x9F, 0x9F, 0x93, 0xA9, 0x19,
      0x28, 0x5A, 0x60, 0x01, 0x04, 0xFF, 0xFF, 0x29 },
                                                    
    // F. Mode 45h/46h / VESA Mode 145,146
    // 1600x1200x16
    { 0xC8, 0x4A, 0x10, 0x2B, 0x01, 0x03, 0xC7, 0xC7, 0x87, 0xD1, 0x09,
      0xE0, 0x10, 0x40, 0xB1, 0x04, 0xAF, 0xAF, 0xE1 },
         
    // JJV - Start                                                
    // 10. Mode ?
    // 1880x1440x8
    { 0xE1, 0x59, 0x10, 0x2B, 0x01, 0x2E, 0xE0, 0xE0, 0x92, 0xF2, 0x8B,
      0xD0, 0x1F, 0x40, 0xA1, 0x24, 0x9F, 0x9F, 0xD1 },
                                                    
    // 11. Mode ?
    // 1880x1440x16
    { 0xE1, 0x59, 0x10, 0x2B, 0x01, 0x2E, 0xE0, 0xE0, 0x92, 0xF2, 0x8B,
      0xD0, 0x1F, 0x40, 0xA1, 0x24, 0x9F, 0x9F, 0xD1 },
                                                    
    // 12. Mode ?
    // 1920x1080x8
    { 0xF0, 0x42, 0x10, 0x2B, 0x01, 0x3D, 0xEF, 0xEF, 0x81, 0x00, 0x1A,
      0x5C, 0x10, 0x40, 0x39, 0x2C, 0x37, 0x37, 0x5D },
                                                    
    // 13. Mode ?
    // 1920x1080x16
    { 0xF0, 0x42, 0x10, 0x2B, 0x01, 0x3D, 0xEF, 0xEF, 0x81, 0x00, 0x1A,
      0x5C, 0x10, 0x40, 0x39, 0x2C, 0x37, 0x37, 0x5D },
                                                    
    // 14. Mode ?
    // 1920x1080x32
    { 0xF0, 0x42, 0x10, 0x2B, 0x01, 0x3D, 0xEF, 0xEF, 0x81, 0x00, 0x1A,
      0x5C, 0x10, 0x40, 0x39, 0x2C, 0x37, 0x37, 0x5D },
                                                    
    // 15. Mode ?
    // 1920x1200x8
    { 0xF0, 0x4A, 0x10, 0x2B, 0x01, 0x3F, 0xEF, 0xEF, 0x83, 0x01, 0x1B,
      0xD8, 0x10, 0x40, 0xB0, 0x23, 0xAF, 0xAF, 0xD9 },
                                                    
    // 16. Mode ?
    // 1920x1200x16
    { 0xF0, 0x4A, 0x10, 0x2B, 0x01, 0x3F, 0xEF, 0xEF, 0x83, 0x01, 0x1B,
      0xD8, 0x10, 0x40, 0xB0, 0x23, 0xAF, 0xAF, 0xD9 },
      
    // 17. Mode ?
    // 1920x1200x32
    { 0xF0, 0x4A, 0x10, 0x2B, 0x01, 0x3F, 0xEF, 0xEF, 0x83, 0x01, 0x1B,
      0xD8, 0x10, 0x40, 0xB0, 0x23, 0xAF, 0xAF, 0xD9 },
      
    // 18. Mode ?
    // 1800x1440x32
    { 0xE1, 0x59, 0x10, 0x2B, 0x01, 0x3F, 0xEF, 0xEF, 0x83, 0x01, 0x1B,
      0xD8, 0x10, 0x40, 0xB0, 0x23, 0xAF, 0xAF, 0xD9 },
      
    // 19. Mode ?
    // 2048x1536x8
    { 0xFF, 0x5F, 0x10, 0x2B, 0x01, 0x3F, 0xEF, 0xEF, 0x83, 0x01, 0x1B,
      0xD8, 0x10, 0x40, 0xB0, 0x23, 0xAF, 0xAF, 0xD9 },
      
    // 1A. Mode ?
    // 2048x1536x16
    { 0xFF, 0x5F, 0x10, 0x2B, 0x01, 0x3F, 0xEF, 0xEF, 0x83, 0x01, 0x1B,
      0xD8, 0x10, 0x40, 0xB0, 0x23, 0xAF, 0xAF, 0xD9 },
      
    // 1B. Mode ?
    // 2048x1536x32
    { 0xFF, 0x5F, 0x10, 0x2B, 0x01, 0x3F, 0xEF, 0xEF, 0x83, 0x01, 0x1B,
      0xD8, 0x10, 0x40, 0xB0, 0x23, 0xAF, 0xAF, 0xD9 }
      
    // JJV - End
                                                    
};


//
// Fifo/Watermark settings (100MHz/100MHz operation)
//
//    Freq;                   // Maximum frequency for these water marks
//    LowWaterMark64;         // Low water mark for 64 bit bus
//    BurstSize64;            // Burst size for 64 bit bus
//    LowWaterMark128;        // Low water mark for 128 bit bus
//    BurstSize128;           // Burst size for 128 bit bus
MODESET_FIFO DACFifoTable[] =
{
    { 440, 0x20, 0x03, 0x20, 0x04 },
    { 460, 0x21, 0x03, 0x21, 0x04 },
    { 480, 0x23, 0x03, 0x23, 0x04 },
    { 500, 0x26, 0x03, 0x26, 0x04 },
    { 520, 0x27, 0x03, 0x27, 0x04 },
    { 540, 0x27, 0x03, 0x27, 0x04 },
    { 560, 0x29, 0x03, 0x29, 0x04 },
    { 580, 0x2b, 0x03, 0x2b, 0x04 },
    { 600, 0x2e, 0x03, 0x2e, 0x04 },
    { 620, 0x31, 0x03, 0x31, 0x04 },
    { 640, 0x32, 0x02, 0x32, 0x04 },
    { 660, 0x32, 0x02, 0x32, 0x04 },
    { 680, 0x33, 0x02, 0x33, 0x04 },
    { 700, 0x34, 0x02, 0x34, 0x04 },
    { 720, 0x36, 0x02, 0x36, 0x04 },
    { 740, 0x3a, 0x01, 0x3a, 0x04 },
    {0xFFFF, 0x3f, 0x01, 0x3f, 0x04 }       // max marker
};                                  

//
// Mode clock frequencies
//
U016 tblClockFreq[] =
{
    5035,       // 00: 50.350
    5664,       // 01: 56.644
    3325,       // 02: 33.250
    5200,       // 03: 52.000
    8000,       // 04: 80.000
    6300,       // 05: 63.000
    0000,       // 06: Ext
    7500,       // 07: 75.000 (1024x768@70)
    2518,       // 08: 25.175 (VGA)
    2832,       // 09: 28.322 (VGA)
    3150,       // 0A: 31.500 (640x480@72)
    3600,       // 0B: 36.000 (800x600@56)
    4000,       // 0C: 40.000 (800x600@60)
    4490,       // 0D: 44.900 (1024x768@87i)
    5000,       // 0E: 50.000 (800x600@72)
    6500,       // 0F: 65.000 (1024x768@60)
    10800,      // 10: 108.000/2 (1280x1024@60) use clock doubler
    13500,      // 11: 135.000/2 (1280x1024@75) use clock doubler
    4950,       // 12: 49.500
    5625,       // 13: 56.250
    7875,       // 14: 78.750
    9450,       // 15: 94.500
    10850,      // 16: 108.500/2 use clock doubler
    3550,       // 17: 35.500
    15800,      // 18: 158.000/2 use clock doubler
    5586,       // 19: 55.860
    2000,       // 1A: 20.000
    2793,       // 1B: 27.930
    3250,       // 1C: 32.500
    1259,       // 1D: 12.588 (VGA/2)
    8162,       // 1E: 81.624
    21957,		// 1F: 219.566
    17280,		// 20: 172.798
    19316,		// 21: 193.156
    22950,      // 22: 229.50 (for max dot clock)
    26695       // 23: 266.95
};

//
//  TV  register adjustments
//

//
//  NV4 TV CRTC adjustments for Chrontel
//
CH_ADJ CRTC_CH_NTSC[] =
{
//  SR01   CR00  CR04  CR06  CR07  CR08  CR10  CR12  CR25  CR28
    {0x09, 0x2b, 0x2a, 0x0c, 0x3e, 0x60, 0xc0, 0x8f, 0x00, 0x98},     // Mode 0 - 320x200
    {0x09, 0x2b, 0x2b, 0x3c, 0x3e, 0x60, 0xe4, 0xdf, 0x00, 0x88},     // Mode 1 - 320x240
    {0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff},     // Mode 2 - 320x400
    {0x09, 0x3d, 0x3d, 0x72, 0xf0, 0x00, 0x59, 0x57, 0x00, 0x80},     // Mode 3 - 400x300
    {0x01, 0x49, 0x40, 0x20, 0xB3, 0x00, 0x90, 0x67, 0x00, 0x80},     // Mode 4 - 480x360
//    {0x01, 0x4f, 0x43, 0x24, 0xf5, 0xff, 0xff, 0x00, 0x80},     // Mode 5 - 512x384
    {0x01, 0x58, 0x57, 0x3c, 0x3e, 0x00, 0xd0, 0x7f, 0x00, 0x80},     // Mode 5 - use 640x400 and adjust 9 and 12
    {0x01, 0x58, 0x57, 0x3c, 0x3e, 0x00, 0xd0, 0x8f, 0x00, 0x80},     // Mode 6 - 640x400
    {0x01, 0x58, 0x57, 0x3c, 0x3e, 0x00, 0xe4, 0xdf, 0x00, 0x80},     // Mode 7 - 640x480
    {0x01, 0x75, 0x6f, 0xb8, 0xf0, 0x00, 0x59, 0x57, 0x00, 0x80},     // Mode 8 - 800x600
};
//
CH_ADJ  CRTC_CH_PAL[] =
{
//  SR01   CR00  CR04  CR06  CR07  CR08  CR10  CR12  CR25  CR28
    {0x09, 0x2c, 0x28, 0x0c, 0x3e, 0x60, 0xc0, 0x8f, 0x00, 0x98},     // Mode 0 - 320x200
    {0x09, 0x2c, 0x28, 0x3c, 0x3e, 0x60, 0xe4, 0xdf, 0x00, 0x88},     // Mode 1 - 320x240
    {0xff, 0xff, 0xff, 0xff, 0xff, 0x00, 0xff, 0xff, 0xff, 0xff},     // Mode 2 - 320x400
    {0x09, 0x3d, 0x3d, 0xb0, 0xf0, 0x00, 0x57, 0x57, 0x00, 0x80},     // Mode 3 - 400x300
    {0x01, 0x49, 0x40, 0xf0, 0xB2, 0x00, 0x90, 0x67, 0x00, 0x80},     // Mode 4 - 480x360
//    {0x01, 0x4f, 0x43, 0x0b, 0xf5, 0xff, 0xff, 0x00, 0x80},     // Mode 5 - 512x384
    {0x01, 0x58, 0x57, 0x0e, 0x3e, 0x60, 0xc0, 0x7f, 0x00, 0x80},     // Mode 5 - 640x400, adjust 9 and 12
    {0x01, 0x58, 0x55, 0x0C, 0x3e, 0x00, 0xc0, 0x8f, 0x00, 0x80},     // Mode 6 - 640x400
    {0x01, 0x58, 0x55, 0x3c, 0x3e, 0x00, 0xe4, 0xdf, 0x00, 0x80},     // Mode 7 - 640x480
    {0x01, 0x75, 0x6a, 0xb8, 0xf0, 0x00, 0x59, 0x57, 0x00, 0x80},     // Mode 8 - 800x600
};
    
//
//  CRTC adjustments for Brooktree 
//
BT_ADJ    CRTC_BT[] =
{   
//   SR01  CR00  CR04  CR06  CR07  CR08  CR10  CR12
    {0x09, 0x2b, 0x26, 0x0c, 0x3e, 0x60, 0xc0, 0x8f},       // Mode 0 - 320x200
    {0x09, 0x2b, 0x26, 0x3c, 0x3e, 0x60, 0xe4, 0xdf},       // Mode 1 - 320x240
    {0x09, 0x2c, 0x29, 0x3c, 0x3e, 0x00, 0xe4, 0xdf},       // Mode 2 - 320x400
    {0x09, 0x3d, 0x3d, 0xb0, 0xf0, 0x00, 0x59, 0x57},       // Mode 3 - 400x300
    {0x01, 0x49, 0x40, 0xe4, 0xB2, 0x00, 0x90, 0x67},       // Mode 4 - 480x360
//    {0x01, 0x4f, 0x43, 0x24, 0xf5, 0x03, 0x7f},       // Mode 5 - 512x384 -- USE WHEN WE HAVE CORRECT 512X384 ENCODER VALUES
    {0x01, 0x57, 0x50, 0x0c, 0x3e, 0x00, 0xc0, 0x7f},       // Mode 5 - 640x400   -- USE 640X400 BECAUSE THE ENCODER IS PROGRAMMED
                                                      // FOR THIS MODE. THEN SET CR09 AND CR12 (CR12 IS ADJUSTED HERE)
    {0x01, 0x57, 0x50, 0x0c, 0x3e, 0x00, 0xc0, 0x8f},       // Mode 6 - 640x400
    {0x01, 0x5c, 0x53, 0x0b, 0x3e, 0x00, 0xbf, 0xdf},       // Mode 7 - 640x480
    {0x01, 0x72, 0x72, 0xb0, 0xf0, 0x00, 0x5b, 0x57},       // Mode 8 - 800x600
};    
BT_ADJ    CRTC_BT_PAL[] =
{   
//   SR01  CR00  CR04  CR06  CR07  CR08  CR10  CR12
    {0x09, 0x2d, 0x29, 0x0c, 0x3e, 0x60, 0xc0, 0x8f},       // Mode 0 - 320x200
    {0x09, 0x2d, 0x29, 0x3c, 0x3e, 0x60, 0xe4, 0xdf},       // Mode 1 - 320x240
    {0x09, 0x2c, 0x29, 0x3c, 0x3e, 0x00, 0xe4, 0xdf},       // Mode 2 - 320x400
    {0x09, 0x35, 0x35, 0xb4, 0xf0, 0x00, 0x59, 0x57},       // Mode 3 - 400x300
    {0x01, 0x49, 0x40, 0xe4, 0xB2, 0x00, 0x90, 0x67},       // Mode 4 - 480x360
//    {0x01, 0x4f, 0x43, 0x24, 0xf5, 0x03, 0x7f},       // Mode 5 - 512x384 -- USE WHEN WE HAVE CORRECT 512X384 ENCODER VALUES  
    {0x01, 0x57, 0x50, 0x0c, 0x3e, 0x00, 0xc0, 0x7f},       // Mode 5 - 640x400   -- USE 640X400 BECAUSE THE ENCODER IS PROGRAMMED
                                                      // FOR THIS MODE. THEN SET CR09 AND CR12 (CR12 IS ADJUSTED HERE)
    {0x01, 0x57, 0x50, 0x0c, 0x3e, 0x00, 0xc0, 0x8f},       // Mode 6 - 640x400
    {0x01, 0x57, 0x50, 0x3c, 0x3e, 0x00, 0xea, 0xdf},       // Mode 7 - 640x480
    {0x01, 0x76, 0x70, 0xb7, 0xf0, 0x00, 0x59, 0x57},       // Mode 8 - 800x600
};    

//
//  I2C tables
//

BT_string  BT_NULL_STRING =
{   0xff    };
I2C_string  NULL_STRING =
{   0xff    };

//
// Brooktree strings
//

//  Init string
U008    BT_Init[] = { 0x8A, 0xC4, 0x01, 0x98, 0x18, 0xC0, 0xC0, 0x18, 0xff };

//  First byte is device ID, followed by 3 bytes of centering data, followed by 00 01, followed by 33 bytes of 
//  resolution data, terminated by ff (not sent).
//  line/pixel doubled modes use the double resolution (e.g. 320x200 = 640x400)
//  NTSC
BT_string BT_NTSC320X200 =    
{   0X8A, 0x6e, 0x1f, 0x02,
    0x00, 0x01,
    0X30, 0X90, 0X88, 0X9A, 0X66, 0X87, 0X23, 0XD2, 0X27, 0X00, 0X98, 0XE7, 0X03, 0X0D, 0X44, 0XA0,
    0X36, 0X00, 0X50, 0XFC, 0XDD, 0X0C, 0X0A, 0XE5, 0X75, 0X79, 0X44, 0X85, 0XDF, 0XF4, 0XA6, 0X1F, 0X00, 
    0XFF
};
BT_string BT_NTSC320X240 =
{   0X8A, 0x6e, 0x8f, 0xc2,
    0x00, 0x01,
    0X20, 0X90, 0X86, 0X98, 0X64, 0X7F, 0X24, 0XD0, 0X27, 0X00, 0XF8, 0X5A, 0X02, 0X76, 0X53, 0XF0, 
    0X36, 0X66, 0X56, 0X58, 0XC1, 0X0C, 0X0A, 0XE5, 0X75, 0X79, 0X44, 0X85, 0XFC, 0X08, 0XEE, 0X1F, 0X00, 
    0XFF
};
BT_string BT_NTSC320X400 =    
{   0X8A, 0x6e, 0x1f, 0x02,
    0x00, 0x01,
    0X30, 0X90, 0X88, 0X9A, 0X66, 0X87, 0X23, 0XD2, 0X27, 0X00, 0X98, 0XE7, 0X03, 0X0D, 0X44, 0XA0,
    0X36, 0X00, 0X50, 0XFC, 0XDD, 0X0C, 0X0A, 0XE5, 0X75, 0X79, 0X44, 0X85, 0XDF, 0XF4, 0XA6, 0X1F, 0X00, 
    0XFF
};
//  400x300 = 800x600
BT_string BT_NTSC400X300 =
{   0X8A, 0x6e, 0x8f, 0xc2,
    0x00, 0x01,
    0xA0, 0x20, 0xB6, 0xCE, 0xB4, 0x55, 0x20, 0xD8, 0x39, 0x00, 0x70, 0x44, 0x03, 0xDF, 0x56, 0x58,
    0x3A, 0xCD, 0x9C, 0x14, 0x3B, 0x11, 0x0A, 0xE5, 0x74, 0x77, 0x43, 0x85, 0xBA, 0xE8, 0xA2, 0x17, 0x00,
    0XFF
};
//  these are 640x400 values--use until we get real 480x360 values
BT_string BT_NTSC480X360 =
{   0X8A, 0x6e, 0x86, 0x02,
    0x00, 0x01,
    0X30, 0X90, 0X88, 0X9A, 0X66, 0X87, 0X23, 0XD2, 0X27, 0X00, 0X98, 0XE7, 0X03, 0X0D, 0X44, 0XA0,
    0X36, 0X00, 0X50, 0XFC, 0XDD, 0X0C, 0X0A, 0XE5, 0X75, 0X79, 0X44, 0X85, 0XDF, 0XF4, 0XA6, 0X1F, 0X00, 
    0XFF
};
//  these are 640x400 values--use until we get real 512x384 values
BT_string BT_NTSC512X384 =
{   0X8A, 0x6e, 0x86, 0x02,
    0x00, 0x01,
    0X30, 0X90, 0X88, 0X9A, 0X66, 0X87, 0X23, 0XD2, 0X27, 0X00, 0X98, 0XE7, 0X03, 0X0D, 0X44, 0XA0,
    0X36, 0X00, 0X50, 0XFC, 0XDD, 0X0C, 0X0A, 0XE5, 0X75, 0X79, 0X44, 0X85, 0XDF, 0XF4, 0XA6, 0X1F, 0X00, 
    0XFF
};
BT_string BT_NTSC640X400 =
{   0X8A, 0x6e, 0x50, 0x02,
    0x00, 0x01,
    0X30, 0X90, 0X88, 0X9A, 0X66, 0X87, 0X23, 0XD2, 0X27, 0X00, 0X98, 0XE7, 0X03, 0X0D, 0X44, 0XA0,
    0X36, 0X00, 0X50, 0XFC, 0XDD, 0X0C, 0X0A, 0XE5, 0X75, 0X79, 0X44, 0X85, 0XDF, 0XF4, 0XA6, 0X1F, 0X00, 
    0XFF
};
#if 1
/* new initialization values based on code from brooktree (jsun) */
BT_string BT_NTSC640X480 =
{   0X8A, 0x6e, 0xd4, 0xc2,
    0x00, 0x01,
/*  76    78    7A    7C    7E    80    82    84    86    88    8A    8C    8E    90    92    94 */
    0X00, 0X80, 0X84, 0X96, 0X60, 0X7D, 0X22, 0XD4, 0X27, 0X00, 0X10, 0X7E, 0X03, 0X58, 0X4B, 0XE0, 
/*  96    98    9A    9C    9E    A0    A2    A4    A6    A8    AA    AC    AE    B0    B2    B4    B6 */
    0X36, 0X92, 0X54, 0X0E, 0X88, 0X0C, 0X0A, 0XE5, 0X76, 0X79, 0X44, 0X85, 0X00, 0X00, 0X80, 0X20, 0X00, 
    0XFF
};
#else
BT_string BT_NTSC640X480 =
{   0X8A, 0x6e, 0xd4, 0xc2,
    0x00, 0x01,
    0X20, 0X90, 0X86, 0X98, 0X64, 0X7F, 0X24, 0XD0, 0X27, 0X00, 0XF8, 0X5A, 0X02, 0X76, 0X53, 0XF0, 
    0X36, 0X66, 0X56, 0X58, 0XC1, 0X0C, 0X0A, 0XE5, 0X75, 0X79, 0X44, 0X85, 0XFC, 0X08, 0XEE, 0X1F, 0X00, 
    0XFF
};
#endif
#if 1
/* new initialization values based on code from brooktree (jsun) */
BT_string BT_NTSC800X600 =
{   0X8A, 0x6e, 0xe2, 0xc2,
    0x00, 0x01,
/*  76    78    7A    7C    7E    80    82    84    86    88    8A    8C    8E    90    92    94 */
    0xA0, 0x20, 0xB6, 0xCE, 0xB4, 0x55, 0x20, 0xD8, 0x39, 0x00, 0x70, 0x42, 0x03, 0xDF, 0x56, 0x58,
/*  96    98    9A    9C    9E    A0    A2    A4    A6    A8    AA    AC    AE    B0    B2    B4    B6 */
    0x3A, 0xCD, 0x9C, 0x14, 0x3B, 0x11, 0x0A, 0xE5, 0x74, 0x77, 0x43, 0x85, 0xBA, 0xE8, 0xA2, 0x17, 0x00,
    0XFF
};
#else
BT_string BT_NTSC800X600 =
{   0X8A, 0x6e, 0xe2, 0xc2,
    0x00, 0x01,
    0xA0, 0x20, 0xB6, 0xCE, 0xB4, 0x55, 0x20, 0xD8, 0x39, 0x00, 0x70, 0x44, 0x03, 0xDF, 0x56, 0x58,
    0x3A, 0xCD, 0x9C, 0x14, 0x3B, 0x11, 0x0A, 0xE5, 0x74, 0x77, 0x43, 0x85, 0xBA, 0xE8, 0xA2, 0x17, 0x00,
    0XFF
};
#endif

//  PAL 
BT_string BT_PAL320X200 =    
{   0X8A, 0x6e, 0x24, 0x42, 
    0x00, 0x01,
    0Xe0, 0X90, 0X94, 0Xb0, 0X78, 0XF9, 0X2a, 0Xfa, 0X27, 0X00, 0Xb0, 0Xd9, 0X0c, 0X0d, 0X44, 0Xa0, 
    0X36, 0Xe1, 0X4a, 0X00, 0X00, 0X0e, 0X24, 0Xf0, 0X58, 0X81, 0X48, 0X8c, 0Xd3, 0X2d, 0X08, 0X24, 0X00, 
    0XFF
};
BT_string BT_PAL320X240 =
{   0X8A, 0x6e, 0x54, 0x02,
    0x00, 0x01,
    0x90, 0x90, 0x8e, 0xaa, 0x6e, 0xcd, 0x2a, 0xfa, 0x27, 0x00, 0xc8, 0x11, 0x0b, 0x71, 0x52, 0xf0,
    0x36, 0x00, 0x50, 0xc7, 0x71, 0x0d, 0x24, 0xf0, 0x58, 0x81, 0x49, 0x8c, 0xea, 0x57, 0x85, 0x25, 0x00,
    0XFF
};
BT_string BT_PAL320X400 =    
{   0X8A, 0x6e, 0x24, 0x42, 
    0x00, 0x01,
    0Xe0, 0X90, 0X94, 0Xb0, 0X78, 0XF9, 0X2a, 0Xfa, 0X27, 0X00, 0Xb0, 0Xd9, 0X0c, 0X0d, 0X44, 0Xa0, 
    0X36, 0Xe1, 0X4a, 0X00, 0X00, 0X0e, 0X24, 0Xf0, 0X58, 0X81, 0X48, 0X8c, 0Xd3, 0X2d, 0X08, 0X24, 0X00, 
    0XFF
};
//  400x300 = 800x600
BT_string BT_PAL400X300 =
{   0X8A, 0x6e, 0x00, 0x02,
    0x00, 0x01,
    0x00, 0x20, 0xAA, 0xCA, 0x9A, 0x0D, 0x29, 0xFC, 0x39, 0x00, 0xC0, 0x8C, 0x03, 0xEE, 0x5F, 0x58, 
    0x3A, 0x66, 0x96, 0x00, 0x00, 0x10, 0x24, 0xF0, 0x57, 0x80, 0x48, 0x8C, 0x18, 0x28, 0x87, 0x1F, 0x00,
    0XFF
};
//  using 640x400 for now
BT_string BT_PAL480X360 =
{   0X8A, 0x6e, 0x7c, 0x42, 
    0x00, 0x01,
    0Xe0, 0X90, 0X94, 0Xb0, 0X78, 0XF9, 0X2a, 0Xfa, 0X27, 0X00, 0Xb0, 0Xd9, 0X0c, 0X0d, 0X44, 0Xa0, 
    0X36, 0Xe1, 0X4a, 0X00, 0X00, 0X0e, 0X24, 0Xf0, 0X58, 0X81, 0X48, 0X8c, 0Xd3, 0X2d, 0X08, 0X24, 0X00, 
    0XFF
};
//  using 640x400 for now
BT_string BT_PAL512X384 =
{   0X8A, 0x6e, 0x7c, 0x42, 
    0x00, 0x01,
    0Xe0, 0X90, 0X94, 0Xb0, 0X78, 0XF9, 0X2a, 0Xfa, 0X27, 0X00, 0Xb0, 0Xd9, 0X0c, 0X0d, 0X44, 0Xa0, 
    0X36, 0Xe1, 0X4a, 0X00, 0X00, 0X0e, 0X24, 0Xf0, 0X58, 0X81, 0X48, 0X8c, 0Xd3, 0X2d, 0X08, 0X24, 0X00, 
    0XFF
};
BT_string BT_PAL640X400 =
{   0X8A, 0x6e, 0x40, 0x42, 
    0x00, 0x01,
    0Xe0, 0X90, 0X94, 0Xb0, 0X78, 0XF9, 0X2a, 0Xfa, 0X27, 0X00, 0Xb0, 0Xd9, 0X0c, 0X0d, 0X44, 0Xa0, 
    0X36, 0Xe1, 0X4a, 0X00, 0X00, 0X0e, 0X24, 0Xf0, 0X58, 0X81, 0X48, 0X8c, 0Xd3, 0X2d, 0X08, 0X24, 0X00, 
    0XFF
};
#if 0   // seem to be invalid -- TV doesn't recognize this as PAL
/* new initialization values based on code from brooktree (jsun) */
BT_string BT_PAL640X480 =
{   0X8A, 0x6e, 0x80, 0x02,
    0x00, 0x01,
/*  76    78    7A    7C    7E    80    82    84    86    88    8A    8C    8E    90    92    94 */
    0x60, 0x80, 0x8A, 0xA6, 0x68, 0xC1, 0x2E, 0xF2, 0x27, 0x00, 0xB0, 0x0A, 0x0B, 0x71, 0x5A, 0xE0,
/*  96    98    9A    9C    9E    A0    A2    A4    A6    A8    AA    AC    AE    B0    B2    B4    B6 */
    0x36, 0x00, 0x50, 0x72, 0x1C, 0x0D, 0x04, 0xF0, 0x58, 0x81, 0x49, 0x8C, 0x0C, 0x8C, 0x79, 0x26, 0x00,
    0XFF
};
#else
BT_string BT_PAL640X480 =
{   0X8A, 0x6e, 0x80, 0x02,
    0x00, 0x01,
    0x90, 0x90, 0x8e, 0xaa, 0x6e, 0xcd, 0x2a, 0xfa, 0x27, 0x00, 0xc8, 0x11, 0x0b, 0x71, 0x52, 0xf0,
    0x36, 0x00, 0x50, 0xc7, 0x71, 0x0d, 0x24, 0xf0, 0x58, 0x81, 0x49, 0x8c, 0xea, 0x57, 0x85, 0x25, 0x00,
    0XFF
};
#endif
#if 0   // seem to be invalid -- TV doesn't recognize this as PAL
/* new initialization values based on code from brooktree (jsun) */
BT_string BT_PAL800X600 =
{   0X8A, 0x6e, 0xfa, 0xc1,
    0x00, 0x01,
/*  76    78    7A    7C    7E    80    82    84    86    88    8A    8C    8E    90    92    94 */
    0x00, 0x20, 0xAA, 0xCA, 0x9A, 0x0D, 0x29, 0xFC, 0x39, 0x00, 0xC0, 0x8C, 0x03, 0xEE, 0x5F, 0x58, 
/*  96    98    9A    9C    9E    A0    A2    A4    A6    A8    AA    AC    AE    B0    B2    B4    B6 */
    0x3A, 0x66, 0x96, 0x00, 0x00, 0x10, 0x04, 0xF0, 0x57, 0x80, 0x48, 0x8C, 0x18, 0x28, 0x87, 0x1F, 0x00,
    0XFF
};
#else
BT_string BT_PAL800X600 =
{   0X8A, 0x6e, 0xfa, 0xc1,
    0x00, 0x01,
    0x00, 0x20, 0xAA, 0xCA, 0x9A, 0x0D, 0x29, 0xFC, 0x39, 0x00, 0xC0, 0x8C, 0x03, 0xEE, 0x5F, 0x58, 
    0x3A, 0x66, 0x96, 0x00, 0x00, 0x10, 0x24, 0xF0, 0x57, 0x80, 0x48, 0x8C, 0x18, 0x28, 0x87, 0x1F, 0x00,
    0XFF
};
#endif


// Brooktree I2C tables for TV modes 0..8
BT_string *BT_NTSC[] = {&BT_NTSC320X200, &BT_NTSC320X240, &BT_NTSC320X400, &BT_NTSC400X300, &BT_NTSC480X360, 
    &BT_NTSC512X384, &BT_NTSC640X400, &BT_NTSC640X480, &BT_NTSC800X600};

BT_string *BT_PAL[]  = {&BT_PAL320X200, &BT_PAL320X240, &BT_PAL320X400, &BT_PAL400X300, &BT_PAL480X360, 
    &BT_PAL512X384, &BT_PAL640X400, &BT_PAL640X480, &BT_PAL800X600};

//
//  Chrontel strings
//

//  The I2C init string
U008    I2C_Init[] = { 0xea, 0x04, 0x05, 0x06, 0x40, 0x0d, 0x07, 0xff };

//  The I2C disable string
U008    I2C_Disable[] = { 0xea, 0x0d, 0x03, 0x0e, 0x09, 0xff };

//
// Chrontel I2C timing tables. All resolutions are multiples of these modes.
// Reg A is horizontal position; Reg B is vertical position
// DEVICE REG 0       REG 7       REG A       REG B       REG13, AUTOINC TO REG 15
I2C_string  NTSC320X200 =
{   0xea, 0x00, 0x49, 0x07, 0x70, 0x0a, 0x30, 0x0b, 0x00, 0x53, 0x00, 0x0b, 0x16, 0xff };  // NTSC 320x200 (640x400)
I2C_string  NTSC320X240 =
{   0xea, 0x00, 0x6a, 0x07, 0x5c, 0x0a, 0x28, 0x0b, 0x04, 0x53, 0x00, 0x3f, 0x7e, 0xff };  // NTSC 320x240 (640x480)
I2C_string NTSC400X300 =
{   0xea, 0x00, 0x8D, 0x07, 0x8c, 0x0a, 0x34, 0x0b, 0xe8, 0x53, 0x02, 0x59, 0x2E, 0xff };  // NTSC 400x300 (800x600)
I2C_string  NTSC480X360 =
{   0xea, 0x00, 0x49, 0x07, 0x70, 0x0a, 0x34, 0x0b, 0x16, 0x53, 0x00, 0x0b, 0x16, 0xff };  // NTSC 480x360 (640x400) 
I2C_string  NTSC512X384 = 
//{   0xea, 0x00, 0x09, 0x07, 0xd4, 0x0a, 0x0a, 0x0b, 0x00, 0x53, 0x00, 0x63, 0x16, 0xff };  // NTSC 512x384
{   0xea, 0x00, 0x49, 0x07, 0x70, 0x0a, 0x48, 0x0b, 0x10, 0x53, 0x00, 0x0b, 0x16, 0xff };  // use NTSC 640x400 
I2C_string  NTSC640X400 =
{   0xea, 0x00, 0x49, 0x07, 0x70, 0x0a, 0x34, 0x0b, 0x10, 0x53, 0x00, 0x0b, 0x16, 0xff };  // NTSC 640x400 
I2C_string  NTSC640X480 = 
{   0xea, 0x00, 0x6A, 0x07, 0x5c, 0x0a, 0x2a, 0x0b, 0x00, 0x53, 0x00, 0x3F, 0x7E, 0xff };  // NTSC 640x480
I2C_string  NTSC800X600 = 
{   0xea, 0x00, 0x8D, 0x07, 0x8c, 0x0a, 0x3c, 0x0b, 0x00, 0x53, 0x02, 0x59, 0x2E, 0xff };  // NTSC 800x600

// PAL values 
I2C_string  PAL320X200 =
{   0xea, 0x00, 0x40, 0x07, 0xc8, 0x0a, 0x34, 0x0b, 0x08, 0x53, 0x00, 0x3d, 0x6c, 0xff };  // PAL 320x200 (640x400)
I2C_string  PAL320X240 =
{   0xea, 0x00, 0x61, 0x07, 0xc0, 0x0a, 0x38, 0x0b, 0x00, 0x53, 0x00, 0x04, 0x09, 0xff };  // PAL 320x240 (640x480)
I2C_string  PAL400X300 = 
{   0xea, 0x00, 0x83, 0x07, 0xc0, 0x0a, 0x40, 0x0b, 0x00, 0x53, 0x00, 0x21, 0x56, 0xff };  // PAL  800x600 (800x600)
I2C_string  PAL480X360 = 
{   0xea, 0x00, 0x40, 0x07, 0x5c, 0x0a, 0x30, 0x0b, 0x10, 0x53, 0x00, 0x3d, 0x6c, 0xff };  // PAL  480x360 (640x400)
I2C_string  PAL512X384 = 
{   0xea, 0x00, 0x40, 0x07, 0x5c, 0x0a, 0x30, 0x0b, 0x10, 0x53, 0x00, 0x3d, 0x6c, 0xff };  // PAL  512x384 (640x400)
I2C_string  PAL640X400 = 
{   0xea, 0x00, 0x40, 0x07, 0x5c, 0x0a, 0x2e, 0x0b, 0x10, 0x53, 0x00, 0x3d, 0x6c, 0xff };  // PAL  640x400 100
I2C_string  PAL640X480 = 
{   0xea, 0x00, 0x61, 0x07, 0x70, 0x0a, 0x38, 0x0b, 0x00, 0x53, 0x00, 0x04, 0x09, 0xff };  // PAL  640x480 101
I2C_string  PAL800X600 = 
{   0xea, 0x00, 0x83, 0x07, 0xc0, 0x0a, 0x40, 0x0b, 0x00, 0x53, 0x00, 0x21, 0x56, 0xff };  // PAL  800x600 103

// Chrontel I2C strings for TV modes 0..8 (no mode 2)
I2C_string *i2c_NTSC[] = {&NTSC320X200, &NTSC320X240, &NULL_STRING, &NTSC400X300, &NTSC480X360, &NTSC512X384, 
    &NTSC640X400, &NTSC640X480, &NTSC800X600};
I2C_string *i2c_PAL[]  = {&PAL320X200, &PAL320X240, &NULL_STRING, &PAL400X300, &PAL480X360, &PAL512X384, 
    &PAL640X400, &PAL640X480, &PAL800X600};




