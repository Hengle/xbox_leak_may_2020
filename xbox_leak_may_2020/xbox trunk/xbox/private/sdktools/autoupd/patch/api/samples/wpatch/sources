TARGETPATH=..\..\..\bin
TARGETNAME=something
TARGETTYPE=UMAPPL_NOLIB

SOURCES=wpatch.rc

INCLUDES=..\..

#
#  Since wpatch needs to run on Win95 which does not always have MSVCRT.DLL,
#  we need to link with LIBC.LIB.
#

USE_LIBC=1

!IFDEF TESTCODE
C_DEFINES=$(C_DEFINES) -DTESTCODE=$(TESTCODE)
USE_LIBC=
USE_CRTDLL=1
!ENDIF

!IFDEF DEBUG
C_DEFINES=$(C_DEFINES) -DDEBUG=$(DEBUG)
USE_LIBC=
USE_CRTDLL=1
!ENDIF

UMAPPL=wpatch
UMTYPE=windows
UMENTRY=winmain
UMRES=obj\*\wpatch.res
UMLIBS=..\..\..\bin\*\mspatchz.lib \
       $(WSDK_LIB_PATH)\comctl32.lib \
       $(WSDK_LIB_PATH)\user32.lib 

C_DEFINES=$(C_DEFINES) -DWINVER=0x0400

# C_DEFINES=$(C_DEFINES) -DIMPORTING_PATCHAPI_DLL=1
# UMLIBS=..\..\..\bin\*\mspatcha.lib

MSC_WARNING_LEVEL=/W4

NTTARGETFILES=COPYTOBIN
