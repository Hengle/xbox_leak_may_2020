; Listing generated by Microsoft (R) Optimizing Compiler Version 13.00.9254.1 

	TITLE	.\uvphase.c
	.386P
include listing.inc
if @Version gt 510
.model FLAT
else
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
_DATA	SEGMENT DWORD USE32 PUBLIC 'DATA'
_DATA	ENDS
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
_BSS	SEGMENT DWORD USE32 PUBLIC 'BSS'
_BSS	ENDS
$$SYMBOLS	SEGMENT BYTE USE32 'DEBSYM'
$$SYMBOLS	ENDS
$$TYPES	SEGMENT BYTE USE32 'DEBTYP'
$$TYPES	ENDS
_TLS	SEGMENT DWORD USE32 PUBLIC 'TLS'
_TLS	ENDS
;	COMDAT ??_C@_0EA@BADOIJHA@c?3?2xbox?2private?2windows?2directx?2@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0CG@LFDNPAHM@pfPhase?5?$CB?$DN?5NULL?5?$CG?$CG?5plRandSeed?5?$CB?$DN@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
XBLD$V	SEGMENT DWORD USE32 PUBLIC ''
XBLD$V	ENDS
;	COMDAT _UnvoicedPhase@16
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _XVoiceBuildNumberD
XBLD$V	SEGMENT DWORD USE32 PUBLIC ''
XBLD$V	ENDS
FLAT	GROUP _DATA, CONST, _BSS, XBLD$V
	ASSUME	CS: FLAT, DS: FLAT, SS: FLAT
endif

INCLUDELIB LIBC
INCLUDELIB OLDNAMES

PUBLIC	_XVoiceBuildNumberD
;	COMDAT _XVoiceBuildNumberD
XBLD$V	SEGMENT
_XVoiceBuildNumberD DW 05658H
	DW	0494fH
	DW	04543H
	DW	044H
	DW	01H
	DW	00H
	DW	01130H
	DW	08001H
XBLD$V	ENDS
CONST	SEGMENT
_fPhaseScale DD	031490fdbr			; 2.92584e-009
CONST	ENDS
PUBLIC	_UnvoicedPhase@16
PUBLIC	??_C@_0EA@BADOIJHA@c?3?2xbox?2private?2windows?2directx?2@ ; `string'
PUBLIC	??_C@_0CG@LFDNPAHM@pfPhase?5?$CB?$DN?5NULL?5?$CG?$CG?5plRandSeed?5?$CB?$DN@ ; `string'
EXTRN	__assert:NEAR
EXTRN	_NuRand@4:NEAR
EXTRN	__fltused:NEAR
;	COMDAT ??_C@_0EA@BADOIJHA@c?3?2xbox?2private?2windows?2directx?2@
; File c:\xbox\private\windows\directx\dsound\codecs\voxware\uvphase.c
CONST	SEGMENT
??_C@_0EA@BADOIJHA@c?3?2xbox?2private?2windows?2directx?2@ DB 'c:\xbox\pr'
	DB	'ivate\windows\directx\dsound\codecs\voxware\uvphase.c', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0CG@LFDNPAHM@pfPhase?5?$CB?$DN?5NULL?5?$CG?$CG?5plRandSeed?5?$CB?$DN@
CONST	SEGMENT
??_C@_0CG@LFDNPAHM@pfPhase?5?$CB?$DN?5NULL?5?$CG?$CG?5plRandSeed?5?$CB?$DN@ DB 'p'
	DB	'fPhase != NULL && plRandSeed != NULL', 00H	; `string'
; Function compile flags: /Odt
CONST	ENDS
;	COMDAT _UnvoicedPhase@16
_TEXT	SEGMENT
tv84 = -8
_i$ = -4
_pfPhase$ = 8
_iHarmonics$ = 12
_iVoicHarm$ = 16
_plRandSeed$ = 20
_UnvoicedPhase@16 PROC NEAR				; COMDAT

; 71   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 08	 sub	 esp, 8

; 72   :    int   i;
; 73   : 
; 74   :    assert(pfPhase != NULL && plRandSeed != NULL);

  00006	83 7d 08 00	 cmp	 DWORD PTR _pfPhase$[ebp], 0
  0000a	74 06		 je	 SHORT $L982
  0000c	83 7d 14 00	 cmp	 DWORD PTR _plRandSeed$[ebp], 0
  00010	75 14		 jne	 SHORT $L983
$L982:
  00012	6a 4a		 push	 74			; 0000004aH
  00014	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0EA@BADOIJHA@c?3?2xbox?2private?2windows?2directx?2@
  00019	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0CG@LFDNPAHM@pfPhase?5?$CB?$DN?5NULL?5?$CG?$CG?5plRandSeed?5?$CB?$DN@
  0001e	e8 00 00 00 00	 call	 __assert
  00023	83 c4 0c	 add	 esp, 12			; 0000000cH
$L983:

; 75   : 
; 76   :    /*---------------------------------------------------------------
; 77   :      Add a random phase above the cutoff for noise-like synthesis
; 78   :    ---------------------------------------------------------------*/
; 79   :    for (i=iVoicHarm; i<iHarmonics; i++) {

  00026	8b 4d 10	 mov	 ecx, DWORD PTR _iVoicHarm$[ebp]
  00029	89 4d fc	 mov	 DWORD PTR _i$[ebp], ecx
  0002c	eb 09		 jmp	 SHORT $L969
$L970:
  0002e	8b 55 fc	 mov	 edx, DWORD PTR _i$[ebp]
  00031	83 c2 01	 add	 edx, 1
  00034	89 55 fc	 mov	 DWORD PTR _i$[ebp], edx
$L969:
  00037	8b 45 fc	 mov	 eax, DWORD PTR _i$[ebp]
  0003a	3b 45 0c	 cmp	 eax, DWORD PTR _iHarmonics$[ebp]
  0003d	7d 20		 jge	 SHORT $L962

; 80   :       pfPhase[i] = fPhaseScale*(float)NuRand(plRandSeed);

  0003f	8b 4d 14	 mov	 ecx, DWORD PTR _plRandSeed$[ebp]
  00042	51		 push	 ecx
  00043	e8 00 00 00 00	 call	 _NuRand@4
  00048	89 45 f8	 mov	 DWORD PTR tv84[ebp], eax
  0004b	db 45 f8	 fild	 DWORD PTR tv84[ebp]
  0004e	d8 0d 00 00 00
	00		 fmul	 DWORD PTR _fPhaseScale
  00054	8b 55 fc	 mov	 edx, DWORD PTR _i$[ebp]
  00057	8b 45 08	 mov	 eax, DWORD PTR _pfPhase$[ebp]
  0005a	d9 1c 90	 fstp	 DWORD PTR [eax+edx*4]

; 81   :    }

  0005d	eb cf		 jmp	 SHORT $L970
$L962:

; 82   : }

  0005f	8b e5		 mov	 esp, ebp
  00061	5d		 pop	 ebp
  00062	c2 10 00	 ret	 16			; 00000010H
_UnvoicedPhase@16 ENDP
_TEXT	ENDS
END
