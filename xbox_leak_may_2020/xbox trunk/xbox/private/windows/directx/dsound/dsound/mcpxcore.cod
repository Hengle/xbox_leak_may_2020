; Listing generated by Microsoft (R) Optimizing Compiler Version 13.00.9254.1 

	TITLE	.\mcpxcore.cpp
	.386P
include listing.inc
if @Version gt 510
.model FLAT
else
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
_DATA	SEGMENT DWORD USE32 PUBLIC 'DATA'
_DATA	ENDS
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
_BSS	SEGMENT DWORD USE32 PUBLIC 'BSS'
_BSS	ENDS
$$SYMBOLS	SEGMENT BYTE USE32 'DEBSYM'
$$SYMBOLS	ENDS
$$TYPES	SEGMENT BYTE USE32 'DEBTYP'
$$TYPES	ENDS
_TLS	SEGMENT DWORD USE32 PUBLIC 'TLS'
_TLS	ENDS
DSOUND_URW	SEGMENT PARA USE32 PUBLIC ''
DSOUND_URW	ENDS
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BI@MLBFKIOK@NULL?5list?5entry?5pointer?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CB@FLABCILB@List?5entry?5contains?5NULL?5pointer@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CG@FMEINEKN@List?5entry?5partially?5points?5to?5i@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BH@JIBNMDFM@List?5entry?5not?5in?5list?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BD@MCAPMFFH@List?5entry?5in?5list?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0DH@HLNMLIHP@c?3?2xbox?2private?2windows?2directx?2@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_09GPGAJHPD@?$CIunknown?$CJ?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_06GGPOMPNM@?$CInone?$CJ?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0DJ@LDJKBAOD@c?3?2xbox?2private?2windows?2directx?2@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0O@GGBLDHEI@?$CBm_dwRefCount?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BE@DAEOBIBM@m_dwRefCount?5?$DM?5?$HO0UL?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0N@OILPJBKD@m_dwRefCount?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0DH@IMPCONDJ@c?3?2xbox?2private?2windows?2directx?2@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_01FJMABOPO@x?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0P@PGACJKHL@?$CB?$CIx?5?$CG?5?$CIx?5?9?51?$CJ?$CJ?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0DF@KHLJBLPM@c?3?2xbox?2private?2windows?2directx?2@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BO@MLMBNMPN@nLength?5?$DO?5sizeof?$CI?$CKpRunMarker?$CJ?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0DF@GEBIDJGO@c?3?2xbox?2private?2windows?2directx?2@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BD@DHEFJAIP@IsValidAlgorithm?$CI?$CJ?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BD@FFGMCHMA@m_pfnGetFilterPair?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_06JAKMBBHB@DSOUND?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0DG@DIPNMLMO@c?3?2xbox?2private?2windows?2directx?2@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0FF@CEBOEHDG@DirectSound?5is?5in?5the?5final?5stag@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BF@JCCIJAPA@CDirectSound?3?3AddRef?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BL@IDOOAHKJ@CDirectSoundBuffer?3?3AddRef?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BM@IJJNEHOC@CDirectSoundBuffer?3?3Release?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BO@PKKBNDKL@CDirectSoundBuffer?3?3SetFormat?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CB@PPDEBFDO@CDirectSoundBuffer?3?3SetFrequency@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BO@INMBMDIC@CDirectSoundBuffer?3?3SetVolume?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BN@FNHOKAIC@CDirectSoundBuffer?3?3SetPitch?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BL@BGJIIJJH@CDirectSoundBuffer?3?3SetLFO?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BK@EOPIEBA@CDirectSoundBuffer?3?3SetEG?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BO@IPGKAOBK@CDirectSoundBuffer?3?3SetFilter?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CA@EJJCKIBH@CDirectSoundBuffer?3?3SetHeadroom?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CE@IJCIHAHO@CDirectSoundBuffer?3?3SetOutputBuf@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BP@ENFJENBA@CDirectSoundBuffer?3?3SetMixBins?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CF@GMNMDMFI@CDirectSoundBuffer?3?3SetMixBinVol@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CF@CFIEOKFB@CDirectSoundBuffer?3?3SetAllParame@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CC@GKILFNCM@CDirectSoundBuffer?3?3SetConeAngle@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CH@BJHPKLFJ@CDirectSoundBuffer?3?3SetConeOrien@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CJ@FPOKJAEF@CDirectSoundBuffer?3?3SetConeOutsi@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CD@LECKPDBD@CDirectSoundBuffer?3?3SetMaxDistan@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CD@CEFJODPJ@CDirectSoundBuffer?3?3SetMinDistan@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BM@KCLFGBIJ@CDirectSoundBuffer?3?3SetMode?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CA@CJDDDDA@CDirectSoundBuffer?3?3SetPosition?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CA@GALGNKNN@CDirectSoundBuffer?3?3SetVelocity?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CG@OMPMKPGG@CDirectSoundBuffer?3?3SetDistanceF@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CF@DNKDAAOC@CDirectSoundBuffer?3?3SetDopplerFa@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CF@CEGGDJFO@CDirectSoundBuffer?3?3SetRolloffFa@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CE@LIPCEEAM@CDirectSoundBuffer?3?3SetRolloffCu@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CD@HPKGJBBG@CDirectSoundBuffer?3?3SetI3DL2Sour@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BL@IGCEBFCD@CDirectSoundStream?3?3AddRef?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BM@IEPFOHMO@CDirectSoundStream?3?3Release?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BO@BFEGBGIF@CDirectSoundStream?3?3SetFormat?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CB@EFAECKOL@CDirectSoundStream?3?3SetFrequency@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BN@GPKLKEMB@CDirectSoundStream?3?3SetPitch?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BO@GCCGAGKM@CDirectSoundStream?3?3SetVolume?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BL@BDFCJLBN@CDirectSoundStream?3?3SetLFO?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BK@MOKKBNNH@CDirectSoundStream?3?3SetEG?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BO@GAINMLDE@CDirectSoundStream?3?3SetFilter?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CA@KJJLHIOD@CDirectSoundStream?3?3SetHeadroom?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CE@HMGNJNIP@CDirectSoundStream?3?3SetOutputBuf@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BP@JBGAKHBK@CDirectSoundStream?3?3SetMixBins?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CF@KGJDLLDP@CDirectSoundStream?3?3SetMixBinVol@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CF@OPMLGNDG@CDirectSoundStream?3?3SetAllParame@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CC@JMIIELEI@CDirectSoundStream?3?3SetConeAngle@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CH@EABPIKPF@CDirectSoundStream?3?3SetConeOrien@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CJ@BBDBCKJO@CDirectSoundStream?3?3SetConeOutsi@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CD@POADFFEE@CDirectSoundStream?3?3SetMaxDistan@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CD@GOHAEFKO@CDirectSoundStream?3?3SetMinDistan@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BM@KPNNMBKF@CDirectSoundStream?3?3SetMode?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CA@OCJKODME@CDirectSoundStream?3?3SetPosition?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CA@IALPAKCJ@CDirectSoundStream?3?3SetVelocity?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CG@DPOABEBK@CDirectSoundStream?3?3SetDistanceF@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CF@PHOMIHIF@CDirectSoundStream?3?3SetDopplerFa@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CF@OOCJLODJ@CDirectSoundStream?3?3SetRolloffFa@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CE@ENLHKJPN@CDirectSoundStream?3?3SetRolloffCu@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CD@DFIPDHEB@CDirectSoundStream?3?3SetI3DL2Sour@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0DJ@JNKFENGM@c?3?2xbox?2private?2windows?2directx?2@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0O@JCBGLFIF@?$CBm_paNotifier?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BD@JLKNBNJM@?$CBm_dwNotifierCount?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0N@BMLCBDGO@m_paNotifier?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CE@ELEAODJN@dwNotifierIndex?5?$DM?5m_dwNotifierCo@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BL@MEDKFNKN@Unexpected?5notifier?5status?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BC@NHNIONPC@m_dwNotifierCount?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0DH@NBALOMF@c?3?2xbox?2private?2windows?2directx?2@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BA@IANIBDAF@m_pGpDspManager?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CC@ONCKHILO@m_dwState?5?$CG?5MCPX_APUSTATE_GPIMAG@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CF@FGGNHBE@KeGetCurrentIrql?$CI?$CJ?5?$DO?$DN?5DISPATCH_L@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BI@IECLLDN@m_dwVoiceMapLock?5?$DM?5?$HO0UL?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BG@FFOHIBNC@m_dwVoiceMapLock?5?$DO?$DN?51?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0DJ@MEFGGIAF@c?3?2xbox?2private?2windows?2directx?2@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0DB@IBOGJEGG@WAVE_FORMAT_PCM?5?$DN?$DN?5m_pSettings?9?$DO@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CP@IDFLDLJM@?$CB?$CIm_pSettings?9?$DOm_dwFlags?5?$CG?5DSBCA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0EJ@DJPLDOLH@m_pSettings?9?$DOm_pMixinBuffer?9?$DOm_p@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0DI@MBLALCOP@c?3?2xbox?2private?2windows?2directx?2@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BJ@CELCEBLE@CAc97MediaObject?3?3AddRef?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BK@OKDMHHHN@CAc97MediaObject?3?3Release?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0DL@GNOKBCIE@c?3?2xbox?2private?2windows?2directx?2@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CL@KBCOEPGO@?$CB?$CIm_adwGPOutputBufferSizes?$FLi?$FN?5?$CF?5@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CL@FALOOAAF@?$CB?$CIm_adwEPOutputBufferSizes?$FLi?$FN?5?$CF?5@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BE@DKKPACBF@CMcpxSlopMemoryHeap?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BO@KCCGGAEN@?$CI8?$CJ?5?$DM?$DN?5PIO_METHOD_QUEUE_CLEAR?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0DO@JKHGMFJD@?$CB?$CIm_ctxMemory?$FLMCPX_MEM_GPOUTPUT?$FN@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0DD@NPIDPDEA@?$CB?$CIm_ctxMemory?$FLMCPX_MEM_GPOUTPUT?$FN@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CA@HJHFIAGH@?$CB?$CIdwTotalSgeCount?5?$CG?50xFFFF0000?$CJ?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BO@MKPFBHKH@?$CI2?$CJ?5?$DM?$DN?5PIO_METHOD_QUEUE_CLEAR?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BC@MDCMDCJP@CMcpxGPDspManager?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CI@LICNKCLH@Failed?5to?5alloc?5DSP?5and?5scratch?5@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BC@KDHAIHNE@CMcpxEPDspManager?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CI@DCFHDMOM@Failed?5to?5alloc?5Dsp?5and?5scratch?5@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BB@OCPBFOOA@Invalid?5FE?5state?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BB@EKGFJNO@Invalid?5SE?5state?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CH@LIAEJNAM@?$CB?$CIdwPhysicalAddress?5?$CG?5?$CIPAGE_SIZE@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BK@CBDMAJHB@?$CBpContext?9?$DOVirtualAddress?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BL@OPIFOBLC@?$CBpContext?9?$DOPhysicalAddress?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0P@JHHBFHG@pContext?9?$DOSize?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0M@GEEDHOHN@dwAlignment?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_04ELFAHOMP@BYTE?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0DB@DPMEBCA@?$CB?$CIpContext?9?$DOPhysicalAddress?5?$CG?5?$CId@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CF@OPOAAKHG@KeGetCurrentIrql?$CI?$CJ?5?$DN?$DN?5DISPATCH_L@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BO@GPPNHMML@?$CI1?$CJ?5?$DM?$DN?5PIO_METHOD_QUEUE_CLEAR?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BJ@GLKFBKGJ@NULL?5?$CCthis?$CC?5pointer?5?$CI?$CFx?$CJ?$AA@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CC@LEKIOFPG@Invalid?5?$CCthis?$CC?5pointer?5?$CI?$CFx?5?$CB?$DN?5?$CFx@
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
XBLD$V	SEGMENT DWORD USE32 PUBLIC ''
XBLD$V	ENDS
DSOUND_RW	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RW	ENDS
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT _IsEqualGUID@8
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT _==@8
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT _KeGetCurrentIrql@0
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT _KeIsExecutingDpc@0
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT _Direct3D_AddRef@0
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT _Direct3D_Release@0
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT _Direct3D_GetAdapterCount@0
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT _D3DDevice_BeginScene@0
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT _D3DDevice_EndScene@0
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT _D3DDevice_GetRenderState@8
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT _D3DDevice_GetTextureStageState@12
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT _D3DDevice_SetRenderState@8
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT _D3DDevice_SetTextureStageState@12
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT _D3DResource_MoveResourceMemory@8
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT _D3DTexture_UnlockRect@8
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT _D3DVolumeTexture_UnlockBox@8
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT _D3DCubeTexture_UnlockRect@12
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT _D3DVertexBuffer_Unlock@4
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT _D3DIndexBuffer_Lock@20
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT _D3DIndexBuffer_Unlock@4
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT _D3DPalette_Unlock@4
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT _D3DSurface_UnlockRect@4
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT _D3DVolume_UnlockBox@4
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT _log10f@4
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT _sqrtf@4
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ??0D3DXVECTOR3@@QAE@XZ
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ??0D3DXMATRIX@@QAE@XZ
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ??0D3DXQUATERNION@@QAE@XZ
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ??0D3DXVECTOR2@@QAE@MM@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ??0D3DXVECTOR3@@QAE@MMM@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ??0D3DXVECTOR4@@QAE@MMMM@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ??0D3DXMATRIX@@QAE@MMMMMMMMMMMMMMMM@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ??0D3DXQUATERNION@@QAE@MMMM@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ??0D3DXPLANE@@QAE@MMMM@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ??0D3DXCOLOR@@QAE@MMMM@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT _wmemchr@12
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?__AssertValidEntryList@@YGXPAU_LIST_ENTRY@@W4ASSERT_VALID_ENTRY_LIST@@PBDI@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?InsertHeadListUninit@@YGXPAU_LIST_ENTRY@@0@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?MoveEntryTailList@@YGPAU_LIST_ENTRY@@PAU1@0@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ??2@YAPAXIPBDK0@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ??3@YAXPAX@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ??0CIrql@DirectSound@@QAE@XZ
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?Raise@CIrql@DirectSound@@QAEXXZ
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?Lower@CIrql@DirectSound@@QAEXXZ
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ??0CAutoIrql@DirectSound@@QAE@XZ
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ??1CAutoIrql@DirectSound@@QAE@XZ
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?Save@CFpState@DirectSound@@QAEXXZ
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?Restore@CFpState@DirectSound@@QAEXXZ
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ??_GCRefCount@DirectSound@@UAEPAXI@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ??1CRefCount@DirectSound@@UAE@XZ
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?AddRef@CRefCount@DirectSound@@UAGKXZ
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?Release@CRefCount@DirectSound@@UAGKXZ
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?GetDataOffset@CRiffChunk@WaveLoader@@QAEKXZ
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?GetDataSize@CRiffChunk@WaveLoader@@QAEKXZ
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?GetDuration@CWaveFile@WaveLoader@@QAEJPAK@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?GetFormat@CWaveFile@WaveLoader@@QAEJPAPBUtWAVEFORMATEX@@@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?FloatToLong@Math@DirectSound@@YGJM@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?lsb@Math@DirectSound@@YIII@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?IsValidAlgorithm@CHrtfSource@DirectSound@@SGHXZ
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?PeekRegister8@CAc97Device@DirectSound@@KGEK@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?PokeRegister8@CAc97Device@DirectSound@@KGXKE@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?PeekRegister16@CAc97Device@DirectSound@@KGGK@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?PokeRegister16@CAc97Device@DirectSound@@KGXKG@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?PeekRegister32@CAc97Device@DirectSound@@KGKK@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?PokeRegister32@CAc97Device@DirectSound@@KGXKK@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?PeekAciRegister8@CAc97Device@DirectSound@@KGEK@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?PokeAciRegister8@CAc97Device@DirectSound@@KGXKE@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?PeekAciRegister16@CAc97Device@DirectSound@@KGGK@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?PokeAciRegister16@CAc97Device@DirectSound@@KGXKG@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?PeekAciRegister32@CAc97Device@DirectSound@@KGKK@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?PokeAciRegister32@CAc97Device@DirectSound@@KGXKK@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?ReleaseChannel@CAc97Device@DirectSound@@QAEXPAVCAc97Channel@2@@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?DirectSoundEnterCriticalSection@@YGHXZ
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?DirectSoundLeaveCriticalSection@@YGXXZ
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ??0CAutoLock@DirectSound@@QAE@XZ
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ??1CAutoLock@DirectSound@@QAE@XZ
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?SetupDSPs@CMcpxCore@DirectSound@@IAEXXZ
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ??0CMcpxNotifier@DirectSound@@QAE@XZ
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?Initialize@CMcpxNotifier@DirectSound@@QAEXKK@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?Free@CMcpxNotifier@DirectSound@@QAEXXZ
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?GetStatus@CMcpxNotifier@DirectSound@@QAEHK@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?Reset@CMcpxNotifier@DirectSound@@QAEXXZ
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?GetScratchSpaceLinAddr@CMcpxDspScratchDma@DirectSound@@QAEPAXXZ
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ??0CMcpxCore@DirectSound@@QAE@PAVCDirectSoundSettings@1@@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ??_GCMcpxCore@DirectSound@@UAEPAXI@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ??1CMcpxCore@DirectSound@@UAE@XZ
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ??_GCMcpxGPDspManager@DirectSound@@QAEPAXI@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ??_GCMcpxEPDspManager@DirectSound@@QAEPAXI@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?Initialize@CMcpxCore@DirectSound@@QAEJXZ
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?Reset@CMcpxCore@DirectSound@@IAEXXZ
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?SetupFrontEndProcessor@CMcpxCore@DirectSound@@IAEXXZ
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?AllocateApuMemory@CMcpxCore@DirectSound@@IAEJXZ
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?SetupVoiceProcessor@CMcpxCore@DirectSound@@IAEXXZ
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?SetupGlobalProcessor@CMcpxCore@DirectSound@@IAEXXZ
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?SetupEncodeProcessor@CMcpxCore@DirectSound@@IAEXXZ
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?SetupAc97@CMcpxCore@DirectSound@@IAEJXZ
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?SetInterruptState@CMcpxCore@DirectSound@@IAEXH@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?SetPrivLockState@CMcpxCore@DirectSound@@IAEXH@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?SetFrontEndState@CMcpxCore@DirectSound@@IAEXW4MCPX_FE_STATE@@@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?SetSetupEngineState@CMcpxCore@DirectSound@@IAEXW4MCPX_SE_STATE@@@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?GetPhysicalMemoryProperties@CMcpxCore@DirectSound@@SGKPAXKPAK1@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?MapTransfer@CMcpxCore@DirectSound@@SGKPAPAXPAK1@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?AllocateContext@CMcpxCore@DirectSound@@SGJPAUMCPX_ALLOC_CONTEXT@@KK@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?ResetGlobalCounters@CMcpxCore@DirectSound@@IAEXXZ
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?IdleVoiceProcessor@CMcpxCore@DirectSound@@QAEHH@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ??1?$CValidObject@$0EEFDEOEE@@DirectSound@@UAE@XZ
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?__AssertValidObject@?$CValidObject@$0EEFDEOEE@@DirectSound@@QAEXPBDK0@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ??1?$CValidObject@$0EEFDECCA@@DirectSound@@UAE@XZ
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?__AssertValidObject@?$CValidObject@$0EEFDECCA@@DirectSound@@QAEXPBDK0@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ??1?$CValidObject@$0EEFDFDCA@@DirectSound@@UAE@XZ
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?__AssertValidObject@?$CValidObject@$0EEFDFDCA@@DirectSound@@QAEXPBDK0@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ??1?$CValidObject@$0EBEDDJDH@@DirectSound@@UAE@XZ
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?__AssertValidObject@?$CValidObject@$0EBEDDJDH@@DirectSound@@QAEXPBDK0@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?__AddRef@DirectSound@@YGPAVCDirectSoundSettings@1@PAV21@@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ?__AddRef@DirectSound@@YGPAVCMcpxSlopMemoryHeap@1@PAV21@@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ??_G?$CValidObject@$0EEFDEOEE@@DirectSound@@UAEPAXI@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ??_G?$CValidObject@$0EEFDECCA@@DirectSound@@UAEPAXI@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ??_G?$CValidObject@$0EEFDFDCA@@DirectSound@@UAEPAXI@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT ??_G?$CValidObject@$0EBEDDJDH@@DirectSound@@UAEPAXI@Z
DSOUND	SEGMENT PARA USE32 PUBLIC ''
DSOUND	ENDS
;	COMDAT _D3DPRIMITIVETOVERTEXCOUNT
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT _DSoundBuildNumberD
XBLD$V	SEGMENT DWORD USE32 PUBLIC ''
XBLD$V	ENDS
;	COMDAT _D3DDIRTYFROMRENDERSTATE
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ?dwDelta@?1??ResetGlobalCounters@CMcpxCore@DirectSound@@IAEXXZ@4KB
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT _D3DTEXTUREDIRECTENCODE
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ?$S1@?1??ResetGlobalCounters@CMcpxCore@DirectSound@@IAEXXZ@4IA
DSOUND_URW	SEGMENT PARA USE32 PUBLIC ''
DSOUND_URW	ENDS
;	COMDAT _D3DSIMPLERENDERSTATEENCODE
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
;	COMDAT ??_7?$CValidObject@$0EEFDECCA@@DirectSound@@6B@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_7CMcpxCore@DirectSound@@6B@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_7?$CValidObject@$0EBEDDJDH@@DirectSound@@6B@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_7?$CValidObject@$0EEFDEOEE@@DirectSound@@6B@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_7CRefCount@DirectSound@@6B@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_7?$CValidObject@$0EEFDFDCA@@DirectSound@@6B@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT _D3DDIRTYFROMTEXTURESTATE
DSOUND_RD	SEGMENT DWORD USE32 PUBLIC ''
DSOUND_RD	ENDS
FLAT	GROUP _DATA, CONST, _BSS, XBLD$V, DSOUND_RW
	ASSUME	CS: FLAT, DS: FLAT, SS: FLAT
endif

INCLUDELIB LIBC
INCLUDELIB OLDNAMES

PUBLIC	_D3DPRIMITIVETOVERTEXCOUNT
PUBLIC	_D3DSIMPLERENDERSTATEENCODE
PUBLIC	_D3DTEXTUREDIRECTENCODE
PUBLIC	_D3DDIRTYFROMRENDERSTATE
PUBLIC	_D3DDIRTYFROMTEXTURESTATE
PUBLIC	?m_adwGPOutputBufferSizes@CMcpxCore@DirectSound@@2QBKB ; DirectSound::CMcpxCore::m_adwGPOutputBufferSizes
PUBLIC	?m_adwEPOutputBufferSizes@CMcpxCore@DirectSound@@2QBKB ; DirectSound::CMcpxCore::m_adwEPOutputBufferSizes
PUBLIC	?m_ctxMemory@CMcpxCore@DirectSound@@2PAUMCPX_ALLOC_CONTEXT@@A ; DirectSound::CMcpxCore::m_ctxMemory
PUBLIC	_DSoundBuildNumberD
DSOUND_URW	SEGMENT
?m_ctxMemory@CMcpxCore@DirectSound@@2PAUMCPX_ALLOC_CONTEXT@@A DB 0100H DUP (?) ; DirectSound::CMcpxCore::m_ctxMemory
DSOUND_URW	ENDS
;	COMDAT _D3DPRIMITIVETOVERTEXCOUNT
DSOUND_RD	SEGMENT
_D3DPRIMITIVETOVERTEXCOUNT DD 00H
	DD	00H
	DD	01H
	DD	00H
	DD	02H
	DD	00H
	DD	01H
	DD	01H
	DD	01H
	DD	01H
	DD	03H
	DD	00H
	DD	01H
	DD	02H
	DD	01H
	DD	02H
	DD	04H
	DD	00H
	DD	02H
	DD	02H
	DD	00H
	DD	00H
DSOUND_RD	ENDS
;	COMDAT _D3DSIMPLERENDERSTATEENCODE
DSOUND_RD	SEGMENT
_D3DSIMPLERENDERSTATEENCODE DD 040260H
	DD	040264H
	DD	040268H
	DD	04026cH
	DD	040270H
	DD	040274H
	DD	040278H
	DD	04027cH
	DD	040288H
	DD	04028cH
	DD	040a60H
	DD	040a64H
	DD	040a68H
	DD	040a6cH
	DD	040a70H
	DD	040a74H
	DD	040a78H
	DD	040a7cH
	DD	040a80H
	DD	040a84H
	DD	040a88H
	DD	040a8cH
	DD	040a90H
	DD	040a94H
	DD	040a98H
	DD	040a9cH
	DD	040aa0H
	DD	040aa4H
	DD	040aa8H
	DD	040aacH
	DD	040ab0H
	DD	040ab4H
	DD	040ab8H
	DD	040abcH
	DD	040ac0H
	DD	040ac4H
	DD	040ac8H
	DD	040accH
	DD	040ad0H
	DD	040ad4H
	DD	040ad8H
	DD	040adcH
	DD	0417f8H
	DD	041e20H
	DD	041e24H
	DD	041e40H
	DD	041e44H
	DD	041e48H
	DD	041e4cH
	DD	041e50H
	DD	041e54H
	DD	041e58H
	DD	041e5cH
	DD	041e60H
	DD	041d90H
	DD	041e74H
	DD	041e78H
	DD	040354H
	DD	04033cH
	DD	040304H
	DD	040300H
	DD	040340H
	DD	040344H
	DD	040348H
	DD	04035cH
	DD	040310H
	DD	04037cH
	DD	040358H
	DD	040374H
	DD	040378H
	DD	040364H
	DD	040368H
	DD	04036cH
	DD	040360H
	DD	040350H
	DD	04034cH
	DD	0409f8H
	DD	040384H
	DD	040388H
	DD	040330H
	DD	040334H
	DD	040338H
DSOUND_RD	ENDS
;	COMDAT _D3DTEXTUREDIRECTENCODE
DSOUND_RD	SEGMENT
_D3DTEXTUREDIRECTENCODE DD 081b00H
	DD	081b40H
	DD	081b80H
	DD	081bc0H
DSOUND_RD	ENDS
;	COMDAT _D3DDIRTYFROMRENDERSTATE
DSOUND_RD	SEGMENT
_D3DDIRTYFROMRENDERSTATE DD 02000H
	DD	02000H
	DD	02000H
	DD	02000H
	DD	02000H
	DD	02000H
	DD	0fH
	DD	0fH
	DD	0fH
	DD	0fH
	DD	01200H
	DD	03000H
	DD	01000H
	DD	01000H
	DD	01000H
	DD	01000H
	DD	01000H
	DD	01000H
	DD	01000H
	DD	01000H
	DD	01000H
	DD	01000H
	DD	01000H
	DD	01000H
	DD	0100H
	DD	0100H
	DD	0900H
	DD	0100H
	DD	0100H
	DD	0100H
	DD	0100H
	DD	0100H
	DD	00H
	DD	00H
	DD	00H
DSOUND_RD	ENDS
;	COMDAT _D3DDIRTYFROMTEXTURESTATE
DSOUND_RD	SEGMENT
_D3DDIRTYFROMTEXTURESTATE DD 0fH
	DD	0fH
	DD	0fH
	DD	0fH
	DD	0fH
	DD	0fH
	DD	0fH
	DD	0fH
	DD	0fH
	DD	0fH
	DD	0fH
	DD	0fH
	DD	0480fH
	DD	0800H
	DD	0800H
	DD	0800H
	DD	0800H
	DD	0800H
	DD	0800H
	DD	0800H
	DD	0800H
	DD	0400H
DSOUND_RD	ENDS
;	COMDAT _DSoundBuildNumberD
XBLD$V	SEGMENT
_DSoundBuildNumberD DW 05344H
	DW	0554fH
	DW	0444eH
	DW	044H
	DW	01H
	DW	00H
	DW	01130H
	DW	08001H
XBLD$V	ENDS
DSOUND_RD	SEGMENT
?m_adwGPOutputBufferSizes@CMcpxCore@DirectSound@@2QBKB DD 02000H ; DirectSound::CMcpxCore::m_adwGPOutputBufferSizes
?m_adwEPOutputBufferSizes@CMcpxCore@DirectSound@@2QBKB DD 02000H ; DirectSound::CMcpxCore::m_adwEPOutputBufferSizes
	DD	04000H
DSOUND_RD	ENDS
PUBLIC	??0CMcpxCore@DirectSound@@QAE@PAVCDirectSoundSettings@1@@Z ; DirectSound::CMcpxCore::CMcpxCore
PUBLIC	??_7CMcpxCore@DirectSound@@6B@			; DirectSound::CMcpxCore::`vftable'
PUBLIC	??_GCMcpxCore@DirectSound@@UAEPAXI@Z		; DirectSound::CMcpxCore::`scalar deleting destructor'
PUBLIC	?__AddRef@DirectSound@@YGPAVCDirectSoundSettings@1@PAV21@@Z ; DirectSound::__AddRef
EXTRN	??0CAc97Device@DirectSound@@QAE@XZ:NEAR		; DirectSound::CAc97Device::CAc97Device
EXTRN	??_ECMcpxCore@DirectSound@@UAEPAXI@Z:NEAR	; DirectSound::CMcpxCore::`vector deleting destructor'
;	COMDAT ??_7CMcpxCore@DirectSound@@6B@
; File c:\xbox\private\windows\directx\dsound\dsound\mcpxcore.cpp
CONST	SEGMENT
??_7CMcpxCore@DirectSound@@6B@ DD FLAT:??_ECMcpxCore@DirectSound@@UAEPAXI@Z ; DirectSound::CMcpxCore::`vftable'
; Function compile flags: /Odt
CONST	ENDS
;	COMDAT ??0CMcpxCore@DirectSound@@QAE@PAVCDirectSoundSettings@1@@Z
DSOUND	SEGMENT
_this$ = -4
_pSettings$ = 8
??0CMcpxCore@DirectSound@@QAE@PAVCDirectSoundSettings@1@@Z PROC NEAR ; DirectSound::CMcpxCore::CMcpxCore, COMDAT
; _this$ = ecx

; 52   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  00007	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000a	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], OFFSET FLAT:??_7CMcpxCore@DirectSound@@6B@
  00010	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00013	83 c1 14	 add	 ecx, 20			; 00000014H
  00016	e8 00 00 00 00	 call	 ??0CAc97Device@DirectSound@@QAE@XZ ; DirectSound::CAc97Device::CAc97Device

; 53   :     DPF_ENTER();
; 54   : 
; 55   :     m_pSettings = ADDREF(pSettings);

  0001b	8b 4d 08	 mov	 ecx, DWORD PTR _pSettings$[ebp]
  0001e	51		 push	 ecx
  0001f	e8 00 00 00 00	 call	 ?__AddRef@DirectSound@@YGPAVCDirectSoundSettings@1@PAV21@@Z ; DirectSound::__AddRef
  00024	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  00027	89 42 04	 mov	 DWORD PTR [edx+4], eax

; 56   : 
; 57   :     DPF_LEAVE_VOID();
; 58   : }

  0002a	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0002d	8b e5		 mov	 esp, ebp
  0002f	5d		 pop	 ebp
  00030	c2 04 00	 ret	 4
??0CMcpxCore@DirectSound@@QAE@PAVCDirectSoundSettings@1@@Z ENDP ; DirectSound::CMcpxCore::CMcpxCore
DSOUND	ENDS
PUBLIC	??1CMcpxCore@DirectSound@@UAE@XZ		; DirectSound::CMcpxCore::~CMcpxCore
; Function compile flags: /Odt
;	COMDAT ??_GCMcpxCore@DirectSound@@UAEPAXI@Z
DSOUND	SEGMENT
_this$ = -4
___flags$ = 8
??_GCMcpxCore@DirectSound@@UAEPAXI@Z PROC NEAR		; DirectSound::CMcpxCore::`scalar deleting destructor', COMDAT
; _this$ = ecx
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  00007	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0000a	e8 00 00 00 00	 call	 ??1CMcpxCore@DirectSound@@UAE@XZ ; DirectSound::CMcpxCore::~CMcpxCore
  0000f	8b 45 08	 mov	 eax, DWORD PTR ___flags$[ebp]
  00012	83 e0 01	 and	 eax, 1
  00015	85 c0		 test	 eax, eax
  00017	74 0c		 je	 SHORT $L35562
  00019	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0001c	51		 push	 ecx
  0001d	e8 00 00 00 00	 call	 ??3@YAXPAX@Z		; operator delete
  00022	83 c4 04	 add	 esp, 4
$L35562:
  00025	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00028	8b e5		 mov	 esp, ebp
  0002a	5d		 pop	 ebp
  0002b	c2 04 00	 ret	 4
??_GCMcpxCore@DirectSound@@UAEPAXI@Z ENDP		; DirectSound::CMcpxCore::`scalar deleting destructor'
DSOUND	ENDS
EXTRN	?TrackingMemFree@CMemoryManager@DirectSound@@SGXPAX@Z:NEAR ; DirectSound::CMemoryManager::TrackingMemFree
; Function compile flags: /Odt
; File c:\xbox\private\windows\directx\dsound\common\memmgr.h
;	COMDAT ??3@YAXPAX@Z
DSOUND	SEGMENT
_pvBuffer$ = 8
??3@YAXPAX@Z PROC NEAR					; operator delete, COMDAT

; 244  : { 

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 245  :     DirectSound::CMemoryManager::TrackingMemFree(pvBuffer); 

  00003	8b 45 08	 mov	 eax, DWORD PTR _pvBuffer$[ebp]
  00006	50		 push	 eax
  00007	e8 00 00 00 00	 call	 ?TrackingMemFree@CMemoryManager@DirectSound@@SGXPAX@Z ; DirectSound::CMemoryManager::TrackingMemFree

; 246  : }

  0000c	5d		 pop	 ebp
  0000d	c3		 ret	 0
??3@YAXPAX@Z ENDP					; operator delete
DSOUND	ENDS
PUBLIC	??_GCMcpxGPDspManager@DirectSound@@QAEPAXI@Z	; DirectSound::CMcpxGPDspManager::`scalar deleting destructor'
PUBLIC	??_GCMcpxEPDspManager@DirectSound@@QAEPAXI@Z	; DirectSound::CMcpxEPDspManager::`scalar deleting destructor'
EXTRN	??1CAc97Device@DirectSound@@QAE@XZ:NEAR		; DirectSound::CAc97Device::~CAc97Device
EXTRN	?TrackingPhysicalFree@CMemoryManager@DirectSound@@SGXPAX@Z:NEAR ; DirectSound::CMemoryManager::TrackingPhysicalFree
; Function compile flags: /Odt
; File c:\xbox\private\windows\directx\dsound\dsound\mcpxcore.cpp
;	COMDAT ??1CMcpxCore@DirectSound@@UAE@XZ
DSOUND	SEGMENT
tv84 = -32
tv75 = -28
_this$ = -24
$T36489 = -20
$T36488 = -16
$T36485 = -12
$T36484 = -8
_i$ = -4
??1CMcpxCore@DirectSound@@UAE@XZ PROC NEAR		; DirectSound::CMcpxCore::~CMcpxCore, COMDAT
; _this$ = ecx

; 83   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 20	 sub	 esp, 32			; 00000020H
  00006	89 4d e8	 mov	 DWORD PTR _this$[ebp], ecx
  00009	8b 45 e8	 mov	 eax, DWORD PTR _this$[ebp]
  0000c	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], OFFSET FLAT:??_7CMcpxCore@DirectSound@@6B@

; 84   :     DWORD                   i;
; 85   : 
; 86   :     DPF_ENTER();
; 87   : 
; 88   : #ifdef MCPX_BOOT_LIB
; 89   : 
; 90   :     Reset();
; 91   : 
; 92   : #else // MCPX_BOOT_LIB
; 93   : 
; 94   :     //
; 95   :     // We're assuming the derived object already called Reset
; 96   :     //
; 97   : 
; 98   : #endif // MCPX_BOOT_LIB
; 99   : 
; 100  :     //
; 101  :     // Free the DSP managers
; 102  :     //
; 103  : 
; 104  :     DELETE(m_pGpDspManager);

  00012	8b 4d e8	 mov	 ecx, DWORD PTR _this$[ebp]
  00015	83 79 0c 00	 cmp	 DWORD PTR [ecx+12], 0
  00019	74 35		 je	 SHORT $L35568
  0001b	8b 55 e8	 mov	 edx, DWORD PTR _this$[ebp]
  0001e	8b 42 0c	 mov	 eax, DWORD PTR [edx+12]
  00021	89 45 f4	 mov	 DWORD PTR $T36485[ebp], eax
  00024	8b 4d f4	 mov	 ecx, DWORD PTR $T36485[ebp]
  00027	89 4d f8	 mov	 DWORD PTR $T36484[ebp], ecx
  0002a	83 7d f8 00	 cmp	 DWORD PTR $T36484[ebp], 0
  0002e	74 0f		 je	 SHORT $L36486
  00030	6a 01		 push	 1
  00032	8b 4d f8	 mov	 ecx, DWORD PTR $T36484[ebp]
  00035	e8 00 00 00 00	 call	 ??_GCMcpxGPDspManager@DirectSound@@QAEPAXI@Z
  0003a	89 45 e4	 mov	 DWORD PTR tv75[ebp], eax
  0003d	eb 07		 jmp	 SHORT $L36487
$L36486:
  0003f	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR tv75[ebp], 0
$L36487:
  00046	8b 55 e8	 mov	 edx, DWORD PTR _this$[ebp]
  00049	c7 42 0c 00 00
	00 00		 mov	 DWORD PTR [edx+12], 0
$L35568:

; 105  : 
; 106  : #ifndef MCPX_BOOT_LIB
; 107  : 
; 108  :     DELETE(m_pEpDspManager);

  00050	8b 45 e8	 mov	 eax, DWORD PTR _this$[ebp]
  00053	83 78 10 00	 cmp	 DWORD PTR [eax+16], 0
  00057	74 35		 je	 SHORT $L35571
  00059	8b 4d e8	 mov	 ecx, DWORD PTR _this$[ebp]
  0005c	8b 51 10	 mov	 edx, DWORD PTR [ecx+16]
  0005f	89 55 ec	 mov	 DWORD PTR $T36489[ebp], edx
  00062	8b 45 ec	 mov	 eax, DWORD PTR $T36489[ebp]
  00065	89 45 f0	 mov	 DWORD PTR $T36488[ebp], eax
  00068	83 7d f0 00	 cmp	 DWORD PTR $T36488[ebp], 0
  0006c	74 0f		 je	 SHORT $L36490
  0006e	6a 01		 push	 1
  00070	8b 4d f0	 mov	 ecx, DWORD PTR $T36488[ebp]
  00073	e8 00 00 00 00	 call	 ??_GCMcpxEPDspManager@DirectSound@@QAEPAXI@Z
  00078	89 45 e0	 mov	 DWORD PTR tv84[ebp], eax
  0007b	eb 07		 jmp	 SHORT $L36491
$L36490:
  0007d	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR tv84[ebp], 0
$L36491:
  00084	8b 4d e8	 mov	 ecx, DWORD PTR _this$[ebp]
  00087	c7 41 10 00 00
	00 00		 mov	 DWORD PTR [ecx+16], 0
$L35571:

; 109  : 
; 110  : #endif // MCPX_BOOT_LIB
; 111  : 
; 112  :     //
; 113  :     // Free APU memory
; 114  :     //
; 115  : 
; 116  :     for(i = 0; i < MCPX_MEM_COUNT; i++)

  0008e	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  00095	eb 09		 jmp	 SHORT $L35574
$L35575:
  00097	8b 55 fc	 mov	 edx, DWORD PTR _i$[ebp]
  0009a	83 c2 01	 add	 edx, 1
  0009d	89 55 fc	 mov	 DWORD PTR _i$[ebp], edx
$L35574:
  000a0	83 7d fc 10	 cmp	 DWORD PTR _i$[ebp], 16	; 00000010H
  000a4	73 77		 jae	 SHORT $L35576

; 117  :     {
; 118  : 
; 119  : #ifdef ENABLE_SLOP_MEMORY_RECOVERY
; 120  : 
; 121  :         if(m_ctxMemory[i].fOwned)

  000a6	8b 45 fc	 mov	 eax, DWORD PTR _i$[ebp]
  000a9	c1 e0 04	 shl	 eax, 4
  000ac	83 b8 0c 00 00
	00 00		 cmp	 DWORD PTR ?m_ctxMemory@CMcpxCore@DirectSound@@2PAUMCPX_ALLOC_CONTEXT@@A[eax+12], 0
  000b3	74 33		 je	 SHORT $L35577

; 122  : 
; 123  : #endif // ENABLE_SLOP_MEMORY_RECOVERY
; 124  : 
; 125  :         {
; 126  :             PHYSFREE(m_ctxMemory[i].VirtualAddress);

  000b5	8b 4d fc	 mov	 ecx, DWORD PTR _i$[ebp]
  000b8	c1 e1 04	 shl	 ecx, 4
  000bb	83 b9 00 00 00
	00 00		 cmp	 DWORD PTR ?m_ctxMemory@CMcpxCore@DirectSound@@2PAUMCPX_ALLOC_CONTEXT@@A[ecx], 0
  000c2	74 22		 je	 SHORT $L35578
  000c4	8b 55 fc	 mov	 edx, DWORD PTR _i$[ebp]
  000c7	c1 e2 04	 shl	 edx, 4
  000ca	8b 82 00 00 00
	00		 mov	 eax, DWORD PTR ?m_ctxMemory@CMcpxCore@DirectSound@@2PAUMCPX_ALLOC_CONTEXT@@A[edx]
  000d0	50		 push	 eax
  000d1	e8 00 00 00 00	 call	 ?TrackingPhysicalFree@CMemoryManager@DirectSound@@SGXPAX@Z ; DirectSound::CMemoryManager::TrackingPhysicalFree
  000d6	8b 4d fc	 mov	 ecx, DWORD PTR _i$[ebp]
  000d9	c1 e1 04	 shl	 ecx, 4
  000dc	c7 81 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?m_ctxMemory@CMcpxCore@DirectSound@@2PAUMCPX_ALLOC_CONTEXT@@A[ecx], 0
$L35578:

; 127  :         }
; 128  : 
; 129  : #ifdef ENABLE_SLOP_MEMORY_RECOVERY
; 130  : 
; 131  :         else

  000e6	eb 10		 jmp	 SHORT $L35579
$L35577:

; 132  :         {
; 133  :             m_ctxMemory[i].VirtualAddress = NULL;

  000e8	8b 55 fc	 mov	 edx, DWORD PTR _i$[ebp]
  000eb	c1 e2 04	 shl	 edx, 4
  000ee	c7 82 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?m_ctxMemory@CMcpxCore@DirectSound@@2PAUMCPX_ALLOC_CONTEXT@@A[edx], 0
$L35579:

; 134  :         }
; 135  : 
; 136  : #endif // ENABLE_SLOP_MEMORY_RECOVERY
; 137  : 
; 138  :         m_ctxMemory[i].PhysicalAddress = 0;

  000f8	8b 45 fc	 mov	 eax, DWORD PTR _i$[ebp]
  000fb	c1 e0 04	 shl	 eax, 4
  000fe	c7 80 04 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?m_ctxMemory@CMcpxCore@DirectSound@@2PAUMCPX_ALLOC_CONTEXT@@A[eax+4], 0

; 139  :         m_ctxMemory[i].Size = 0;

  00108	8b 4d fc	 mov	 ecx, DWORD PTR _i$[ebp]
  0010b	c1 e1 04	 shl	 ecx, 4
  0010e	c7 81 08 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?m_ctxMemory@CMcpxCore@DirectSound@@2PAUMCPX_ALLOC_CONTEXT@@A[ecx+8], 0

; 140  :     }

  00118	e9 7a ff ff ff	 jmp	 $L35575
$L35576:

; 141  : 
; 142  :     //
; 143  :     // Release object references
; 144  :     //
; 145  : 
; 146  :     RELEASE(m_pSettings);

  0011d	8b 55 e8	 mov	 edx, DWORD PTR _this$[ebp]
  00120	83 7a 04 00	 cmp	 DWORD PTR [edx+4], 0
  00124	74 1c		 je	 SHORT $L35580
  00126	8b 45 e8	 mov	 eax, DWORD PTR _this$[ebp]
  00129	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  0012c	8b 55 e8	 mov	 edx, DWORD PTR _this$[ebp]
  0012f	8b 42 04	 mov	 eax, DWORD PTR [edx+4]
  00132	8b 09		 mov	 ecx, DWORD PTR [ecx]
  00134	50		 push	 eax
  00135	ff 51 08	 call	 DWORD PTR [ecx+8]
  00138	8b 55 e8	 mov	 edx, DWORD PTR _this$[ebp]
  0013b	c7 42 04 00 00
	00 00		 mov	 DWORD PTR [edx+4], 0
$L35580:

; 147  : 
; 148  : #ifdef ENABLE_SLOP_MEMORY_RECOVERY
; 149  : 
; 150  :     RELEASE(m_pSlopMemoryHeap);

  00142	8b 45 e8	 mov	 eax, DWORD PTR _this$[ebp]
  00145	83 78 08 00	 cmp	 DWORD PTR [eax+8], 0
  00149	74 1c		 je	 SHORT $L35566
  0014b	8b 4d e8	 mov	 ecx, DWORD PTR _this$[ebp]
  0014e	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  00151	8b 45 e8	 mov	 eax, DWORD PTR _this$[ebp]
  00154	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  00157	8b 12		 mov	 edx, DWORD PTR [edx]
  00159	51		 push	 ecx
  0015a	ff 52 08	 call	 DWORD PTR [edx+8]
  0015d	8b 45 e8	 mov	 eax, DWORD PTR _this$[ebp]
  00160	c7 40 08 00 00
	00 00		 mov	 DWORD PTR [eax+8], 0
$L35566:

; 151  : 
; 152  : #endif // ENABLE_SLOP_MEMORY_RECOVERY
; 153  : 
; 154  :     DPF_LEAVE_VOID();
; 155  : }

  00167	8b 4d e8	 mov	 ecx, DWORD PTR _this$[ebp]
  0016a	83 c1 14	 add	 ecx, 20			; 00000014H
  0016d	e8 00 00 00 00	 call	 ??1CAc97Device@DirectSound@@QAE@XZ ; DirectSound::CAc97Device::~CAc97Device
  00172	8b e5		 mov	 esp, ebp
  00174	5d		 pop	 ebp
  00175	c3		 ret	 0
??1CMcpxCore@DirectSound@@UAE@XZ ENDP			; DirectSound::CMcpxCore::~CMcpxCore
DSOUND	ENDS
EXTRN	??1CMcpxGPDspManager@DirectSound@@QAE@XZ:NEAR	; DirectSound::CMcpxGPDspManager::~CMcpxGPDspManager
; Function compile flags: /Odt
;	COMDAT ??_GCMcpxGPDspManager@DirectSound@@QAEPAXI@Z
DSOUND	SEGMENT
_this$ = -4
___flags$ = 8
??_GCMcpxGPDspManager@DirectSound@@QAEPAXI@Z PROC NEAR	; DirectSound::CMcpxGPDspManager::`scalar deleting destructor', COMDAT
; _this$ = ecx
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  00007	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0000a	e8 00 00 00 00	 call	 ??1CMcpxGPDspManager@DirectSound@@QAE@XZ ; DirectSound::CMcpxGPDspManager::~CMcpxGPDspManager
  0000f	8b 45 08	 mov	 eax, DWORD PTR ___flags$[ebp]
  00012	83 e0 01	 and	 eax, 1
  00015	85 c0		 test	 eax, eax
  00017	74 0c		 je	 SHORT $L35586
  00019	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0001c	51		 push	 ecx
  0001d	e8 00 00 00 00	 call	 ??3@YAXPAX@Z		; operator delete
  00022	83 c4 04	 add	 esp, 4
$L35586:
  00025	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00028	8b e5		 mov	 esp, ebp
  0002a	5d		 pop	 ebp
  0002b	c2 04 00	 ret	 4
??_GCMcpxGPDspManager@DirectSound@@QAEPAXI@Z ENDP	; DirectSound::CMcpxGPDspManager::`scalar deleting destructor'
DSOUND	ENDS
EXTRN	??1CMcpxEPDspManager@DirectSound@@QAE@XZ:NEAR	; DirectSound::CMcpxEPDspManager::~CMcpxEPDspManager
; Function compile flags: /Odt
;	COMDAT ??_GCMcpxEPDspManager@DirectSound@@QAEPAXI@Z
DSOUND	SEGMENT
_this$ = -4
___flags$ = 8
??_GCMcpxEPDspManager@DirectSound@@QAEPAXI@Z PROC NEAR	; DirectSound::CMcpxEPDspManager::`scalar deleting destructor', COMDAT
; _this$ = ecx
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  00007	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0000a	e8 00 00 00 00	 call	 ??1CMcpxEPDspManager@DirectSound@@QAE@XZ ; DirectSound::CMcpxEPDspManager::~CMcpxEPDspManager
  0000f	8b 45 08	 mov	 eax, DWORD PTR ___flags$[ebp]
  00012	83 e0 01	 and	 eax, 1
  00015	85 c0		 test	 eax, eax
  00017	74 0c		 je	 SHORT $L35589
  00019	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0001c	51		 push	 ecx
  0001d	e8 00 00 00 00	 call	 ??3@YAXPAX@Z		; operator delete
  00022	83 c4 04	 add	 esp, 4
$L35589:
  00025	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00028	8b e5		 mov	 esp, ebp
  0002a	5d		 pop	 ebp
  0002b	c2 04 00	 ret	 4
??_GCMcpxEPDspManager@DirectSound@@QAEPAXI@Z ENDP	; DirectSound::CMcpxEPDspManager::`scalar deleting destructor'
DSOUND	ENDS
PUBLIC	?Initialize@CMcpxCore@DirectSound@@QAEJXZ	; DirectSound::CMcpxCore::Initialize
PUBLIC	?Reset@CMcpxCore@DirectSound@@IAEXXZ		; DirectSound::CMcpxCore::Reset
PUBLIC	?SetSetupEngineState@CMcpxCore@DirectSound@@IAEXW4MCPX_SE_STATE@@@Z ; DirectSound::CMcpxCore::SetSetupEngineState
PUBLIC	?AllocateApuMemory@CMcpxCore@DirectSound@@IAEJXZ ; DirectSound::CMcpxCore::AllocateApuMemory
PUBLIC	?SetupFrontEndProcessor@CMcpxCore@DirectSound@@IAEXXZ ; DirectSound::CMcpxCore::SetupFrontEndProcessor
PUBLIC	?SetupVoiceProcessor@CMcpxCore@DirectSound@@IAEXXZ ; DirectSound::CMcpxCore::SetupVoiceProcessor
PUBLIC	?SetupDSPs@CMcpxCore@DirectSound@@IAEXXZ	; DirectSound::CMcpxCore::SetupDSPs
PUBLIC	?SetupAc97@CMcpxCore@DirectSound@@IAEJXZ	; DirectSound::CMcpxCore::SetupAc97
EXTRN	?Run@CAc97Channel@DirectSound@@QAEXK@Z:NEAR	; DirectSound::CAc97Channel::Run
; Function compile flags: /Odt
;	COMDAT ?Initialize@CMcpxCore@DirectSound@@QAEJXZ
DSOUND	SEGMENT
_this$ = -8
_hr$ = -4
?Initialize@CMcpxCore@DirectSound@@QAEJXZ PROC NEAR	; DirectSound::CMcpxCore::Initialize, COMDAT
; _this$ = ecx

; 181  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 08	 sub	 esp, 8
  00006	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 182  :     HRESULT                 hr;
; 183  : 
; 184  :     DPF_ENTER();
; 185  : 
; 186  :     //
; 187  :     // Make sure we're in a known good state
; 188  :     //
; 189  :     
; 190  :     Reset();

  00009	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0000c	e8 00 00 00 00	 call	 ?Reset@CMcpxCore@DirectSound@@IAEXXZ ; DirectSound::CMcpxCore::Reset

; 191  : 
; 192  :     //
; 193  :     // Allocate memory
; 194  :     //
; 195  : 
; 196  :     hr = AllocateApuMemory();

  00011	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00014	e8 00 00 00 00	 call	 ?AllocateApuMemory@CMcpxCore@DirectSound@@IAEJXZ ; DirectSound::CMcpxCore::AllocateApuMemory
  00019	89 45 fc	 mov	 DWORD PTR _hr$[ebp], eax

; 197  : 
; 198  :     //
; 199  :     // Set up the front-end and voice processor
; 200  :     //
; 201  : 
; 202  :     if(SUCCEEDED(hr))

  0001c	83 7d fc 00	 cmp	 DWORD PTR _hr$[ebp], 0
  00020	7c 10		 jl	 SHORT $L35596

; 203  :     {
; 204  :         SetupFrontEndProcessor();

  00022	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00025	e8 00 00 00 00	 call	 ?SetupFrontEndProcessor@CMcpxCore@DirectSound@@IAEXXZ ; DirectSound::CMcpxCore::SetupFrontEndProcessor

; 205  :         SetupVoiceProcessor();

  0002a	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0002d	e8 00 00 00 00	 call	 ?SetupVoiceProcessor@CMcpxCore@DirectSound@@IAEXXZ ; DirectSound::CMcpxCore::SetupVoiceProcessor
$L35596:

; 206  :     }
; 207  : 
; 208  :     //
; 209  :     // Set up the AC97
; 210  :     //
; 211  : 
; 212  :     if(SUCCEEDED(hr))

  00032	83 7d fc 00	 cmp	 DWORD PTR _hr$[ebp], 0
  00036	7c 0b		 jl	 SHORT $L35598

; 213  :     {
; 214  :         hr = SetupAc97();

  00038	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0003b	e8 00 00 00 00	 call	 ?SetupAc97@CMcpxCore@DirectSound@@IAEJXZ ; DirectSound::CMcpxCore::SetupAc97
  00040	89 45 fc	 mov	 DWORD PTR _hr$[ebp], eax
$L35598:

; 215  :     }
; 216  : 
; 217  :     //
; 218  :     // Set up the DSPs
; 219  :     //
; 220  : 
; 221  :     if(SUCCEEDED(hr)) 

  00043	83 7d fc 00	 cmp	 DWORD PTR _hr$[ebp], 0
  00047	7c 08		 jl	 SHORT $L35600

; 222  :     {
; 223  :         SetupDSPs();

  00049	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0004c	e8 00 00 00 00	 call	 ?SetupDSPs@CMcpxCore@DirectSound@@IAEXXZ ; DirectSound::CMcpxCore::SetupDSPs
$L35600:

; 224  :     }    
; 225  : 
; 226  :     //
; 227  :     // Set up the APU/ACI link
; 228  :     //
; 229  : 
; 230  :     if(SUCCEEDED(hr))

  00051	83 7d fc 00	 cmp	 DWORD PTR _hr$[ebp], 0
  00055	7c 0a		 jl	 SHORT $L35602

; 231  :     {
; 232  :         SetSetupEngineState(MCPX_SE_STATE_DEFAULT);

  00057	6a 01		 push	 1
  00059	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  0005c	e8 00 00 00 00	 call	 ?SetSetupEngineState@CMcpxCore@DirectSound@@IAEXW4MCPX_SE_STATE@@@Z ; DirectSound::CMcpxCore::SetSetupEngineState
$L35602:

; 233  :     }
; 234  : 
; 235  :     //
; 236  :     // Start the ACI channels running
; 237  :     //
; 238  : 
; 239  :     if(SUCCEEDED(hr))

  00061	83 7d fc 00	 cmp	 DWORD PTR _hr$[ebp], 0
  00065	7c 1a		 jl	 SHORT $L35604

; 240  :     {       
; 241  :         m_Ac97.m_apChannels[AC97_CHANNELTYPE_DIGITAL]->Run();

  00067	6a ff		 push	 -1
  00069	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0006c	8b 48 18	 mov	 ecx, DWORD PTR [eax+24]
  0006f	e8 00 00 00 00	 call	 ?Run@CAc97Channel@DirectSound@@QAEXK@Z ; DirectSound::CAc97Channel::Run

; 242  :         m_Ac97.m_apChannels[AC97_CHANNELTYPE_ANALOG]->Run();

  00074	6a ff		 push	 -1
  00076	8b 4d f8	 mov	 ecx, DWORD PTR _this$[ebp]
  00079	8b 49 14	 mov	 ecx, DWORD PTR [ecx+20]
  0007c	e8 00 00 00 00	 call	 ?Run@CAc97Channel@DirectSound@@QAEXK@Z ; DirectSound::CAc97Channel::Run
$L35604:

; 243  :     }
; 244  : 
; 245  :     DPF_LEAVE_HRESULT(hr);
; 246  : 
; 247  : 	return hr;

  00081	8b 45 fc	 mov	 eax, DWORD PTR _hr$[ebp]

; 248  : }

  00084	8b e5		 mov	 esp, ebp
  00086	5d		 pop	 ebp
  00087	c3		 ret	 0
?Initialize@CMcpxCore@DirectSound@@QAEJXZ ENDP		; DirectSound::CMcpxCore::Initialize
DSOUND	ENDS
PUBLIC	?SetupGlobalProcessor@CMcpxCore@DirectSound@@IAEXXZ ; DirectSound::CMcpxCore::SetupGlobalProcessor
PUBLIC	?SetupEncodeProcessor@CMcpxCore@DirectSound@@IAEXXZ ; DirectSound::CMcpxCore::SetupEncodeProcessor
EXTRN	__imp__KeStallExecutionProcessor@4:NEAR
; Function compile flags: /Odt
; File c:\xbox\private\windows\directx\dsound\dsound\mcpxcore.h
;	COMDAT ?SetupDSPs@CMcpxCore@DirectSound@@IAEXXZ
DSOUND	SEGMENT
_this$ = -4
?SetupDSPs@CMcpxCore@DirectSound@@IAEXXZ PROC NEAR	; DirectSound::CMcpxCore::SetupDSPs, COMDAT
; _this$ = ecx

; 374  :     {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 375  :         SetupGlobalProcessor();

  00007	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0000a	e8 00 00 00 00	 call	 ?SetupGlobalProcessor@CMcpxCore@DirectSound@@IAEXXZ ; DirectSound::CMcpxCore::SetupGlobalProcessor

; 376  : 
; 377  : #ifndef MCPX_BOOT_LIB
; 378  : 
; 379  :         SetupEncodeProcessor();

  0000f	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00012	e8 00 00 00 00	 call	 ?SetupEncodeProcessor@CMcpxCore@DirectSound@@IAEXXZ ; DirectSound::CMcpxCore::SetupEncodeProcessor

; 380  :         KeStallExecutionProcessor(10 * 1000);

  00017	68 10 27 00 00	 push	 10000			; 00002710H
  0001c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__KeStallExecutionProcessor@4

; 381  : 
; 382  : #endif // MCPX_BOOT_LIB
; 383  : 
; 384  :     }

  00022	8b e5		 mov	 esp, ebp
  00024	5d		 pop	 ebp
  00025	c3		 ret	 0
?SetupDSPs@CMcpxCore@DirectSound@@IAEXXZ ENDP		; DirectSound::CMcpxCore::SetupDSPs
DSOUND	ENDS
PUBLIC	?IdleVoiceProcessor@CMcpxCore@DirectSound@@QAEHH@Z ; DirectSound::CMcpxCore::IdleVoiceProcessor
PUBLIC	?SetInterruptState@CMcpxCore@DirectSound@@IAEXH@Z ; DirectSound::CMcpxCore::SetInterruptState
PUBLIC	?SetPrivLockState@CMcpxCore@DirectSound@@IAEXH@Z ; DirectSound::CMcpxCore::SetPrivLockState
PUBLIC	?SetFrontEndState@CMcpxCore@DirectSound@@IAEXW4MCPX_FE_STATE@@@Z ; DirectSound::CMcpxCore::SetFrontEndState
EXTRN	?Terminate@CAc97Device@DirectSound@@QAEXXZ:NEAR	; DirectSound::CAc97Device::Terminate
; Function compile flags: /Odt
; File c:\xbox\private\windows\directx\dsound\dsound\mcpxcore.cpp
;	COMDAT ?Reset@CMcpxCore@DirectSound@@IAEXXZ
DSOUND	SEGMENT
_this$ = -4
?Reset@CMcpxCore@DirectSound@@IAEXXZ PROC NEAR		; DirectSound::CMcpxCore::Reset, COMDAT
; _this$ = ecx

; 274  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 275  :     DPF_ENTER();
; 276  : 
; 277  :     //
; 278  :     // Shut down the AC'97
; 279  :     //
; 280  : 
; 281  :     m_Ac97.Terminate();

  00007	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0000a	83 c1 14	 add	 ecx, 20			; 00000014H
  0000d	e8 00 00 00 00	 call	 ?Terminate@CAc97Device@DirectSound@@QAEXXZ ; DirectSound::CAc97Device::Terminate

; 282  : 
; 283  :     //
; 284  :     // Shut down the APU components
; 285  :     //
; 286  : 
; 287  :     IdleVoiceProcessor(TRUE);

  00012	6a 01		 push	 1
  00014	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00017	e8 00 00 00 00	 call	 ?IdleVoiceProcessor@CMcpxCore@DirectSound@@QAEHH@Z ; DirectSound::CMcpxCore::IdleVoiceProcessor

; 288  :     SetInterruptState(FALSE);

  0001c	6a 00		 push	 0
  0001e	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00021	e8 00 00 00 00	 call	 ?SetInterruptState@CMcpxCore@DirectSound@@IAEXH@Z ; DirectSound::CMcpxCore::SetInterruptState

; 289  :     SetPrivLockState(TRUE);

  00026	6a 01		 push	 1
  00028	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0002b	e8 00 00 00 00	 call	 ?SetPrivLockState@CMcpxCore@DirectSound@@IAEXH@Z ; DirectSound::CMcpxCore::SetPrivLockState

; 290  :     SetFrontEndState(MCPX_FE_STATE_HALTED);

  00030	6a 00		 push	 0
  00032	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00035	e8 00 00 00 00	 call	 ?SetFrontEndState@CMcpxCore@DirectSound@@IAEXW4MCPX_FE_STATE@@@Z ; DirectSound::CMcpxCore::SetFrontEndState

; 291  :     SetSetupEngineState(MCPX_SE_STATE_OFF);

  0003a	6a 00		 push	 0
  0003c	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0003f	e8 00 00 00 00	 call	 ?SetSetupEngineState@CMcpxCore@DirectSound@@IAEXW4MCPX_SE_STATE@@@Z ; DirectSound::CMcpxCore::SetSetupEngineState

; 292  : 
; 293  :     MCPX_REG_WRITE(NV_PAPU_TVL2D, 0xFFFF);

  00044	c7 05 54 20 80
	fe ff ff 00 00	 mov	 DWORD PTR ds:-25157548, 65535 ; 0000ffffH

; 294  :     MCPX_REG_WRITE(NV_PAPU_TVL3D, 0xFFFF);

  0004e	c7 05 60 20 80
	fe ff ff 00 00	 mov	 DWORD PTR ds:-25157536, 65535 ; 0000ffffH

; 295  :     MCPX_REG_WRITE(NV_PAPU_TVLMP, 0xFFFF);

  00058	c7 05 6c 20 80
	fe ff ff 00 00	 mov	 DWORD PTR ds:-25157524, 65535 ; 0000ffffH

; 296  : 
; 297  :     MCPX_REG_WRITE(NV_PAPU_CVL2D, 0xFFFF);

  00062	c7 05 58 20 80
	fe ff ff 00 00	 mov	 DWORD PTR ds:-25157544, 65535 ; 0000ffffH

; 298  :     MCPX_REG_WRITE(NV_PAPU_CVL3D, 0xFFFF);

  0006c	c7 05 64 20 80
	fe ff ff 00 00	 mov	 DWORD PTR ds:-25157532, 65535 ; 0000ffffH

; 299  :     MCPX_REG_WRITE(NV_PAPU_CVLMP, 0xFFFF);

  00076	c7 05 70 20 80
	fe ff ff 00 00	 mov	 DWORD PTR ds:-25157520, 65535 ; 0000ffffH

; 300  : 
; 301  :     MCPX_REG_WRITE(NV_PAPU_NVL2D, 0xFFFF);

  00080	c7 05 5c 20 80
	fe ff ff 00 00	 mov	 DWORD PTR ds:-25157540, 65535 ; 0000ffffH

; 302  :     MCPX_REG_WRITE(NV_PAPU_NVL3D, 0xFFFF);

  0008a	c7 05 68 20 80
	fe ff ff 00 00	 mov	 DWORD PTR ds:-25157528, 65535 ; 0000ffffH

; 303  :     MCPX_REG_WRITE(NV_PAPU_NVLMP, 0xFFFF);

  00094	c7 05 74 20 80
	fe ff ff 00 00	 mov	 DWORD PTR ds:-25157516, 65535 ; 0000ffffH

; 304  : 
; 305  :     MCPX_REG_WRITE(NV_PAPU_GPRST, 0);

  0009e	c7 05 fc ff 83
	fe 00 00 00 00	 mov	 DWORD PTR ds:-24903684, 0

; 306  :     MCPX_REG_WRITE(NV_PAPU_EPRST, 1);

  000a8	c7 05 fc ff 85
	fe 01 00 00 00	 mov	 DWORD PTR ds:-24772612, 1

; 307  : 
; 308  :     DPF_LEAVE_VOID();
; 309  : }

  000b2	8b e5		 mov	 esp, ebp
  000b4	5d		 pop	 ebp
  000b5	c3		 ret	 0
?Reset@CMcpxCore@DirectSound@@IAEXXZ ENDP		; DirectSound::CMcpxCore::Reset
DSOUND	ENDS
PUBLIC	?ResetGlobalCounters@CMcpxCore@DirectSound@@IAEXXZ ; DirectSound::CMcpxCore::ResetGlobalCounters
; Function compile flags: /Odt
;	COMDAT ?SetupFrontEndProcessor@CMcpxCore@DirectSound@@IAEXXZ
DSOUND	SEGMENT
_this$ = -40
_rFeControl$ = -36
_rInterruptMask$ = -32
_dwForce$ = -24
_dwIgnore$ = -16
_rSeControl$ = -4
?SetupFrontEndProcessor@CMcpxCore@DirectSound@@IAEXXZ PROC NEAR ; DirectSound::CMcpxCore::SetupFrontEndProcessor, COMDAT
; _this$ = ecx

; 335  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 28	 sub	 esp, 40			; 00000028H
  00006	89 4d d8	 mov	 DWORD PTR _this$[ebp], ecx

; 336  :     DWORD                   dwForce[2]      = { 0, 0 };

  00009	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _dwForce$[ebp], 0
  00010	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _dwForce$[ebp+4], 0

; 337  :     DWORD                   dwIgnore[2]     = { 0, 0 };

  00017	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _dwIgnore$[ebp], 0
  0001e	c7 45 f4 00 00
	00 00		 mov	 DWORD PTR _dwIgnore$[ebp+4], 0

; 338  :     R_INTR                  rInterruptMask;
; 339  :     R_FE_CONTROL            rFeControl;
; 340  :     R_SE_CONTROL            rSeControl;
; 341  :     DWORD                   i;
; 342  : 
; 343  :     DPF_ENTER();
; 344  : 
; 345  :     //
; 346  :     // Setup interrupt masks
; 347  :     //
; 348  : 
; 349  :     rInterruptMask.uValue = 0;

  00025	c7 45 e0 00 00
	00 00		 mov	 DWORD PTR _rInterruptMask$[ebp], 0

; 350  :     rInterruptMask.General = NV_PAPU_IEN_GINTEN_DISABLED;

  0002c	8b 45 e0	 mov	 eax, DWORD PTR _rInterruptMask$[ebp]
  0002f	83 e0 fe	 and	 eax, -2			; fffffffeH
  00032	89 45 e0	 mov	 DWORD PTR _rInterruptMask$[ebp], eax

; 351  : 
; 352  : #ifdef MCPX_ENABLE_DELTA_WARNINGS
; 353  : 
; 354  :     rInterruptMask.DeltaWarning = NV_PAPU_IEN_DWINTEN_ENABLED;
; 355  : 
; 356  : #else // MCPX_ENABLE_DELTA_WARNINGS
; 357  : 
; 358  :     rInterruptMask.DeltaWarning = NV_PAPU_IEN_DWINTEN_DISABLED;

  00035	8b 4d e0	 mov	 ecx, DWORD PTR _rInterruptMask$[ebp]
  00038	83 e1 fd	 and	 ecx, -3			; fffffffdH
  0003b	89 4d e0	 mov	 DWORD PTR _rInterruptMask$[ebp], ecx

; 359  : 
; 360  : #endif // MCPX_ENABLE_DELTA_WARNINGS
; 361  : 
; 362  :     rInterruptMask.DeltaPanic = NV_PAPU_IEN_DPINTEN_ENABLED;

  0003e	8b 55 e0	 mov	 edx, DWORD PTR _rInterruptMask$[ebp]
  00041	83 ca 08	 or	 edx, 8
  00044	89 55 e0	 mov	 DWORD PTR _rInterruptMask$[ebp], edx

; 363  :     rInterruptMask.FETrap = NV_PAPU_IEN_FETINTEN_ENABLED;

  00047	8b 45 e0	 mov	 eax, DWORD PTR _rInterruptMask$[ebp]
  0004a	83 c8 10	 or	 eax, 16			; 00000010H
  0004d	89 45 e0	 mov	 DWORD PTR _rInterruptMask$[ebp], eax

; 364  :     rInterruptMask.FENotify = NV_PAPU_IEN_FENINTEN_DISABLED;

  00050	8b 4d e0	 mov	 ecx, DWORD PTR _rInterruptMask$[ebp]
  00053	83 e1 df	 and	 ecx, -33		; ffffffdfH
  00056	89 4d e0	 mov	 DWORD PTR _rInterruptMask$[ebp], ecx

; 365  :     rInterruptMask.FEVoice = NV_PAPU_IEN_FEVINTEN_ENABLED;

  00059	8b 55 e0	 mov	 edx, DWORD PTR _rInterruptMask$[ebp]
  0005c	83 ca 40	 or	 edx, 64			; 00000040H
  0005f	89 55 e0	 mov	 DWORD PTR _rInterruptMask$[ebp], edx

; 366  :     rInterruptMask.FEMethodOverFlow = NV_PAPU_IEN_FEOINTEN_ENABLED;

  00062	8b 45 e0	 mov	 eax, DWORD PTR _rInterruptMask$[ebp]
  00065	0d 80 00 00 00	 or	 eax, 128		; 00000080H
  0006a	89 45 e0	 mov	 DWORD PTR _rInterruptMask$[ebp], eax

; 367  :     rInterruptMask.GPMailbox = NV_PAPU_IEN_GPMINTEN_DISABLED;

  0006d	8b 4d e0	 mov	 ecx, DWORD PTR _rInterruptMask$[ebp]
  00070	81 e1 ff fe ff
	ff		 and	 ecx, -257		; fffffeffH
  00076	89 4d e0	 mov	 DWORD PTR _rInterruptMask$[ebp], ecx

; 368  :     rInterruptMask.GPNotify = NV_PAPU_IEN_GPNINTEN_DISABLED;

  00079	8b 55 e0	 mov	 edx, DWORD PTR _rInterruptMask$[ebp]
  0007c	81 e2 ff fd ff
	ff		 and	 edx, -513		; fffffdffH
  00082	89 55 e0	 mov	 DWORD PTR _rInterruptMask$[ebp], edx

; 369  :     rInterruptMask.EPMailbox = NV_PAPU_IEN_EPMINTEN_DISABLED;

  00085	8b 45 e0	 mov	 eax, DWORD PTR _rInterruptMask$[ebp]
  00088	25 ff fb ff ff	 and	 eax, -1025		; fffffbffH
  0008d	89 45 e0	 mov	 DWORD PTR _rInterruptMask$[ebp], eax

; 370  :     rInterruptMask.EPNotify = NV_PAPU_IEN_EPNINTEN_DISABLED;

  00090	8b 4d e0	 mov	 ecx, DWORD PTR _rInterruptMask$[ebp]
  00093	81 e1 ff f7 ff
	ff		 and	 ecx, -2049		; fffff7ffH
  00099	89 4d e0	 mov	 DWORD PTR _rInterruptMask$[ebp], ecx

; 371  : 
; 372  :     MCPX_REG_WRITE(NV_PAPU_IEN, rInterruptMask.uValue);

  0009c	8b 55 e0	 mov	 edx, DWORD PTR _rInterruptMask$[ebp]
  0009f	89 15 04 10 80
	fe		 mov	 DWORD PTR ds:-25161724, edx

; 373  : 
; 374  :     //
; 375  :     // Set default FE control bits
; 376  :     //
; 377  : 
; 378  :     rFeControl.uValue = 0;

  000a5	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _rFeControl$[ebp], 0

; 379  :     rFeControl.TrapOnNotifier = NV_PAPU_FECTL_FENINT_ENABLED;

  000ac	8b 45 dc	 mov	 eax, DWORD PTR _rFeControl$[ebp]
  000af	83 c8 08	 or	 eax, 8
  000b2	89 45 dc	 mov	 DWORD PTR _rFeControl$[ebp], eax

; 380  :     rFeControl.Mode = NV_PAPU_FECTL_FEMETHMODE_HALTED;

  000b5	8b 4d dc	 mov	 ecx, DWORD PTR _rFeControl$[ebp]
  000b8	81 e1 1f ff ff
	ff		 and	 ecx, -225		; ffffff1fH
  000be	81 c9 80 00 00
	00		 or	 ecx, 128		; 00000080H
  000c4	89 4d dc	 mov	 DWORD PTR _rFeControl$[ebp], ecx

; 381  :     rFeControl.EnableLock = NV_PAPU_FECTL_FEMETH_PRIVLOCK_NOT_DISABLED;

  000c7	8b 55 dc	 mov	 edx, DWORD PTR _rFeControl$[ebp]
  000ca	81 e2 ff df ff
	ff		 and	 edx, -8193		; ffffdfffH
  000d0	89 55 dc	 mov	 DWORD PTR _rFeControl$[ebp], edx

; 382  : 
; 383  :     MCPX_REG_WRITE(NV_PAPU_FECTL, rFeControl.uValue);

  000d3	8b 45 dc	 mov	 eax, DWORD PTR _rFeControl$[ebp]
  000d6	a3 00 11 80 fe	 mov	 DWORD PTR ds:-25161472, eax

; 384  : 
; 385  :     //
; 386  :     // Set default SE control bits
; 387  :     //
; 388  :     
; 389  :     rSeControl.uValue = 0;

  000db	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _rSeControl$[ebp], 0

; 390  :     rSeControl.GSCUpdate = NV_PAPU_SECTL_XCNTMODE_OFF;

  000e2	8b 4d fc	 mov	 ecx, DWORD PTR _rSeControl$[ebp]
  000e5	83 e1 e7	 and	 ecx, -25		; ffffffe7H
  000e8	89 4d fc	 mov	 DWORD PTR _rSeControl$[ebp], ecx

; 391  : 
; 392  :     MCPX_REG_WRITE(NV_PAPU_SECTL, rSeControl.uValue);

  000eb	8b 55 fc	 mov	 edx, DWORD PTR _rSeControl$[ebp]
  000ee	89 15 00 20 80
	fe		 mov	 DWORD PTR ds:-25157632, edx

; 393  : 
; 394  :     //
; 395  :     // We're overriding the internal SE2FE_IDLE_MESSAGE because a couple
; 396  :     // of things don't work the way they should.  First, the hardware has
; 397  :     // a race condition that can cause voice list corruption if a VoiceOn
; 398  :     // method is received with an antecedent voice that has already gone
; 399  :     // idle.  Second, VoiceRelease causes a PERSIST voice to be removed
; 400  :     // from the processing list when the envelope completes.  By overriding
; 401  :     // SE2FE_IDLE_VOICE in software, we can address both of these issues
; 402  :     //
; 403  : 
; 404  :     dwForce[1] |= MCPX_MAKE_REG_VALUE(1, NV_PAPU_FETFORCE1_SE2FE_IDLE_VOICE);

  000f4	8b 45 ec	 mov	 eax, DWORD PTR _dwForce$[ebp+4]
  000f7	0d 00 80 00 00	 or	 eax, 32768		; 00008000H
  000fc	89 45 ec	 mov	 DWORD PTR _dwForce$[ebp+4], eax

; 405  : 
; 406  :     MCPX_REG_WRITE(NV_PAPU_FETFORCE0, dwForce[0]);

  000ff	8b 4d e8	 mov	 ecx, DWORD PTR _dwForce$[ebp]
  00102	89 0d 00 15 80
	fe		 mov	 DWORD PTR ds:-25160448, ecx

; 407  :     MCPX_REG_WRITE(NV_PAPU_FETFORCE1, dwForce[1]);

  00108	8b 55 ec	 mov	 edx, DWORD PTR _dwForce$[ebp+4]
  0010b	89 15 04 15 80
	fe		 mov	 DWORD PTR ds:-25160444, edx

; 408  : 
; 409  :     //
; 410  :     // SET_VOICE_TAR_Hrtf has a bug in it that prevents us from setting 
; 411  :     // a NULL HRTF filter handle (0xFFFF).  This is strictly a parameter
; 412  :     // validation bug since NULL is a valid value.
; 413  :     //
; 414  :     // VoiceOn will cause a BAD_LIST_POINTER trap if the VP isn't idle
; 415  :     // and we use the INHERIT list type.  We're working around this in
; 416  :     // CMcpxVoiceClient::ActivateVoice.
; 417  :     //
; 418  : 
; 419  :     dwIgnore[0] |= MCPX_MAKE_REG_VALUE(1, NV_PAPU_FETIGNORE0_SET_VOICE_TAR_HRTF);

  00111	8b 45 f0	 mov	 eax, DWORD PTR _dwIgnore$[ebp]
  00114	0d 00 00 80 00	 or	 eax, 8388608		; 00800000H
  00119	89 45 f0	 mov	 DWORD PTR _dwIgnore$[ebp], eax

; 420  :     dwIgnore[0] |= MCPX_MAKE_REG_VALUE(1, NV_PAPU_FETIGNORE0_VOICE_ON);

  0011c	8b 4d f0	 mov	 ecx, DWORD PTR _dwIgnore$[ebp]
  0011f	83 c9 40	 or	 ecx, 64			; 00000040H
  00122	89 4d f0	 mov	 DWORD PTR _dwIgnore$[ebp], ecx

; 421  : 
; 422  :     MCPX_REG_WRITE(NV_PAPU_FETIGNORE0, dwIgnore[0]);

  00125	8b 55 f0	 mov	 edx, DWORD PTR _dwIgnore$[ebp]
  00128	89 15 08 15 80
	fe		 mov	 DWORD PTR ds:-25160440, edx

; 423  :     MCPX_REG_WRITE(NV_PAPU_FETIGNORE1, dwIgnore[1]);

  0012e	8b 45 f4	 mov	 eax, DWORD PTR _dwIgnore$[ebp+4]
  00131	a3 0c 15 80 fe	 mov	 DWORD PTR ds:-25160436, eax

; 424  : 
; 425  :     //
; 426  :     // Initialize global counts so we can track how far ahead the output 
; 427  :     // counter stays from the input
; 428  :     //
; 429  : 
; 430  :     ResetGlobalCounters();

  00136	8b 4d d8	 mov	 ecx, DWORD PTR _this$[ebp]
  00139	e8 00 00 00 00	 call	 ?ResetGlobalCounters@CMcpxCore@DirectSound@@IAEXXZ ; DirectSound::CMcpxCore::ResetGlobalCounters

; 431  :     
; 432  :     //
; 433  :     // Set up boundaries
; 434  :     //
; 435  : 
; 436  :     MCPX_REG_WRITE(NV_PAPU_FEMAXV, MCPX_HW_MAX_VOICES - 1);

  0013e	c7 05 04 11 80
	fe ff 00 00 00	 mov	 DWORD PTR ds:-25161468, 255 ; 000000ffH

; 437  : 	MCPX_REG_WRITE(NV_PAPU_FEMAXTV, MCPX_HW_MAX_3D_VOICES - 1);

  00148	c7 05 08 11 80
	fe 3f 00 00 00	 mov	 DWORD PTR ds:-25161464, 63 ; 0000003fH

; 438  : 	MCPX_REG_WRITE(NV_PAPU_FEMAXHT, MCPX_HW_MAX_3D_VOICES * MCPX_HW_3DFILTERS_PER_VOICE - 1);

  00152	c7 05 1c 11 80
	fe 7f 00 00 00	 mov	 DWORD PTR ds:-25161444, 127 ; 0000007fH

; 439  : 	MCPX_REG_WRITE(NV_PAPU_FEMAXSESSL, MCPX_HW_MAX_SSL_PRDS - 1);

  0015c	c7 05 24 11 80
	fe ff 1f 00 00	 mov	 DWORD PTR ds:-25161436, 8191 ; 00001fffH

; 440  : 	MCPX_REG_WRITE(NV_PAPU_FEMAXSESGE, MCPX_HW_MAX_BUFFER_PRDS - 1);

  00166	c7 05 38 11 80
	fe ff 07 00 00	 mov	 DWORD PTR ds:-25161416, 2047 ; 000007ffH

; 441  : 	MCPX_REG_WRITE(NV_PAPU_FEMAXMB, MCPX_HW_MAX_SUBMIX_BINS);

  00170	c7 05 58 11 80
	fe 20 00 00 00	 mov	 DWORD PTR ds:-25161384, 32 ; 00000020H

; 442  : 
; 443  :     MCPX_REG_WRITE(NV_PAPU_FESESSLCTXPA, 0);

  0017a	c7 05 2c 11 80
	fe 00 00 00 00	 mov	 DWORD PTR ds:-25161428, 0

; 444  :     MCPX_REG_WRITE(NV_PAPU_FESESSLMAXOFF, MCPX_MAX_VALID_ADDRESS);

  00184	c7 05 30 11 80
	fe 00 00 00 08	 mov	 DWORD PTR ds:-25161424, 134217728 ; 08000000H

; 445  : 
; 446  :     MCPX_REG_WRITE(NV_PAPU_FESESGECTXPA, 0);

  0018e	c7 05 40 11 80
	fe 00 00 00 00	 mov	 DWORD PTR ds:-25161408, 0

; 447  :     MCPX_REG_WRITE(NV_PAPU_FESESGEMAXOFF, MCPX_MAX_VALID_ADDRESS);

  00198	c7 05 44 11 80
	fe 00 00 00 08	 mov	 DWORD PTR ds:-25161404, 134217728 ; 08000000H

; 448  : 
; 449  :     MCPX_REG_WRITE(NV_PAPU_FEGPSGECTXPA, 0);

  001a2	c7 05 50 11 80
	fe 00 00 00 00	 mov	 DWORD PTR ds:-25161392, 0

; 450  :     MCPX_REG_WRITE(NV_PAPU_FEGPSGEMAXOFF, MCPX_MAX_VALID_ADDRESS);

  001ac	c7 05 54 11 80
	fe 00 00 00 08	 mov	 DWORD PTR ds:-25161388, 134217728 ; 08000000H

; 451  : 
; 452  :     //
; 453  :     // Unlock the front end and setup engine
; 454  :     //
; 455  : 
; 456  :     SetPrivLockState(FALSE);

  001b6	6a 00		 push	 0
  001b8	8b 4d d8	 mov	 ecx, DWORD PTR _this$[ebp]
  001bb	e8 00 00 00 00	 call	 ?SetPrivLockState@CMcpxCore@DirectSound@@IAEXH@Z ; DirectSound::CMcpxCore::SetPrivLockState

; 457  :     SetFrontEndState(MCPX_FE_STATE_FREE_RUNNING);

  001c0	6a 01		 push	 1
  001c2	8b 4d d8	 mov	 ecx, DWORD PTR _this$[ebp]
  001c5	e8 00 00 00 00	 call	 ?SetFrontEndState@CMcpxCore@DirectSound@@IAEXW4MCPX_FE_STATE@@@Z ; DirectSound::CMcpxCore::SetFrontEndState

; 458  :     SetFrontEndState(MCPX_FE_STATE_ISO);

  001ca	6a 02		 push	 2
  001cc	8b 4d d8	 mov	 ecx, DWORD PTR _this$[ebp]
  001cf	e8 00 00 00 00	 call	 ?SetFrontEndState@CMcpxCore@DirectSound@@IAEXW4MCPX_FE_STATE@@@Z ; DirectSound::CMcpxCore::SetFrontEndState

; 459  :     SetSetupEngineState(MCPX_SE_STATE_ISO);

  001d4	6a 04		 push	 4
  001d6	8b 4d d8	 mov	 ecx, DWORD PTR _this$[ebp]
  001d9	e8 00 00 00 00	 call	 ?SetSetupEngineState@CMcpxCore@DirectSound@@IAEXW4MCPX_SE_STATE@@@Z ; DirectSound::CMcpxCore::SetSetupEngineState

; 460  : 
; 461  :     DPF_LEAVE_VOID();
; 462  : }

  001de	8b e5		 mov	 esp, ebp
  001e0	5d		 pop	 ebp
  001e1	c3		 ret	 0
?SetupFrontEndProcessor@CMcpxCore@DirectSound@@IAEXXZ ENDP ; DirectSound::CMcpxCore::SetupFrontEndProcessor
DSOUND	ENDS
PUBLIC	?AllocateContext@CMcpxCore@DirectSound@@SGJPAUMCPX_ALLOC_CONTEXT@@KK@Z ; DirectSound::CMcpxCore::AllocateContext
PUBLIC	??_C@_0DL@GNOKBCIE@c?3?2xbox?2private?2windows?2directx?2@ ; `string'
PUBLIC	??_C@_0CL@KBCOEPGO@?$CB?$CIm_adwGPOutputBufferSizes?$FLi?$FN?5?$CF?5@ ; `string'
PUBLIC	??_C@_0CL@FALOOAAF@?$CB?$CIm_adwEPOutputBufferSizes?$FLi?$FN?5?$CF?5@ ; `string'
PUBLIC	?__AddRef@DirectSound@@YGPAVCMcpxSlopMemoryHeap@1@PAV21@@Z ; DirectSound::__AddRef
PUBLIC	??_C@_0BE@DKKPACBF@CMcpxSlopMemoryHeap?$AA@	; `string'
EXTRN	?Assert@CDebug@DirectSound@@SAXHPBD0I@Z:NEAR	; DirectSound::CDebug::Assert
EXTRN	?m_pSlopMemoryHeap@CMcpxSlopMemoryHeap@DirectSound@@2PAV12@A:DWORD ; DirectSound::CMcpxSlopMemoryHeap::m_pSlopMemoryHeap
EXTRN	??0CMcpxSlopMemoryHeap@DirectSound@@QAE@XZ:NEAR	; DirectSound::CMcpxSlopMemoryHeap::CMcpxSlopMemoryHeap
EXTRN	?AddRun@CMcpxSlopMemoryHeap@DirectSound@@QAEHPAXKK@Z:NEAR ; DirectSound::CMcpxSlopMemoryHeap::AddRun
EXTRN	?AC3GetTotalScratchSize@CMcpxEPDspManager@DirectSound@@SGKXZ:NEAR ; DirectSound::CMcpxEPDspManager::AC3GetTotalScratchSize
;	COMDAT ??_C@_0DL@GNOKBCIE@c?3?2xbox?2private?2windows?2directx?2@
DSOUND_RD	SEGMENT
??_C@_0DL@GNOKBCIE@c?3?2xbox?2private?2windows?2directx?2@ DB 'c:\xbox\pr'
	DB	'ivate\windows\directx\dsound\dsound\mcpxcore.cpp', 00H ; `string'
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CL@KBCOEPGO@?$CB?$CIm_adwGPOutputBufferSizes?$FLi?$FN?5?$CF?5@
DSOUND_RD	SEGMENT
??_C@_0CL@KBCOEPGO@?$CB?$CIm_adwGPOutputBufferSizes?$FLi?$FN?5?$CF?5@ DB '!'
	DB	'(m_adwGPOutputBufferSizes[i] % PAGE_SIZE)', 00H ; `string'
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CL@FALOOAAF@?$CB?$CIm_adwEPOutputBufferSizes?$FLi?$FN?5?$CF?5@
DSOUND_RD	SEGMENT
??_C@_0CL@FALOOAAF@?$CB?$CIm_adwEPOutputBufferSizes?$FLi?$FN?5?$CF?5@ DB '!'
	DB	'(m_adwEPOutputBufferSizes[i] % PAGE_SIZE)', 00H ; `string'
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BE@DKKPACBF@CMcpxSlopMemoryHeap?$AA@
DSOUND_RD	SEGMENT
??_C@_0BE@DKKPACBF@CMcpxSlopMemoryHeap?$AA@ DB 'CMcpxSlopMemoryHeap', 00H ; `string'
; Function compile flags: /Odt
DSOUND_RD	ENDS
;	COMDAT ?AllocateApuMemory@CMcpxCore@DirectSound@@IAEJXZ
DSOUND	SEGMENT
tv252 = -152
_this$ = -148
$T36513 = -144
_hr$ = -140
_Alloc$ = -136
_i$ = -4
?AllocateApuMemory@CMcpxCore@DirectSound@@IAEJXZ PROC NEAR ; DirectSound::CMcpxCore::AllocateApuMemory, COMDAT
; _this$ = ecx

; 488  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 98 00 00
	00		 sub	 esp, 152		; 00000098H
  00009	89 8d 6c ff ff
	ff		 mov	 DWORD PTR _this$[ebp], ecx

; 489  :     BEGIN_DEFINE_STRUCT()
; 490  :         DWORD               Size;
; 491  :         DWORD               Alignment;
; 492  :     END_DEFINE_STRUCT(MCPX_ALLOC_CTX);
; 493  : 
; 494  :     HRESULT                 hr                      = DS_OK;

  0000f	c7 85 74 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _hr$[ebp], 0

; 495  :     MCPX_ALLOC_CTX          Alloc[MCPX_MEM_COUNT];
; 496  :     DWORD                   i;
; 497  : 
; 498  :     DPF_ENTER();
; 499  : 
; 500  :     //
; 501  :     // Calculate allocation sizes and alignment.  We piggy-back the SGE heap
; 502  :     // run markers on the magic write buffer since the magic write only needs
; 503  :     // a single DWORD.  When we're building the boot sound, we allocate memory
; 504  :     // for the I3DL2 reverb in the GP scratch.
; 505  :     //
; 506  :     // WARNING: to use some of the slop memory allocated due to alignement
; 507  :     // restrictions, we're piggybacking some data structures on these
; 508  :     // buffers.  Use extreme care when changing any of these sizes.
; 509  :     //
; 510  : 
; 511  :     for(i = 0, Alloc[MCPX_MEM_GPOUTPUT].Size = 0; i < NUMELMS(m_adwGPOutputBufferSizes); i++)

  00019	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  00020	c7 85 78 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR _Alloc$[ebp], 0
  0002a	eb 09		 jmp	 SHORT $L35704
$L35705:
  0002c	8b 45 fc	 mov	 eax, DWORD PTR _i$[ebp]
  0002f	83 c0 01	 add	 eax, 1
  00032	89 45 fc	 mov	 DWORD PTR _i$[ebp], eax
$L35704:
  00035	83 7d fc 01	 cmp	 DWORD PTR _i$[ebp], 1
  00039	73 49		 jae	 SHORT $L35706

; 512  :     {
; 513  :         ASSERT(!(m_adwGPOutputBufferSizes[i] % PAGE_SIZE));

  0003b	68 01 02 00 00	 push	 513			; 00000201H
  00040	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0DL@GNOKBCIE@c?3?2xbox?2private?2windows?2directx?2@
  00045	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0CL@KBCOEPGO@?$CB?$CIm_adwGPOutputBufferSizes?$FLi?$FN?5?$CF?5@
  0004a	8b 4d fc	 mov	 ecx, DWORD PTR _i$[ebp]
  0004d	8b 04 8d 00 00
	00 00		 mov	 eax, DWORD PTR ?m_adwGPOutputBufferSizes@CMcpxCore@DirectSound@@2QBKB[ecx*4]
  00054	33 d2		 xor	 edx, edx
  00056	b9 00 10 00 00	 mov	 ecx, 4096		; 00001000H
  0005b	f7 f1		 div	 ecx
  0005d	f7 da		 neg	 edx
  0005f	1b d2		 sbb	 edx, edx
  00061	f7 da		 neg	 edx
  00063	52		 push	 edx
  00064	e8 00 00 00 00	 call	 ?Assert@CDebug@DirectSound@@SAXHPBD0I@Z ; DirectSound::CDebug::Assert
  00069	83 c4 10	 add	 esp, 16			; 00000010H

; 514  :         Alloc[MCPX_MEM_GPOUTPUT].Size += m_adwGPOutputBufferSizes[i];

  0006c	8b 55 fc	 mov	 edx, DWORD PTR _i$[ebp]
  0006f	8b 85 78 ff ff
	ff		 mov	 eax, DWORD PTR _Alloc$[ebp]
  00075	03 04 95 00 00
	00 00		 add	 eax, DWORD PTR ?m_adwGPOutputBufferSizes@CMcpxCore@DirectSound@@2QBKB[edx*4]
  0007c	89 85 78 ff ff
	ff		 mov	 DWORD PTR _Alloc$[ebp], eax

; 515  :     }

  00082	eb a8		 jmp	 SHORT $L35705
$L35706:

; 516  : 
; 517  :     Alloc[MCPX_MEM_GPOUTPUT].Alignment = PAGE_SIZE;

  00084	c7 85 7c ff ff
	ff 00 10 00 00	 mov	 DWORD PTR _Alloc$[ebp+4], 4096 ; 00001000H

; 518  : 
; 519  :     for(i = 0, Alloc[MCPX_MEM_EPOUTPUT].Size = 0; i < NUMELMS(m_adwEPOutputBufferSizes); i++)

  0008e	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  00095	c7 45 80 00 00
	00 00		 mov	 DWORD PTR _Alloc$[ebp+8], 0
  0009c	eb 09		 jmp	 SHORT $L35709
$L35710:
  0009e	8b 4d fc	 mov	 ecx, DWORD PTR _i$[ebp]
  000a1	83 c1 01	 add	 ecx, 1
  000a4	89 4d fc	 mov	 DWORD PTR _i$[ebp], ecx
$L35709:
  000a7	83 7d fc 02	 cmp	 DWORD PTR _i$[ebp], 2
  000ab	73 43		 jae	 SHORT $L35711

; 520  :     {
; 521  :         ASSERT(!(m_adwEPOutputBufferSizes[i] % PAGE_SIZE));

  000ad	68 09 02 00 00	 push	 521			; 00000209H
  000b2	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0DL@GNOKBCIE@c?3?2xbox?2private?2windows?2directx?2@
  000b7	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0CL@FALOOAAF@?$CB?$CIm_adwEPOutputBufferSizes?$FLi?$FN?5?$CF?5@
  000bc	8b 55 fc	 mov	 edx, DWORD PTR _i$[ebp]
  000bf	8b 04 95 00 00
	00 00		 mov	 eax, DWORD PTR ?m_adwEPOutputBufferSizes@CMcpxCore@DirectSound@@2QBKB[edx*4]
  000c6	33 d2		 xor	 edx, edx
  000c8	b9 00 10 00 00	 mov	 ecx, 4096		; 00001000H
  000cd	f7 f1		 div	 ecx
  000cf	f7 da		 neg	 edx
  000d1	1b d2		 sbb	 edx, edx
  000d3	f7 da		 neg	 edx
  000d5	52		 push	 edx
  000d6	e8 00 00 00 00	 call	 ?Assert@CDebug@DirectSound@@SAXHPBD0I@Z ; DirectSound::CDebug::Assert
  000db	83 c4 10	 add	 esp, 16			; 00000010H

; 522  :         Alloc[MCPX_MEM_EPOUTPUT].Size += m_adwEPOutputBufferSizes[i];

  000de	8b 55 fc	 mov	 edx, DWORD PTR _i$[ebp]
  000e1	8b 45 80	 mov	 eax, DWORD PTR _Alloc$[ebp+8]
  000e4	03 04 95 00 00
	00 00		 add	 eax, DWORD PTR ?m_adwEPOutputBufferSizes@CMcpxCore@DirectSound@@2QBKB[edx*4]
  000eb	89 45 80	 mov	 DWORD PTR _Alloc$[ebp+8], eax

; 523  :     }

  000ee	eb ae		 jmp	 SHORT $L35710
$L35711:

; 524  : 
; 525  :     Alloc[MCPX_MEM_EPOUTPUT].Alignment = PAGE_SIZE;

  000f0	c7 45 84 00 10
	00 00		 mov	 DWORD PTR _Alloc$[ebp+12], 4096 ; 00001000H

; 526  : 
; 527  :     Alloc[MCPX_MEM_MAGICWRITE].Size = sizeof(DWORD);

  000f7	c7 45 88 04 00
	00 00		 mov	 DWORD PTR _Alloc$[ebp+16], 4

; 528  :     Alloc[MCPX_MEM_MAGICWRITE].Alignment = PAGE_SIZE;

  000fe	c7 45 8c 00 10
	00 00		 mov	 DWORD PTR _Alloc$[ebp+20], 4096 ; 00001000H

; 529  : 
; 530  :     Alloc[MCPX_MEM_VOICE].Size = MCPX_HW_MAX_VOICES * NV_PAVS_SIZE;

  00105	c7 45 90 00 80
	00 00		 mov	 DWORD PTR _Alloc$[ebp+24], 32768 ; 00008000H

; 531  :     Alloc[MCPX_MEM_VOICE].Alignment = 0x8000;

  0010c	c7 45 94 00 80
	00 00		 mov	 DWORD PTR _Alloc$[ebp+28], 32768 ; 00008000H

; 532  : 
; 533  :     Alloc[MCPX_MEM_NOTIFIERS].Size = sizeof(MCPX_HW_NOTIFICATION) * MCPX_HW_MAX_NOTIFIERS;

  00113	c7 45 98 20 40
	00 00		 mov	 DWORD PTR _Alloc$[ebp+32], 16416 ; 00004020H

; 534  :     Alloc[MCPX_MEM_NOTIFIERS].Alignment = 0x4000;

  0011a	c7 45 9c 00 40
	00 00		 mov	 DWORD PTR _Alloc$[ebp+36], 16384 ; 00004000H

; 535  : 
; 536  :     Alloc[MCPX_MEM_INPUTSGE].Size = MCPX_HW_MAX_BUFFER_PRDS * NV_PSGE_SIZE;

  00121	c7 45 a0 00 40
	00 00		 mov	 DWORD PTR _Alloc$[ebp+40], 16384 ; 00004000H

; 537  :     Alloc[MCPX_MEM_INPUTSGE].Alignment = 0x4000;

  00128	c7 45 a4 00 40
	00 00		 mov	 DWORD PTR _Alloc$[ebp+44], 16384 ; 00004000H

; 538  : 
; 539  :     Alloc[MCPX_MEM_INPUTPRD].Size = MCPX_HW_MAX_SSL_PRDS * NV_PSGE_SIZE;

  0012f	c7 45 a8 00 00
	01 00		 mov	 DWORD PTR _Alloc$[ebp+48], 65536 ; 00010000H

; 540  :     Alloc[MCPX_MEM_INPUTPRD].Alignment = 0x4000;

  00136	c7 45 ac 00 40
	00 00		 mov	 DWORD PTR _Alloc$[ebp+52], 16384 ; 00004000H

; 541  : 
; 542  :     Alloc[MCPX_MEM_HRTFTARGET].Size = MCPX_HW_MAX_3D_VOICES * MCPX_HW_3DFILTERS_PER_VOICE * NV_PAHRTFT_SIZE;

  0013d	c7 45 b0 00 20
	00 00		 mov	 DWORD PTR _Alloc$[ebp+56], 8192 ; 00002000H

; 543  :     Alloc[MCPX_MEM_HRTFTARGET].Alignment = 0x4000;

  00144	c7 45 b4 00 40
	00 00		 mov	 DWORD PTR _Alloc$[ebp+60], 16384 ; 00004000H

; 544  : 
; 545  :     Alloc[MCPX_MEM_HRTFCURRENT].Size = MCPX_HW_MAX_3D_VOICES * NV_PAHRTFC_SIZE;

  0014b	c7 45 b8 00 20
	00 00		 mov	 DWORD PTR _Alloc$[ebp+64], 8192 ; 00002000H

; 546  :     Alloc[MCPX_MEM_HRTFCURRENT].Alignment = 0x4000;

  00152	c7 45 bc 00 40
	00 00		 mov	 DWORD PTR _Alloc$[ebp+68], 16384 ; 00004000H

; 547  : 
; 548  :     Alloc[MCPX_MEM_GPOUTPUTSGE].Size = Alloc[MCPX_MEM_GPOUTPUT].Size / PAGE_SIZE * NV_PSGE_SIZE;

  00159	8b 8d 78 ff ff
	ff		 mov	 ecx, DWORD PTR _Alloc$[ebp]
  0015f	c1 e9 0c	 shr	 ecx, 12			; 0000000cH
  00162	c1 e1 03	 shl	 ecx, 3
  00165	89 4d c0	 mov	 DWORD PTR _Alloc$[ebp+72], ecx

; 549  :     Alloc[MCPX_MEM_GPOUTPUTSGE].Alignment = 0x4000;

  00168	c7 45 c4 00 40
	00 00		 mov	 DWORD PTR _Alloc$[ebp+76], 16384 ; 00004000H

; 550  : 
; 551  :     Alloc[MCPX_MEM_EPOUTPUTSGE].Size = Alloc[MCPX_MEM_EPOUTPUT].Size / PAGE_SIZE * NV_PSGE_SIZE;

  0016f	8b 55 80	 mov	 edx, DWORD PTR _Alloc$[ebp+8]
  00172	c1 ea 0c	 shr	 edx, 12			; 0000000cH
  00175	c1 e2 03	 shl	 edx, 3
  00178	89 55 c8	 mov	 DWORD PTR _Alloc$[ebp+80], edx

; 552  :     Alloc[MCPX_MEM_EPOUTPUTSGE].Alignment = 0x4000;

  0017b	c7 45 cc 00 40
	00 00		 mov	 DWORD PTR _Alloc$[ebp+84], 16384 ; 00004000H

; 553  : 
; 554  :     Alloc[MCPX_MEM_GPMULTIPASS].Size = MCPX_HW_MULTIPASS_NUM_PAGES * PAGE_SIZE;

  00182	c7 45 d0 00 10
	00 00		 mov	 DWORD PTR _Alloc$[ebp+88], 4096 ; 00001000H

; 555  :     Alloc[MCPX_MEM_GPMULTIPASS].Alignment = 0x4000;

  00189	c7 45 d4 00 40
	00 00		 mov	 DWORD PTR _Alloc$[ebp+92], 16384 ; 00004000H

; 556  : 
; 557  :     Alloc[MCPX_MEM_GPSCRATCH].Size = ((MCPX_HW_MULTIPASS_NUM_PAGES + MCPX_HW_AC3_NUM_INPUT_PAGES) * PAGE_SIZE) + MCPX_GLOBAL_PROC_SCRATCH_SIZE;

  00190	c7 45 d8 00 c0
	00 00		 mov	 DWORD PTR _Alloc$[ebp+96], 49152 ; 0000c000H

; 558  :     Alloc[MCPX_MEM_GPSCRATCH].Alignment = 0x4000;

  00197	c7 45 dc 00 40
	00 00		 mov	 DWORD PTR _Alloc$[ebp+100], 16384 ; 00004000H

; 559  : 
; 560  : #ifdef MCPX_BOOT_LIB
; 561  :          
; 562  :     Alloc[MCPX_MEM_GPSCRATCH].Size += 0x600000;
; 563  : 
; 564  : #endif // MCPX_BOOT_LIB
; 565  : 
; 566  :     Alloc[MCPX_MEM_GPSCRATCHSGE].Size = (MCPX_HW_MAX_FX_SCRATCH_PAGES + (Alloc[MCPX_MEM_GPSCRATCH].Size / PAGE_SIZE)) * NV_PSGE_SIZE;

  0019e	8b 45 d8	 mov	 eax, DWORD PTR _Alloc$[ebp+96]
  001a1	c1 e8 0c	 shr	 eax, 12			; 0000000cH
  001a4	8d 0c c5 00 10
	00 00		 lea	 ecx, DWORD PTR [eax*8+4096]
  001ab	89 4d e0	 mov	 DWORD PTR _Alloc$[ebp+104], ecx

; 567  :     Alloc[MCPX_MEM_GPSCRATCHSGE].Alignment = 0x4000;

  001ae	c7 45 e4 00 40
	00 00		 mov	 DWORD PTR _Alloc$[ebp+108], 16384 ; 00004000H

; 568  : 
; 569  :     Alloc[MCPX_MEM_EPSCRATCH].Size = ((CMcpxEPDspManager::AC3GetTotalScratchSize() / PAGE_SIZE) + 1 + MCPX_HW_AC3_NUM_INPUT_PAGES) * PAGE_SIZE;

  001b5	e8 00 00 00 00	 call	 ?AC3GetTotalScratchSize@CMcpxEPDspManager@DirectSound@@SGKXZ ; DirectSound::CMcpxEPDspManager::AC3GetTotalScratchSize
  001ba	c1 e8 0c	 shr	 eax, 12			; 0000000cH
  001bd	83 c0 04	 add	 eax, 4
  001c0	c1 e0 0c	 shl	 eax, 12			; 0000000cH
  001c3	89 45 e8	 mov	 DWORD PTR _Alloc$[ebp+112], eax

; 570  :     Alloc[MCPX_MEM_EPSCRATCH].Alignment = 0x4000;

  001c6	c7 45 ec 00 40
	00 00		 mov	 DWORD PTR _Alloc$[ebp+116], 16384 ; 00004000H

; 571  : 
; 572  :     Alloc[MCPX_MEM_EPSCRATCHSGE].Size = Alloc[MCPX_MEM_EPSCRATCH].Size / PAGE_SIZE * NV_PSGE_SIZE;

  001cd	8b 55 e8	 mov	 edx, DWORD PTR _Alloc$[ebp+112]
  001d0	c1 ea 0c	 shr	 edx, 12			; 0000000cH
  001d3	c1 e2 03	 shl	 edx, 3
  001d6	89 55 f0	 mov	 DWORD PTR _Alloc$[ebp+120], edx

; 573  :     Alloc[MCPX_MEM_EPSCRATCHSGE].Alignment = 0x4000;

  001d9	c7 45 f4 00 40
	00 00		 mov	 DWORD PTR _Alloc$[ebp+124], 16384 ; 00004000H

; 574  : 
; 575  : #ifdef ENABLE_SLOP_MEMORY_RECOVERY
; 576  : 
; 577  :     //
; 578  :     // Allocate the heap to track unused physical memory so we can reuse it
; 579  :     // later
; 580  :     //
; 581  : 
; 582  :     if(CMcpxSlopMemoryHeap::m_pSlopMemoryHeap)

  001e0	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?m_pSlopMemoryHeap@CMcpxSlopMemoryHeap@DirectSound@@2PAV12@A, 0 ; DirectSound::CMcpxSlopMemoryHeap::m_pSlopMemoryHeap
  001e7	74 16		 je	 SHORT $L35718

; 583  :     {
; 584  :         m_pSlopMemoryHeap = ADDREF(CMcpxSlopMemoryHeap::m_pSlopMemoryHeap);

  001e9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?m_pSlopMemoryHeap@CMcpxSlopMemoryHeap@DirectSound@@2PAV12@A ; DirectSound::CMcpxSlopMemoryHeap::m_pSlopMemoryHeap
  001ee	50		 push	 eax
  001ef	e8 00 00 00 00	 call	 ?__AddRef@DirectSound@@YGPAVCMcpxSlopMemoryHeap@1@PAV21@@Z ; DirectSound::__AddRef
  001f4	8b 8d 6c ff ff
	ff		 mov	 ecx, DWORD PTR _this$[ebp]
  001fa	89 41 08	 mov	 DWORD PTR [ecx+8], eax

; 585  :     }
; 586  :     else

  001fd	eb 6d		 jmp	 SHORT $L35723
$L35718:

; 587  :     {
; 588  :         hr = HRFROMP(m_pSlopMemoryHeap = NEW(CMcpxSlopMemoryHeap));

  001ff	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BE@DKKPACBF@CMcpxSlopMemoryHeap?$AA@
  00204	68 4c 02 00 00	 push	 588			; 0000024cH
  00209	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0DL@GNOKBCIE@c?3?2xbox?2private?2windows?2directx?2@
  0020e	6a 1c		 push	 28			; 0000001cH
  00210	e8 00 00 00 00	 call	 ??2@YAPAXIPBDK0@Z	; operator new
  00215	83 c4 10	 add	 esp, 16			; 00000010H
  00218	89 85 70 ff ff
	ff		 mov	 DWORD PTR $T36513[ebp], eax
  0021e	83 bd 70 ff ff
	ff 00		 cmp	 DWORD PTR $T36513[ebp], 0
  00225	74 13		 je	 SHORT $L36514
  00227	8b 8d 70 ff ff
	ff		 mov	 ecx, DWORD PTR $T36513[ebp]
  0022d	e8 00 00 00 00	 call	 ??0CMcpxSlopMemoryHeap@DirectSound@@QAE@XZ ; DirectSound::CMcpxSlopMemoryHeap::CMcpxSlopMemoryHeap
  00232	89 85 68 ff ff
	ff		 mov	 DWORD PTR tv252[ebp], eax
  00238	eb 0a		 jmp	 SHORT $L36515
$L36514:
  0023a	c7 85 68 ff ff
	ff 00 00 00 00	 mov	 DWORD PTR tv252[ebp], 0
$L36515:
  00244	8b 95 6c ff ff
	ff		 mov	 edx, DWORD PTR _this$[ebp]
  0024a	8b 85 68 ff ff
	ff		 mov	 eax, DWORD PTR tv252[ebp]
  00250	89 42 08	 mov	 DWORD PTR [edx+8], eax
  00253	33 c9		 xor	 ecx, ecx
  00255	83 bd 68 ff ff
	ff 00		 cmp	 DWORD PTR tv252[ebp], 0
  0025c	0f 95 c1	 setne	 cl
  0025f	49		 dec	 ecx
  00260	81 e1 0e 00 07
	80		 and	 ecx, -2147024882	; 8007000eH
  00266	89 8d 74 ff ff
	ff		 mov	 DWORD PTR _hr$[ebp], ecx
$L35723:

; 589  :     }
; 590  : 
; 591  : #endif // ENABLE_SLOP_MEMORY_RECOVERY
; 592  : 
; 593  :     //
; 594  :     // Allocate APU memory
; 595  :     //
; 596  : 
; 597  :     for(i = 0; (i < NUMELMS(Alloc)) && SUCCEEDED(hr); i++)

  0026c	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  00273	eb 09		 jmp	 SHORT $L35730
$L35731:
  00275	8b 55 fc	 mov	 edx, DWORD PTR _i$[ebp]
  00278	83 c2 01	 add	 edx, 1
  0027b	89 55 fc	 mov	 DWORD PTR _i$[ebp], edx
$L35730:
  0027e	83 7d fc 10	 cmp	 DWORD PTR _i$[ebp], 16	; 00000010H
  00282	0f 83 a7 00 00
	00		 jae	 $L35732
  00288	83 bd 74 ff ff
	ff 00		 cmp	 DWORD PTR _hr$[ebp], 0
  0028f	0f 8c 9a 00 00
	00		 jl	 $L35732

; 598  :     {
; 599  :         m_ctxMemory[i].Size = Alloc[i].Size;

  00295	8b 45 fc	 mov	 eax, DWORD PTR _i$[ebp]
  00298	c1 e0 04	 shl	 eax, 4
  0029b	8b 4d fc	 mov	 ecx, DWORD PTR _i$[ebp]
  0029e	8b 94 cd 78 ff
	ff ff		 mov	 edx, DWORD PTR _Alloc$[ebp+ecx*8]
  002a5	89 90 08 00 00
	00		 mov	 DWORD PTR ?m_ctxMemory@CMcpxCore@DirectSound@@2PAUMCPX_ALLOC_CONTEXT@@A[eax+8], edx

; 600  :         
; 601  :         hr = AllocateContext(&m_ctxMemory[i], Alloc[i].Alignment, PAGE_READWRITE);

  002ab	6a 04		 push	 4
  002ad	8b 45 fc	 mov	 eax, DWORD PTR _i$[ebp]
  002b0	8b 8c c5 7c ff
	ff ff		 mov	 ecx, DWORD PTR _Alloc$[ebp+eax*8+4]
  002b7	51		 push	 ecx
  002b8	8b 55 fc	 mov	 edx, DWORD PTR _i$[ebp]
  002bb	c1 e2 04	 shl	 edx, 4
  002be	81 c2 00 00 00
	00		 add	 edx, OFFSET FLAT:?m_ctxMemory@CMcpxCore@DirectSound@@2PAUMCPX_ALLOC_CONTEXT@@A ; DirectSound::CMcpxCore::m_ctxMemory
  002c4	52		 push	 edx
  002c5	e8 00 00 00 00	 call	 ?AllocateContext@CMcpxCore@DirectSound@@SGJPAUMCPX_ALLOC_CONTEXT@@KK@Z ; DirectSound::CMcpxCore::AllocateContext
  002ca	89 85 74 ff ff
	ff		 mov	 DWORD PTR _hr$[ebp], eax

; 602  : 
; 603  : #ifdef ENABLE_SLOP_MEMORY_RECOVERY
; 604  : 
; 605  :         if(SUCCEEDED(hr))

  002d0	83 bd 74 ff ff
	ff 00		 cmp	 DWORD PTR _hr$[ebp], 0
  002d7	7c 51		 jl	 SHORT $L35734

; 606  :         {
; 607  :             m_ctxMemory[i].fOwned = !m_pSlopMemoryHeap->AddRun(m_ctxMemory[i].VirtualAddress, BLOCKALIGNPAD(m_ctxMemory[i].Size, PAGE_SIZE), m_ctxMemory[i].Size);

  002d9	8b 45 fc	 mov	 eax, DWORD PTR _i$[ebp]
  002dc	c1 e0 04	 shl	 eax, 4
  002df	8b 88 08 00 00
	00		 mov	 ecx, DWORD PTR ?m_ctxMemory@CMcpxCore@DirectSound@@2PAUMCPX_ALLOC_CONTEXT@@A[eax+8]
  002e5	51		 push	 ecx
  002e6	8b 55 fc	 mov	 edx, DWORD PTR _i$[ebp]
  002e9	c1 e2 04	 shl	 edx, 4
  002ec	8b 82 08 00 00
	00		 mov	 eax, DWORD PTR ?m_ctxMemory@CMcpxCore@DirectSound@@2PAUMCPX_ALLOC_CONTEXT@@A[edx+8]
  002f2	05 ff 0f 00 00	 add	 eax, 4095		; 00000fffH
  002f7	c1 e8 0c	 shr	 eax, 12			; 0000000cH
  002fa	c1 e0 0c	 shl	 eax, 12			; 0000000cH
  002fd	50		 push	 eax
  002fe	8b 4d fc	 mov	 ecx, DWORD PTR _i$[ebp]
  00301	c1 e1 04	 shl	 ecx, 4
  00304	8b 91 00 00 00
	00		 mov	 edx, DWORD PTR ?m_ctxMemory@CMcpxCore@DirectSound@@2PAUMCPX_ALLOC_CONTEXT@@A[ecx]
  0030a	52		 push	 edx
  0030b	8b 85 6c ff ff
	ff		 mov	 eax, DWORD PTR _this$[ebp]
  00311	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  00314	e8 00 00 00 00	 call	 ?AddRun@CMcpxSlopMemoryHeap@DirectSound@@QAEHPAXKK@Z ; DirectSound::CMcpxSlopMemoryHeap::AddRun
  00319	f7 d8		 neg	 eax
  0031b	1b c0		 sbb	 eax, eax
  0031d	40		 inc	 eax
  0031e	8b 4d fc	 mov	 ecx, DWORD PTR _i$[ebp]
  00321	c1 e1 04	 shl	 ecx, 4
  00324	89 81 0c 00 00
	00		 mov	 DWORD PTR ?m_ctxMemory@CMcpxCore@DirectSound@@2PAUMCPX_ALLOC_CONTEXT@@A[ecx+12], eax
$L35734:

; 608  :         }
; 609  : 
; 610  : #endif // ENABLE_SLOP_MEMORY_RECOVERY
; 611  : 
; 612  :     }

  0032a	e9 46 ff ff ff	 jmp	 $L35731
$L35732:

; 613  : 
; 614  :     DPF_LEAVE_HRESULT(hr);
; 615  : 
; 616  :     return hr;

  0032f	8b 85 74 ff ff
	ff		 mov	 eax, DWORD PTR _hr$[ebp]

; 617  : }

  00335	8b e5		 mov	 esp, ebp
  00337	5d		 pop	 ebp
  00338	c3		 ret	 0
?AllocateApuMemory@CMcpxCore@DirectSound@@IAEJXZ ENDP	; DirectSound::CMcpxCore::AllocateApuMemory
DSOUND	ENDS
EXTRN	?TrackingMemAlloc@CMemoryManager@DirectSound@@SGPAXPBDK0W4DSOUND_POOL_TAG@@KH@Z:NEAR ; DirectSound::CMemoryManager::TrackingMemAlloc
; Function compile flags: /Odt
; File c:\xbox\private\windows\directx\dsound\common\memmgr.h
;	COMDAT ??2@YAPAXIPBDK0@Z
DSOUND	SEGMENT
_cbBuffer$ = 8
_pszFile$ = 12
_nLine$ = 16
_pszClass$ = 20
??2@YAPAXIPBDK0@Z PROC NEAR				; operator new, COMDAT

; 232  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 233  :     return DirectSound::CMemoryManager::TrackingMemAlloc(pszFile, nLine, pszClass, DSOUND_OBJECT_POOL_TAG, cbBuffer, TRUE); 

  00003	6a 01		 push	 1
  00005	8b 45 08	 mov	 eax, DWORD PTR _cbBuffer$[ebp]
  00008	50		 push	 eax
  00009	68 44 53 6f 62	 push	 1651462980		; 626f5344H
  0000e	8b 4d 14	 mov	 ecx, DWORD PTR _pszClass$[ebp]
  00011	51		 push	 ecx
  00012	8b 55 10	 mov	 edx, DWORD PTR _nLine$[ebp]
  00015	52		 push	 edx
  00016	8b 45 0c	 mov	 eax, DWORD PTR _pszFile$[ebp]
  00019	50		 push	 eax
  0001a	e8 00 00 00 00	 call	 ?TrackingMemAlloc@CMemoryManager@DirectSound@@SGPAXPBDK0W4DSOUND_POOL_TAG@@KH@Z ; DirectSound::CMemoryManager::TrackingMemAlloc

; 234  : }

  0001f	5d		 pop	 ebp
  00020	c3		 ret	 0
??2@YAPAXIPBDK0@Z ENDP					; operator new
DSOUND	ENDS
PUBLIC	??_C@_0BO@KCCGGAEN@?$CI8?$CJ?5?$DM?$DN?5PIO_METHOD_QUEUE_CLEAR?$AA@ ; `string'
EXTRN	_DirectSoundRequiredMixBins_3D:QWORD
;	COMDAT ??_C@_0BO@KCCGGAEN@?$CI8?$CJ?5?$DM?$DN?5PIO_METHOD_QUEUE_CLEAR?$AA@
; File c:\xbox\private\windows\directx\dsound\dsound\mcpxcore.cpp
DSOUND_RD	SEGMENT
??_C@_0BO@KCCGGAEN@?$CI8?$CJ?5?$DM?$DN?5PIO_METHOD_QUEUE_CLEAR?$AA@ DB '('
	DB	'8) <= PIO_METHOD_QUEUE_CLEAR', 00H		; `string'
; Function compile flags: /Odt
DSOUND_RD	ENDS
;	COMDAT ?SetupVoiceProcessor@CMcpxCore@DirectSound@@IAEXXZ
DSOUND	SEGMENT
_this$ = -12
_dwHrtfMixBins$ = -8
_i$ = -4
?SetupVoiceProcessor@CMcpxCore@DirectSound@@IAEXXZ PROC NEAR ; DirectSound::CMcpxCore::SetupVoiceProcessor, COMDAT
; _this$ = ecx

; 643  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 0c	 sub	 esp, 12			; 0000000cH
  00006	89 4d f4	 mov	 DWORD PTR _this$[ebp], ecx

; 644  :     DWORD                   dwHrtfMixBins;
; 645  :     DWORD                   i;
; 646  : 
; 647  :     DPF_ENTER();
; 648  :     MCPX_CHECK_VOICE_FIFO_INIT(8);

  00009	68 88 02 00 00	 push	 648			; 00000288H
  0000e	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0DL@GNOKBCIE@c?3?2xbox?2private?2windows?2directx?2@
  00013	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BO@KCCGGAEN@?$CI8?$CJ?5?$DM?$DN?5PIO_METHOD_QUEUE_CLEAR?$AA@
  00018	6a 00		 push	 0
  0001a	e8 00 00 00 00	 call	 ?Assert@CDebug@DirectSound@@SAXHPBD0I@Z ; DirectSound::CDebug::Assert
  0001f	83 c4 10	 add	 esp, 16			; 00000010H
$L35743:
  00022	b8 10 00 00 00	 mov	 eax, 16			; 00000010H
  00027	8b 88 00 00 82
	fe		 mov	 ecx, DWORD PTR [eax-25034752]
  0002d	c1 e9 02	 shr	 ecx, 2
  00030	83 f9 08	 cmp	 ecx, 8
  00033	73 02		 jae	 SHORT $L35744
  00035	eb eb		 jmp	 SHORT $L35743
$L35744:

; 649  : 
; 650  :     //
; 651  :     // Set up the HW voice data structures to point to themselves
; 652  :     //
; 653  : 
; 654  :     for(i = 0; i < MCPX_HW_MAX_VOICES; i++) 

  00037	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  0003e	eb 09		 jmp	 SHORT $L35747
$L35748:
  00040	8b 55 fc	 mov	 edx, DWORD PTR _i$[ebp]
  00043	83 c2 01	 add	 edx, 1
  00046	89 55 fc	 mov	 DWORD PTR _i$[ebp], edx
$L35747:
  00049	81 7d fc 00 01
	00 00		 cmp	 DWORD PTR _i$[ebp], 256	; 00000100H
  00050	73 1a		 jae	 SHORT $L35749

; 655  :     {
; 656  :         MCPX_VOICE_STRUCT_WRITE(i, NV_PAVS_VOICE_TAR_PITCH_LINK, MCPX_MAKE_REG_VALUE(i, NV_PAVS_VOICE_TAR_PITCH_LINK_NEXT_VOICE_HANDLE));

  00052	8b 45 fc	 mov	 eax, DWORD PTR _i$[ebp]
  00055	25 ff ff 00 00	 and	 eax, 65535		; 0000ffffH
  0005a	8b 4d fc	 mov	 ecx, DWORD PTR _i$[ebp]
  0005d	c1 e1 07	 shl	 ecx, 7
  00060	8b 15 30 00 00
	00		 mov	 edx, DWORD PTR ?m_ctxMemory@CMcpxCore@DirectSound@@2PAUMCPX_ALLOC_CONTEXT@@A+48
  00066	89 44 0a 7c	 mov	 DWORD PTR [edx+ecx+124], eax

; 657  :     }

  0006a	eb d4		 jmp	 SHORT $L35748
$L35749:

; 658  : 
; 659  :     //
; 660  :     // Program the DMA PRD/SGE lists base addresses
; 661  :     //
; 662  : 
; 663  :     MCPX_REG_WRITE(NV_PAPU_VPVADDR, m_ctxMemory[MCPX_MEM_VOICE].PhysicalAddress);

  0006c	a1 34 00 00 00	 mov	 eax, DWORD PTR ?m_ctxMemory@CMcpxCore@DirectSound@@2PAUMCPX_ALLOC_CONTEXT@@A+52
  00071	a3 2c 20 80 fe	 mov	 DWORD PTR ds:-25157588, eax

; 664  :     MCPX_REG_WRITE(NV_PAPU_VPHTADDR, m_ctxMemory[MCPX_MEM_HRTFTARGET].PhysicalAddress);

  00076	8b 0d 74 00 00
	00		 mov	 ecx, DWORD PTR ?m_ctxMemory@CMcpxCore@DirectSound@@2PAUMCPX_ALLOC_CONTEXT@@A+116
  0007c	89 0d 38 20 80
	fe		 mov	 DWORD PTR ds:-25157576, ecx

; 665  :     MCPX_REG_WRITE(NV_PAPU_VPHCADDR, m_ctxMemory[MCPX_MEM_HRTFCURRENT].PhysicalAddress);

  00082	8b 15 84 00 00
	00		 mov	 edx, DWORD PTR ?m_ctxMemory@CMcpxCore@DirectSound@@2PAUMCPX_ALLOC_CONTEXT@@A+132
  00088	89 15 3c 20 80
	fe		 mov	 DWORD PTR ds:-25157572, edx

; 666  :     MCPX_REG_WRITE(NV_PAPU_VPSGEADDR, m_ctxMemory[MCPX_MEM_INPUTSGE].PhysicalAddress);

  0008e	a1 54 00 00 00	 mov	 eax, DWORD PTR ?m_ctxMemory@CMcpxCore@DirectSound@@2PAUMCPX_ALLOC_CONTEXT@@A+84
  00093	a3 30 20 80 fe	 mov	 DWORD PTR ds:-25157584, eax

; 667  :     MCPX_REG_WRITE(NV_PAPU_VPSSLADDR, m_ctxMemory[MCPX_MEM_INPUTPRD].PhysicalAddress);

  00098	8b 0d 64 00 00
	00		 mov	 ecx, DWORD PTR ?m_ctxMemory@CMcpxCore@DirectSound@@2PAUMCPX_ALLOC_CONTEXT@@A+100
  0009e	89 0d 34 20 80
	fe		 mov	 DWORD PTR ds:-25157580, ecx

; 668  :     MCPX_REG_WRITE(NV_PAPU_FENADDR, m_ctxMemory[MCPX_MEM_NOTIFIERS].PhysicalAddress);

  000a4	8b 15 44 00 00
	00		 mov	 edx, DWORD PTR ?m_ctxMemory@CMcpxCore@DirectSound@@2PAUMCPX_ALLOC_CONTEXT@@A+68
  000aa	89 15 5c 11 80
	fe		 mov	 DWORD PTR ds:-25161380, edx

; 669  : 
; 670  :     //
; 671  :     // Initialize all the global tracking parameters
; 672  :     //
; 673  : 
; 674  :     MCPX_VOICE_WRITE(SetPitchTracking, MCPX_HW_DEFAULT_TRACKING);

  000b0	b8 a4 02 00 00	 mov	 eax, 676		; 000002a4H
  000b5	c7 80 00 00 82
	fe ff 0f 00 00	 mov	 DWORD PTR [eax-25034752], 4095 ; 00000fffH

; 675  :     MCPX_VOICE_WRITE(SetFilterTracking, MCPX_HW_DEFAULT_TRACKING);

  000bf	b9 b0 02 00 00	 mov	 ecx, 688		; 000002b0H
  000c4	c7 81 00 00 82
	fe ff 0f 00 00	 mov	 DWORD PTR [ecx-25034752], 4095 ; 00000fffH

; 676  :     MCPX_VOICE_WRITE(SetVolumeTracking, MCPX_HW_DEFAULT_TRACKING);

  000ce	ba a0 02 00 00	 mov	 edx, 672		; 000002a0H
  000d3	c7 82 00 00 82
	fe ff 0f 00 00	 mov	 DWORD PTR [edx-25034752], 4095 ; 00000fffH

; 677  :     MCPX_VOICE_WRITE(SetHRTFTracking, MCPX_HW_DEFAULT_TRACKING);

  000dd	b8 a8 02 00 00	 mov	 eax, 680		; 000002a8H
  000e2	c7 80 00 00 82
	fe ff 0f 00 00	 mov	 DWORD PTR [eax-25034752], 4095 ; 00000fffH

; 678  :     MCPX_VOICE_WRITE(SetITDTracking, MCPX_HW_DEFAULT_TRACKING);

  000ec	b9 ac 02 00 00	 mov	 ecx, 684		; 000002acH
  000f1	c7 81 00 00 82
	fe ff 0f 00 00	 mov	 DWORD PTR [ecx-25034752], 4095 ; 00000fffH

; 679  : 
; 680  :     //
; 681  :     // Map the GP multipass page into the reserved SGE
; 682  :     //
; 683  : 
; 684  :     MCPX_VOICE_WRITE(SetCurrentInBufSGE, MCPX_HW_MAX_BUFFER_PRDS - 1);

  000fb	ba 04 08 00 00	 mov	 edx, 2052		; 00000804H
  00100	c7 82 00 00 82
	fe ff 07 00 00	 mov	 DWORD PTR [edx-25034752], 2047 ; 000007ffH

; 685  :     MCPX_VOICE_WRITE(SetCurrentInBufSGEOffset, m_ctxMemory[MCPX_MEM_GPMULTIPASS].PhysicalAddress);

  0010a	b8 08 08 00 00	 mov	 eax, 2056		; 00000808H
  0010f	8b 0d b4 00 00
	00		 mov	 ecx, DWORD PTR ?m_ctxMemory@CMcpxCore@DirectSound@@2PAUMCPX_ALLOC_CONTEXT@@A+180
  00115	89 88 00 00 82
	fe		 mov	 DWORD PTR [eax-25034752], ecx

; 686  : 
; 687  :     //
; 688  :     // Set 3D mixbins
; 689  :     //
; 690  : 
; 691  :     dwHrtfMixBins = MCPX_MAKE_REG_VALUE(DirectSoundRequiredMixBins_3D.lpMixBinVolumePairs[0].dwMixBin, NV1BA0_PIO_SET_HRTF_SUBMIXES_BIN0);

  0011b	8b 15 04 00 00
	00		 mov	 edx, DWORD PTR _DirectSoundRequiredMixBins_3D+4
  00121	8b 02		 mov	 eax, DWORD PTR [edx]
  00123	83 e0 1f	 and	 eax, 31			; 0000001fH
  00126	89 45 f8	 mov	 DWORD PTR _dwHrtfMixBins$[ebp], eax

; 692  :     dwHrtfMixBins |= MCPX_MAKE_REG_VALUE(DirectSoundRequiredMixBins_3D.lpMixBinVolumePairs[1].dwMixBin, NV1BA0_PIO_SET_HRTF_SUBMIXES_BIN1);

  00129	8b 0d 04 00 00
	00		 mov	 ecx, DWORD PTR _DirectSoundRequiredMixBins_3D+4
  0012f	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  00132	83 e2 1f	 and	 edx, 31			; 0000001fH
  00135	c1 e2 08	 shl	 edx, 8
  00138	8b 45 f8	 mov	 eax, DWORD PTR _dwHrtfMixBins$[ebp]
  0013b	0b c2		 or	 eax, edx
  0013d	89 45 f8	 mov	 DWORD PTR _dwHrtfMixBins$[ebp], eax

; 693  :     dwHrtfMixBins |= MCPX_MAKE_REG_VALUE(DirectSoundRequiredMixBins_3D.lpMixBinVolumePairs[2].dwMixBin, NV1BA0_PIO_SET_HRTF_SUBMIXES_BIN2);

  00140	8b 0d 04 00 00
	00		 mov	 ecx, DWORD PTR _DirectSoundRequiredMixBins_3D+4
  00146	8b 51 10	 mov	 edx, DWORD PTR [ecx+16]
  00149	83 e2 1f	 and	 edx, 31			; 0000001fH
  0014c	c1 e2 10	 shl	 edx, 16			; 00000010H
  0014f	8b 45 f8	 mov	 eax, DWORD PTR _dwHrtfMixBins$[ebp]
  00152	0b c2		 or	 eax, edx
  00154	89 45 f8	 mov	 DWORD PTR _dwHrtfMixBins$[ebp], eax

; 694  :     dwHrtfMixBins |= MCPX_MAKE_REG_VALUE(DirectSoundRequiredMixBins_3D.lpMixBinVolumePairs[3].dwMixBin, NV1BA0_PIO_SET_HRTF_SUBMIXES_BIN3);

  00157	8b 0d 04 00 00
	00		 mov	 ecx, DWORD PTR _DirectSoundRequiredMixBins_3D+4
  0015d	8b 51 18	 mov	 edx, DWORD PTR [ecx+24]
  00160	83 e2 1f	 and	 edx, 31			; 0000001fH
  00163	c1 e2 18	 shl	 edx, 24			; 00000018H
  00166	8b 45 f8	 mov	 eax, DWORD PTR _dwHrtfMixBins$[ebp]
  00169	0b c2		 or	 eax, edx
  0016b	89 45 f8	 mov	 DWORD PTR _dwHrtfMixBins$[ebp], eax

; 695  : 
; 696  :     MCPX_VOICE_WRITE(SetHRTFSubmixes, dwHrtfMixBins);

  0016e	b9 c0 02 00 00	 mov	 ecx, 704		; 000002c0H
  00173	8b 55 f8	 mov	 edx, DWORD PTR _dwHrtfMixBins$[ebp]
  00176	89 91 00 00 82
	fe		 mov	 DWORD PTR [ecx-25034752], edx

; 697  : 
; 698  :     DPF_LEAVE_VOID();
; 699  : }

  0017c	8b e5		 mov	 esp, ebp
  0017e	5d		 pop	 ebp
  0017f	c3		 ret	 0
?SetupVoiceProcessor@CMcpxCore@DirectSound@@IAEXXZ ENDP	; DirectSound::CMcpxCore::SetupVoiceProcessor
DSOUND	ENDS
PUBLIC	??_C@_0BC@MDCMDCJP@CMcpxGPDspManager?$AA@	; `string'
PUBLIC	??_C@_0CI@LICNKCLH@Failed?5to?5alloc?5DSP?5and?5scratch?5@ ; `string'
PUBLIC	??_C@_0DO@JKHGMFJD@?$CB?$CIm_ctxMemory?$FLMCPX_MEM_GPOUTPUT?$FN@ ; `string'
PUBLIC	??_C@_0DD@NPIDPDEA@?$CB?$CIm_ctxMemory?$FLMCPX_MEM_GPOUTPUT?$FN@ ; `string'
PUBLIC	??_C@_0CA@HJHFIAGH@?$CB?$CIdwTotalSgeCount?5?$CG?50xFFFF0000?$CJ?$AA@ ; `string'
PUBLIC	??_C@_0BO@MKPFBHKH@?$CI2?$CJ?5?$DM?$DN?5PIO_METHOD_QUEUE_CLEAR?$AA@ ; `string'
EXTRN	??0CMcpxGPDspManager@DirectSound@@QAE@XZ:NEAR	; DirectSound::CMcpxGPDspManager::CMcpxGPDspManager
EXTRN	?Initialize@CMcpxGPDspManager@DirectSound@@QAEXXZ:NEAR ; DirectSound::CMcpxGPDspManager::Initialize
;	COMDAT ??_C@_0DO@JKHGMFJD@?$CB?$CIm_ctxMemory?$FLMCPX_MEM_GPOUTPUT?$FN@
DSOUND_RD	SEGMENT
??_C@_0DO@JKHGMFJD@?$CB?$CIm_ctxMemory?$FLMCPX_MEM_GPOUTPUT?$FN@ DB '!(m_'
	DB	'ctxMemory[MCPX_MEM_GPOUTPUT].PhysicalAddress % PAGE_SIZE)', 00H ; `string'
DSOUND_RD	ENDS
;	COMDAT ??_C@_0DD@NPIDPDEA@?$CB?$CIm_ctxMemory?$FLMCPX_MEM_GPOUTPUT?$FN@
DSOUND_RD	SEGMENT
??_C@_0DD@NPIDPDEA@?$CB?$CIm_ctxMemory?$FLMCPX_MEM_GPOUTPUT?$FN@ DB '!(m_'
	DB	'ctxMemory[MCPX_MEM_GPOUTPUT].Size % PAGE_SIZE)', 00H ; `string'
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CA@HJHFIAGH@?$CB?$CIdwTotalSgeCount?5?$CG?50xFFFF0000?$CJ?$AA@
DSOUND_RD	SEGMENT
??_C@_0CA@HJHFIAGH@?$CB?$CIdwTotalSgeCount?5?$CG?50xFFFF0000?$CJ?$AA@ DB '!'
	DB	'(dwTotalSgeCount & 0xFFFF0000)', 00H	; `string'
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BO@MKPFBHKH@?$CI2?$CJ?5?$DM?$DN?5PIO_METHOD_QUEUE_CLEAR?$AA@
DSOUND_RD	SEGMENT
??_C@_0BO@MKPFBHKH@?$CI2?$CJ?5?$DM?$DN?5PIO_METHOD_QUEUE_CLEAR?$AA@ DB '('
	DB	'2) <= PIO_METHOD_QUEUE_CLEAR', 00H		; `string'
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BC@MDCMDCJP@CMcpxGPDspManager?$AA@
DSOUND_RD	SEGMENT
??_C@_0BC@MDCMDCJP@CMcpxGPDspManager?$AA@ DB 'CMcpxGPDspManager', 00H ; `string'
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CI@LICNKCLH@Failed?5to?5alloc?5DSP?5and?5scratch?5@
DSOUND_RD	SEGMENT
??_C@_0CI@LICNKCLH@Failed?5to?5alloc?5DSP?5and?5scratch?5@ DB 'Failed to '
	DB	'alloc DSP and scratch classes', 00H		; `string'
; Function compile flags: /Odt
DSOUND_RD	ENDS
;	COMDAT ?SetupGlobalProcessor@CMcpxCore@DirectSound@@IAEXXZ
DSOUND	SEGMENT
tv198 = -72
_this$ = -68
$T36525 = -64
_rControl$ = -60
_z$ = -56
_dwAddress$ = -52
_rReset$ = -48
_dwSgeOffset$ = -44
_dwPos$ = -40
_pPrd$ = -36
_dwTotalSgeCount$ = -12
_i$ = -4
?SetupGlobalProcessor@CMcpxCore@DirectSound@@IAEXXZ PROC NEAR ; DirectSound::CMcpxCore::SetupGlobalProcessor, COMDAT
; _this$ = ecx

; 725  : {                               

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 48	 sub	 esp, 72			; 00000048H
  00006	89 4d bc	 mov	 DWORD PTR _this$[ebp], ecx

; 726  :     DWORD                   adwSgeCounts[MCPX_GPOUTPUT_COUNT];
; 727  :     DWORD                   dwTotalSgeCount;
; 728  :     DWORD                   dwSgeOffset;
; 729  :     DWORD                   dwAddress;
; 730  :     R_GP_RESET              rReset;
; 731  :     R_GPDMA_CONFIG          rGpDmaConfig;
; 732  :     R_GP_CONTROL            rControl;
; 733  :     DSP_CONTROL             DspControl;
; 734  :     DWORD                   dwPos;
; 735  :     DWORD                   i, z;
; 736  :     MCP1_PRD *              pPrd;
; 737  : 
; 738  :     DPF_ENTER();
; 739  :     
; 740  :     //
; 741  :     // Output buffer SGE table base address for output buffers and input buffers
; 742  :     //
; 743  : 
; 744  :     MCPX_REG_WRITE(NV_PAPU_GPFADDR, m_ctxMemory[MCPX_MEM_GPOUTPUTSGE].PhysicalAddress);

  00009	a1 94 00 00 00	 mov	 eax, DWORD PTR ?m_ctxMemory@CMcpxCore@DirectSound@@2PAUMCPX_ALLOC_CONTEXT@@A+148
  0000e	a3 44 20 80 fe	 mov	 DWORD PTR ds:-25157564, eax

; 745  : 
; 746  :     //
; 747  :     // Initialize the get/put pointers
; 748  :     //
; 749  : 
; 750  :     MCPX_REG_WRITE(NV_PAPU_GPGET, 0);

  00013	c7 05 00 ff 83
	fe 00 00 00 00	 mov	 DWORD PTR ds:-24903936, 0

; 751  :     MCPX_REG_WRITE(NV_PAPU_GPPUT, 0);

  0001d	c7 05 04 ff 83
	fe 00 00 00 00	 mov	 DWORD PTR ds:-24903932, 0

; 752  : 
; 753  :     //
; 754  :     // Tell the hw how big the output SGE array needs to be
; 755  :     //
; 756  : 
; 757  :     ASSERT(!(m_ctxMemory[MCPX_MEM_GPOUTPUT].PhysicalAddress % PAGE_SIZE));

  00027	68 f5 02 00 00	 push	 757			; 000002f5H
  0002c	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0DL@GNOKBCIE@c?3?2xbox?2private?2windows?2directx?2@
  00031	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0DO@JKHGMFJD@?$CB?$CIm_ctxMemory?$FLMCPX_MEM_GPOUTPUT?$FN@
  00036	a1 04 00 00 00	 mov	 eax, DWORD PTR ?m_ctxMemory@CMcpxCore@DirectSound@@2PAUMCPX_ALLOC_CONTEXT@@A+4
  0003b	33 d2		 xor	 edx, edx
  0003d	b9 00 10 00 00	 mov	 ecx, 4096		; 00001000H
  00042	f7 f1		 div	 ecx
  00044	f7 da		 neg	 edx
  00046	1b d2		 sbb	 edx, edx
  00048	f7 da		 neg	 edx
  0004a	52		 push	 edx
  0004b	e8 00 00 00 00	 call	 ?Assert@CDebug@DirectSound@@SAXHPBD0I@Z ; DirectSound::CDebug::Assert
  00050	83 c4 10	 add	 esp, 16			; 00000010H

; 758  :     ASSERT(!(m_ctxMemory[MCPX_MEM_GPOUTPUT].Size % PAGE_SIZE));

  00053	68 f6 02 00 00	 push	 758			; 000002f6H
  00058	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0DL@GNOKBCIE@c?3?2xbox?2private?2windows?2directx?2@
  0005d	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0DD@NPIDPDEA@?$CB?$CIm_ctxMemory?$FLMCPX_MEM_GPOUTPUT?$FN@
  00062	a1 08 00 00 00	 mov	 eax, DWORD PTR ?m_ctxMemory@CMcpxCore@DirectSound@@2PAUMCPX_ALLOC_CONTEXT@@A+8
  00067	33 d2		 xor	 edx, edx
  00069	b9 00 10 00 00	 mov	 ecx, 4096		; 00001000H
  0006e	f7 f1		 div	 ecx
  00070	f7 da		 neg	 edx
  00072	1b d2		 sbb	 edx, edx
  00074	f7 da		 neg	 edx
  00076	52		 push	 edx
  00077	e8 00 00 00 00	 call	 ?Assert@CDebug@DirectSound@@SAXHPBD0I@Z ; DirectSound::CDebug::Assert
  0007c	83 c4 10	 add	 esp, 16			; 00000010H

; 759  : 
; 760  :     dwTotalSgeCount = m_ctxMemory[MCPX_MEM_GPOUTPUT].Size / PAGE_SIZE;

  0007f	8b 15 08 00 00
	00		 mov	 edx, DWORD PTR ?m_ctxMemory@CMcpxCore@DirectSound@@2PAUMCPX_ALLOC_CONTEXT@@A+8
  00085	c1 ea 0c	 shr	 edx, 12			; 0000000cH
  00088	89 55 f4	 mov	 DWORD PTR _dwTotalSgeCount$[ebp], edx

; 761  : 
; 762  :     ASSERT(!(dwTotalSgeCount & 0xFFFF0000));

  0008b	68 fa 02 00 00	 push	 762			; 000002faH
  00090	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0DL@GNOKBCIE@c?3?2xbox?2private?2windows?2directx?2@
  00095	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0CA@HJHFIAGH@?$CB?$CIdwTotalSgeCount?5?$CG?50xFFFF0000?$CJ?$AA@
  0009a	8b 45 f4	 mov	 eax, DWORD PTR _dwTotalSgeCount$[ebp]
  0009d	25 00 00 ff ff	 and	 eax, -65536		; ffff0000H
  000a2	f7 d8		 neg	 eax
  000a4	1b c0		 sbb	 eax, eax
  000a6	f7 d8		 neg	 eax
  000a8	50		 push	 eax
  000a9	e8 00 00 00 00	 call	 ?Assert@CDebug@DirectSound@@SAXHPBD0I@Z ; DirectSound::CDebug::Assert
  000ae	83 c4 10	 add	 esp, 16			; 00000010H

; 763  : 
; 764  : 	MCPX_REG_WRITE(NV_PAPU_GPFMAXSGE, dwTotalSgeCount - 1);

  000b1	8b 4d f4	 mov	 ecx, DWORD PTR _dwTotalSgeCount$[ebp]
  000b4	83 e9 01	 sub	 ecx, 1
  000b7	89 0d d8 20 80
	fe		 mov	 DWORD PTR ds:-25157416, ecx

; 765  : 	MCPX_REG_WRITE(NV_PAPU_FEMAXGPSGE, dwTotalSgeCount - 1);

  000bd	8b 55 f4	 mov	 edx, DWORD PTR _dwTotalSgeCount$[ebp]
  000c0	83 ea 01	 sub	 edx, 1
  000c3	89 15 48 11 80
	fe		 mov	 DWORD PTR ds:-25161400, edx

; 766  : 
; 767  :     MCPX_REG_WRITE(NV_PAPU_GPOFBASE0, 0);

  000c9	c7 05 24 30 80
	fe 00 00 00 00	 mov	 DWORD PTR ds:-25153500, 0

; 768  :     MCPX_REG_WRITE(NV_PAPU_GPOFEND0,  m_adwGPOutputBufferSizes[0]);

  000d3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?m_adwGPOutputBufferSizes@CMcpxCore@DirectSound@@2QBKB ; DirectSound::CMcpxCore::m_adwGPOutputBufferSizes
  000d8	a3 28 30 80 fe	 mov	 DWORD PTR ds:-25153496, eax

; 769  : 
; 770  :     //
; 771  :     // Set up the output SGEs
; 772  :     //
; 773  : 
; 774  :     pPrd = (MCP1_PRD *)m_ctxMemory[MCPX_MEM_GPOUTPUTSGE].VirtualAddress;

  000dd	8b 0d 90 00 00
	00		 mov	 ecx, DWORD PTR ?m_ctxMemory@CMcpxCore@DirectSound@@2PAUMCPX_ALLOC_CONTEXT@@A+144
  000e3	89 4d dc	 mov	 DWORD PTR _pPrd$[ebp], ecx

; 775  : 
; 776  :     for(i = 0, dwSgeOffset = 0; i < MCPX_GPOUTPUT_COUNT; i++)

  000e6	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  000ed	c7 45 d4 00 00
	00 00		 mov	 DWORD PTR _dwSgeOffset$[ebp], 0
  000f4	eb 09		 jmp	 SHORT $L35821
$L35822:
  000f6	8b 55 fc	 mov	 edx, DWORD PTR _i$[ebp]
  000f9	83 c2 01	 add	 edx, 1
  000fc	89 55 fc	 mov	 DWORD PTR _i$[ebp], edx
$L35821:
  000ff	83 7d fc 01	 cmp	 DWORD PTR _i$[ebp], 1
  00103	0f 83 3b 01 00
	00		 jae	 $L35823

; 777  :     {
; 778  :         for(z = 0; z < m_adwGPOutputBufferSizes[i] / PAGE_SIZE; z++)

  00109	c7 45 c8 00 00
	00 00		 mov	 DWORD PTR _z$[ebp], 0
  00110	eb 09		 jmp	 SHORT $L35824
$L35825:
  00112	8b 45 c8	 mov	 eax, DWORD PTR _z$[ebp]
  00115	83 c0 01	 add	 eax, 1
  00118	89 45 c8	 mov	 DWORD PTR _z$[ebp], eax
$L35824:
  0011b	8b 4d fc	 mov	 ecx, DWORD PTR _i$[ebp]
  0011e	8b 14 8d 00 00
	00 00		 mov	 edx, DWORD PTR ?m_adwGPOutputBufferSizes@CMcpxCore@DirectSound@@2QBKB[ecx*4]
  00125	c1 ea 0c	 shr	 edx, 12			; 0000000cH
  00128	39 55 c8	 cmp	 DWORD PTR _z$[ebp], edx
  0012b	0f 83 a5 00 00
	00		 jae	 $L35826

; 779  :         {
; 780  :             dwAddress = m_ctxMemory[MCPX_MEM_GPOUTPUT].PhysicalAddress + ((dwSgeOffset + z) * PAGE_SIZE);

  00131	8b 45 d4	 mov	 eax, DWORD PTR _dwSgeOffset$[ebp]
  00134	03 45 c8	 add	 eax, DWORD PTR _z$[ebp]
  00137	c1 e0 0c	 shl	 eax, 12			; 0000000cH
  0013a	8b 0d 04 00 00
	00		 mov	 ecx, DWORD PTR ?m_ctxMemory@CMcpxCore@DirectSound@@2PAUMCPX_ALLOC_CONTEXT@@A+4
  00140	03 c8		 add	 ecx, eax
  00142	89 4d cc	 mov	 DWORD PTR _dwAddress$[ebp], ecx

; 781  :             
; 782  :             MCPX_CHECK_VOICE_FIFO_INIT(2);

  00145	68 0e 03 00 00	 push	 782			; 0000030eH
  0014a	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0DL@GNOKBCIE@c?3?2xbox?2private?2windows?2directx?2@
  0014f	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BO@MKPFBHKH@?$CI2?$CJ?5?$DM?$DN?5PIO_METHOD_QUEUE_CLEAR?$AA@
  00154	6a 00		 push	 0
  00156	e8 00 00 00 00	 call	 ?Assert@CDebug@DirectSound@@SAXHPBD0I@Z ; DirectSound::CDebug::Assert
  0015b	83 c4 10	 add	 esp, 16			; 00000010H
$L35829:
  0015e	ba 10 00 00 00	 mov	 edx, 16			; 00000010H
  00163	8b 82 00 00 82
	fe		 mov	 eax, DWORD PTR [edx-25034752]
  00169	c1 e8 02	 shr	 eax, 2
  0016c	83 f8 02	 cmp	 eax, 2
  0016f	73 02		 jae	 SHORT $L35830
  00171	eb eb		 jmp	 SHORT $L35829
$L35830:

; 783  :             MCPX_VOICE_WRITE(SetCurrentOutBufSGE, dwSgeOffset + z);

  00173	8b 4d d4	 mov	 ecx, DWORD PTR _dwSgeOffset$[ebp]
  00176	03 4d c8	 add	 ecx, DWORD PTR _z$[ebp]
  00179	ba 00 18 00 00	 mov	 edx, 6144		; 00001800H
  0017e	89 8a 00 00 82
	fe		 mov	 DWORD PTR [edx-25034752], ecx

; 784  :             MCPX_VOICE_WRITE(SetOutBufSGEOffset, dwAddress);

  00184	b8 08 18 00 00	 mov	 eax, 6152		; 00001808H
  00189	8b 4d cc	 mov	 ecx, DWORD PTR _dwAddress$[ebp]
  0018c	89 88 00 00 82
	fe		 mov	 DWORD PTR [eax-25034752], ecx

; 785  : 
; 786  :             pPrd[dwSgeOffset + z].uAddr = dwAddress;

  00192	8b 55 d4	 mov	 edx, DWORD PTR _dwSgeOffset$[ebp]
  00195	03 55 c8	 add	 edx, DWORD PTR _z$[ebp]
  00198	8b 45 dc	 mov	 eax, DWORD PTR _pPrd$[ebp]
  0019b	8b 4d cc	 mov	 ecx, DWORD PTR _dwAddress$[ebp]
  0019e	89 0c d0	 mov	 DWORD PTR [eax+edx*8], ecx

; 787  :             pPrd[dwSgeOffset + z].Control.uValue = 0;

  001a1	8b 55 d4	 mov	 edx, DWORD PTR _dwSgeOffset$[ebp]
  001a4	03 55 c8	 add	 edx, DWORD PTR _z$[ebp]
  001a7	8b 45 dc	 mov	 eax, DWORD PTR _pPrd$[ebp]
  001aa	c7 44 d0 04 00
	00 00 00	 mov	 DWORD PTR [eax+edx*8+4], 0

; 788  :             pPrd[dwSgeOffset + z].Control.Owner = NV_PSSL_PRD_CONTROL_OWN_HW;

  001b2	8b 4d d4	 mov	 ecx, DWORD PTR _dwSgeOffset$[ebp]
  001b5	03 4d c8	 add	 ecx, DWORD PTR _z$[ebp]
  001b8	8b 55 dc	 mov	 edx, DWORD PTR _pPrd$[ebp]
  001bb	8b 44 ca 04	 mov	 eax, DWORD PTR [edx+ecx*8+4]
  001bf	25 ff ff ff fe	 and	 eax, -16777217		; feffffffH
  001c4	8b 4d d4	 mov	 ecx, DWORD PTR _dwSgeOffset$[ebp]
  001c7	03 4d c8	 add	 ecx, DWORD PTR _z$[ebp]
  001ca	8b 55 dc	 mov	 edx, DWORD PTR _pPrd$[ebp]
  001cd	89 44 ca 04	 mov	 DWORD PTR [edx+ecx*8+4], eax

; 789  : 
; 790  :         }

  001d1	e9 3c ff ff ff	 jmp	 $L35825
$L35826:

; 791  :         
; 792  :         MCPX_CHECK_VOICE_FIFO_INIT(2);

  001d6	68 18 03 00 00	 push	 792			; 00000318H
  001db	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0DL@GNOKBCIE@c?3?2xbox?2private?2windows?2directx?2@
  001e0	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BO@MKPFBHKH@?$CI2?$CJ?5?$DM?$DN?5PIO_METHOD_QUEUE_CLEAR?$AA@
  001e5	6a 00		 push	 0
  001e7	e8 00 00 00 00	 call	 ?Assert@CDebug@DirectSound@@SAXHPBD0I@Z ; DirectSound::CDebug::Assert
  001ec	83 c4 10	 add	 esp, 16			; 00000010H
$L35838:
  001ef	b8 10 00 00 00	 mov	 eax, 16			; 00000010H
  001f4	8b 88 00 00 82
	fe		 mov	 ecx, DWORD PTR [eax-25034752]
  001fa	c1 e9 02	 shr	 ecx, 2
  001fd	83 f9 02	 cmp	 ecx, 2
  00200	73 02		 jae	 SHORT $L35839
  00202	eb eb		 jmp	 SHORT $L35838
$L35839:

; 793  :         MCPX_VOICE_WRITE(SetOutBuf[i].BA, dwSgeOffset * PAGE_SIZE);

  00204	8b 55 d4	 mov	 edx, DWORD PTR _dwSgeOffset$[ebp]
  00207	c1 e2 0c	 shl	 edx, 12			; 0000000cH
  0020a	b8 00 10 00 00	 mov	 eax, 4096		; 00001000H
  0020f	05 00 00 82 fe	 add	 eax, -25034752		; fe820000H
  00214	8b 4d fc	 mov	 ecx, DWORD PTR _i$[ebp]
  00217	89 14 c8	 mov	 DWORD PTR [eax+ecx*8], edx

; 794  :         MCPX_VOICE_WRITE(SetOutBuf[i].Len, m_adwGPOutputBufferSizes[i]);

  0021a	ba 00 10 00 00	 mov	 edx, 4096		; 00001000H
  0021f	81 c2 00 00 82
	fe		 add	 edx, -25034752		; fe820000H
  00225	8b 45 fc	 mov	 eax, DWORD PTR _i$[ebp]
  00228	8b 4d fc	 mov	 ecx, DWORD PTR _i$[ebp]
  0022b	8b 0c 8d 00 00
	00 00		 mov	 ecx, DWORD PTR ?m_adwGPOutputBufferSizes@CMcpxCore@DirectSound@@2QBKB[ecx*4]
  00232	89 4c c2 04	 mov	 DWORD PTR [edx+eax*8+4], ecx

; 795  : 
; 796  :         dwSgeOffset += z;

  00236	8b 55 d4	 mov	 edx, DWORD PTR _dwSgeOffset$[ebp]
  00239	03 55 c8	 add	 edx, DWORD PTR _z$[ebp]
  0023c	89 55 d4	 mov	 DWORD PTR _dwSgeOffset$[ebp], edx

; 797  :     }

  0023f	e9 b2 fe ff ff	 jmp	 $L35822
$L35823:

; 798  : 
; 799  :     //
; 800  :     // Allocate the scratch space management code and GP DSP code management
; 801  :     //
; 802  : 
; 803  :     if(!m_pGpDspManager)

  00244	8b 45 bc	 mov	 eax, DWORD PTR _this$[ebp]
  00247	83 78 0c 00	 cmp	 DWORD PTR [eax+12], 0
  0024b	75 69		 jne	 SHORT $L35846

; 804  :     {
; 805  :         if(!(m_pGpDspManager = NEW(CMcpxGPDspManager)))

  0024d	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BC@MDCMDCJP@CMcpxGPDspManager?$AA@
  00252	68 25 03 00 00	 push	 805			; 00000325H
  00257	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0DL@GNOKBCIE@c?3?2xbox?2private?2windows?2directx?2@
  0025c	6a 3c		 push	 60			; 0000003cH
  0025e	e8 00 00 00 00	 call	 ??2@YAPAXIPBDK0@Z	; operator new
  00263	83 c4 10	 add	 esp, 16			; 00000010H
  00266	89 45 c0	 mov	 DWORD PTR $T36525[ebp], eax
  00269	83 7d c0 00	 cmp	 DWORD PTR $T36525[ebp], 0
  0026d	74 0d		 je	 SHORT $L36526
  0026f	8b 4d c0	 mov	 ecx, DWORD PTR $T36525[ebp]
  00272	e8 00 00 00 00	 call	 ??0CMcpxGPDspManager@DirectSound@@QAE@XZ ; DirectSound::CMcpxGPDspManager::CMcpxGPDspManager
  00277	89 45 b8	 mov	 DWORD PTR tv198[ebp], eax
  0027a	eb 07		 jmp	 SHORT $L36527
$L36526:
  0027c	c7 45 b8 00 00
	00 00		 mov	 DWORD PTR tv198[ebp], 0
$L36527:
  00283	8b 4d bc	 mov	 ecx, DWORD PTR _this$[ebp]
  00286	8b 55 b8	 mov	 edx, DWORD PTR tv198[ebp]
  00289	89 51 0c	 mov	 DWORD PTR [ecx+12], edx
  0028c	83 7d b8 00	 cmp	 DWORD PTR tv198[ebp], 0
  00290	75 19		 jne	 SHORT $L35849

; 806  :         {
; 807  :             ASSERTMSG("Failed to alloc DSP and scratch classes");

  00292	68 27 03 00 00	 push	 807			; 00000327H
  00297	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0DL@GNOKBCIE@c?3?2xbox?2private?2windows?2directx?2@
  0029c	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0CI@LICNKCLH@Failed?5to?5alloc?5DSP?5and?5scratch?5@
  002a1	6a 01		 push	 1
  002a3	e8 00 00 00 00	 call	 ?Assert@CDebug@DirectSound@@SAXHPBD0I@Z ; DirectSound::CDebug::Assert
  002a8	83 c4 10	 add	 esp, 16			; 00000010H
$L35849:

; 808  :         }
; 809  : 
; 810  :         m_pGpDspManager->Initialize();

  002ab	8b 45 bc	 mov	 eax, DWORD PTR _this$[ebp]
  002ae	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  002b1	e8 00 00 00 00	 call	 ?Initialize@CMcpxGPDspManager@DirectSound@@QAEXXZ ; DirectSound::CMcpxGPDspManager::Initialize
$L35846:

; 811  :     }
; 812  : 
; 813  :     //
; 814  :     // Take the GP peripherals out of reset, leave DSP core in reset state
; 815  :     //
; 816  : 
; 817  :     rReset.uValue = 0;

  002b6	c7 45 d0 00 00
	00 00		 mov	 DWORD PTR _rReset$[ebp], 0

; 818  :     rReset.Global = NV_PAPU_GPRST_GPRST_DISABLED;

  002bd	8b 4d d0	 mov	 ecx, DWORD PTR _rReset$[ebp]
  002c0	83 c9 01	 or	 ecx, 1
  002c3	89 4d d0	 mov	 DWORD PTR _rReset$[ebp], ecx

; 819  :     rReset.DSP = NV_PAPU_GPRST_GPDSPRST_ENABLED;

  002c6	8b 55 d0	 mov	 edx, DWORD PTR _rReset$[ebp]
  002c9	83 e2 fd	 and	 edx, -3			; fffffffdH
  002cc	89 55 d0	 mov	 DWORD PTR _rReset$[ebp], edx

; 820  :     rReset.NMI = NV_PAPU_GPRST_GPNMI_DISABLED;

  002cf	8b 45 d0	 mov	 eax, DWORD PTR _rReset$[ebp]
  002d2	83 e0 fb	 and	 eax, -5			; fffffffbH
  002d5	89 45 d0	 mov	 DWORD PTR _rReset$[ebp], eax

; 821  :     rReset.Abort = NV_PAPU_GPRST_GPABORT_DISABLED;

  002d8	8b 4d d0	 mov	 ecx, DWORD PTR _rReset$[ebp]
  002db	83 e1 f7	 and	 ecx, -9			; fffffff7H
  002de	89 4d d0	 mov	 DWORD PTR _rReset$[ebp], ecx

; 822  : 
; 823  :     MCPX_REG_WRITE(NV_PAPU_GPRST, rReset.uValue);

  002e1	8b 55 d0	 mov	 edx, DWORD PTR _rReset$[ebp]
  002e4	89 15 fc ff 83
	fe		 mov	 DWORD PTR ds:-24903684, edx

; 824  : 
; 825  :     //
; 826  :     // Enable the GP
; 827  :     //
; 828  : 
; 829  :     rControl.Idle = NV_PAPU_GPIDRDY_GPSETIDLE_SET;

  002ea	8b 45 c4	 mov	 eax, DWORD PTR _rControl$[ebp]
  002ed	83 c8 01	 or	 eax, 1
  002f0	89 45 c4	 mov	 DWORD PTR _rControl$[ebp], eax

; 830  :     rControl.IntrNotify = NV_PAPU_GPIDRDY_GPSETNINT_NOT_SET;

  002f3	8b 4d c4	 mov	 ecx, DWORD PTR _rControl$[ebp]
  002f6	83 e1 f7	 and	 ecx, -9			; fffffff7H
  002f9	89 4d c4	 mov	 DWORD PTR _rControl$[ebp], ecx

; 831  : 
; 832  :     MCPX_REG_WRITE(NV_PAPU_GPIDRDY, rControl.uValue);

  002fc	8b 55 c4	 mov	 edx, DWORD PTR _rControl$[ebp]
  002ff	89 15 10 ff 83
	fe		 mov	 DWORD PTR ds:-24903920, edx

; 833  : 
; 834  :     //
; 835  :     // Clear the interrupt status
; 836  :     //
; 837  : 
; 838  :     MCPX_REG_WRITE(NV_PAPU_GPISTS, 0xFF);

  00305	c7 05 14 ff 83
	fe ff 00 00 00	 mov	 DWORD PTR ds:-24903916, 255 ; 000000ffH

; 839  : 
; 840  :     //
; 841  :     // Reset the FIFO positions
; 842  :     //
; 843  : 
; 844  :     MCPX_REG_READ(NV_PAPU_GPOFBASE0, &dwPos);

  0030f	a1 24 30 80 fe	 mov	 eax, DWORD PTR ds:-25153500
  00314	89 45 d8	 mov	 DWORD PTR _dwPos$[ebp], eax

; 845  :     MCPX_REG_WRITE(NV_PAPU_GPOFCUR0, dwPos);

  00317	8b 4d d8	 mov	 ecx, DWORD PTR _dwPos$[ebp]
  0031a	89 0d 2c 30 80
	fe		 mov	 DWORD PTR ds:-25153492, ecx

; 846  : 
; 847  :     MCPX_REG_READ(NV_PAPU_GPOFBASE1, &dwPos);

  00320	8b 15 34 30 80
	fe		 mov	 edx, DWORD PTR ds:-25153484
  00326	89 55 d8	 mov	 DWORD PTR _dwPos$[ebp], edx

; 848  :     MCPX_REG_WRITE(NV_PAPU_GPOFCUR1, dwPos);

  00329	8b 45 d8	 mov	 eax, DWORD PTR _dwPos$[ebp]
  0032c	a3 3c 30 80 fe	 mov	 DWORD PTR ds:-25153476, eax

; 849  : 
; 850  :     MCPX_REG_READ(NV_PAPU_GPOFBASE2, &dwPos);

  00331	8b 0d 44 30 80
	fe		 mov	 ecx, DWORD PTR ds:-25153468
  00337	89 4d d8	 mov	 DWORD PTR _dwPos$[ebp], ecx

; 851  :     MCPX_REG_WRITE(NV_PAPU_GPOFCUR2, dwPos);

  0033a	8b 55 d8	 mov	 edx, DWORD PTR _dwPos$[ebp]
  0033d	89 15 4c 30 80
	fe		 mov	 DWORD PTR ds:-25153460, edx

; 852  : 
; 853  :     MCPX_REG_READ(NV_PAPU_GPOFBASE3, &dwPos);

  00343	a1 54 30 80 fe	 mov	 eax, DWORD PTR ds:-25153452
  00348	89 45 d8	 mov	 DWORD PTR _dwPos$[ebp], eax

; 854  :     MCPX_REG_WRITE(NV_PAPU_GPOFCUR3, dwPos);

  0034b	8b 4d d8	 mov	 ecx, DWORD PTR _dwPos$[ebp]
  0034e	89 0d 5c 30 80
	fe		 mov	 DWORD PTR ds:-25153444, ecx

; 855  : 
; 856  :     //
; 857  :     // Now take DSP core out of reset as well
; 858  :     //
; 859  : 
; 860  :     rReset.DSP = NV_PAPU_GPRST_GPDSPRST_DISABLED;

  00354	8b 55 d0	 mov	 edx, DWORD PTR _rReset$[ebp]
  00357	83 ca 02	 or	 edx, 2
  0035a	89 55 d0	 mov	 DWORD PTR _rReset$[ebp], edx

; 861  : 
; 862  :     MCPX_REG_WRITE(NV_PAPU_GPRST, rReset.uValue);

  0035d	8b 45 d0	 mov	 eax, DWORD PTR _rReset$[ebp]
  00360	a3 fc ff 83 fe	 mov	 DWORD PTR ds:-24903684, eax

; 863  : 
; 864  :     DPF_LEAVE_VOID();
; 865  : }

  00365	8b e5		 mov	 esp, ebp
  00367	5d		 pop	 ebp
  00368	c3		 ret	 0
?SetupGlobalProcessor@CMcpxCore@DirectSound@@IAEXXZ ENDP ; DirectSound::CMcpxCore::SetupGlobalProcessor
DSOUND	ENDS
PUBLIC	??_C@_0BC@KDHAIHNE@CMcpxEPDspManager?$AA@	; `string'
PUBLIC	??_C@_0CI@DCFHDMOM@Failed?5to?5alloc?5Dsp?5and?5scratch?5@ ; `string'
EXTRN	?SetMultipassBuffer@CMcpxGPDspManager@DirectSound@@QAEXPAUMCPX_ALLOC_CONTEXT@@K@Z:NEAR ; DirectSound::CMcpxGPDspManager::SetMultipassBuffer
EXTRN	??0CMcpxEPDspManager@DirectSound@@QAE@XZ:NEAR	; DirectSound::CMcpxEPDspManager::CMcpxEPDspManager
EXTRN	?Initialize@CMcpxEPDspManager@DirectSound@@QAEXPAVCMcpxGPDspManager@2@@Z:NEAR ; DirectSound::CMcpxEPDspManager::Initialize
EXTRN	?AC3SetAnalogOutput@CMcpxEPDspManager@DirectSound@@QAEXKK@Z:NEAR ; DirectSound::CMcpxEPDspManager::AC3SetAnalogOutput
EXTRN	?AC3SetDigitalOutput@CMcpxEPDspManager@DirectSound@@QAEXKK@Z:NEAR ; DirectSound::CMcpxEPDspManager::AC3SetDigitalOutput
EXTRN	?GetDolbyConfigTable@CMcpxEPDspManager@DirectSound@@QAEPAUDOLBY_CONFIG_TABLE@@XZ:NEAR ; DirectSound::CMcpxEPDspManager::GetDolbyConfigTable
;	COMDAT ??_C@_0BC@KDHAIHNE@CMcpxEPDspManager?$AA@
DSOUND_RD	SEGMENT
??_C@_0BC@KDHAIHNE@CMcpxEPDspManager?$AA@ DB 'CMcpxEPDspManager', 00H ; `string'
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CI@DCFHDMOM@Failed?5to?5alloc?5Dsp?5and?5scratch?5@
DSOUND_RD	SEGMENT
??_C@_0CI@DCFHDMOM@Failed?5to?5alloc?5Dsp?5and?5scratch?5@ DB 'Failed to '
	DB	'alloc Dsp and scratch classes', 00H		; `string'
; Function compile flags: /Odt
DSOUND_RD	ENDS
;	COMDAT ?SetupEncodeProcessor@CMcpxCore@DirectSound@@IAEXXZ
DSOUND	SEGMENT
tv82 = -56
_this$ = -52
$T36531 = -48
_pTable$ = -44
_rControl$ = -40
_z$ = -36
_dwAddress$ = -32
_rReset$ = -28
_dwSgeOffset$ = -24
_pPrd$ = -20
_dwTotalSgeCount$ = -16
_i$ = -8
_fInitial$ = -4
?SetupEncodeProcessor@CMcpxCore@DirectSound@@IAEXXZ PROC NEAR ; DirectSound::CMcpxCore::SetupEncodeProcessor, COMDAT
; _this$ = ecx

; 893  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 38	 sub	 esp, 56			; 00000038H
  00006	89 4d cc	 mov	 DWORD PTR _this$[ebp], ecx

; 894  :     DWORD                   dwTotalSgeCount;
; 895  :     DWORD                   dwSgeOffset;
; 896  :     DWORD                   dwAddress;
; 897  :     R_GP_RESET              rReset;
; 898  :     R_GP_CONTROL            rControl;
; 899  :     MCP1_PRD *              pPrd;
; 900  :     R_GPDMA_CONFIG          rConfig;
; 901  :     DOLBY_CONFIG_TABLE *    pTable;
; 902  :     BOOL                    fInitial;
; 903  :     DWORD                   i, z;
; 904  : 
; 905  :     DPF_ENTER();
; 906  : 
; 907  :     //
; 908  :     // take EP out of reset, but leave DSP core in reset
; 909  :     //
; 910  : 
; 911  :     rReset.uValue = 0;

  00009	c7 45 e4 00 00
	00 00		 mov	 DWORD PTR _rReset$[ebp], 0

; 912  :     rReset.Global = NV_PAPU_EPRST_EPRST_DISABLED;

  00010	8b 45 e4	 mov	 eax, DWORD PTR _rReset$[ebp]
  00013	83 c8 01	 or	 eax, 1
  00016	89 45 e4	 mov	 DWORD PTR _rReset$[ebp], eax

; 913  :     rReset.DSP = NV_PAPU_EPRST_EPDSPRST_ENABLED;

  00019	8b 4d e4	 mov	 ecx, DWORD PTR _rReset$[ebp]
  0001c	83 e1 fd	 and	 ecx, -3			; fffffffdH
  0001f	89 4d e4	 mov	 DWORD PTR _rReset$[ebp], ecx

; 914  :     rReset.NMI = NV_PAPU_EPRST_EPNMI_DISABLED;

  00022	8b 55 e4	 mov	 edx, DWORD PTR _rReset$[ebp]
  00025	83 e2 fb	 and	 edx, -5			; fffffffbH
  00028	89 55 e4	 mov	 DWORD PTR _rReset$[ebp], edx

; 915  :     rReset.Abort = NV_PAPU_EPRST_EPABORT_DISABLED;

  0002b	8b 45 e4	 mov	 eax, DWORD PTR _rReset$[ebp]
  0002e	83 e0 f7	 and	 eax, -9			; fffffff7H
  00031	89 45 e4	 mov	 DWORD PTR _rReset$[ebp], eax

; 916  : 
; 917  :     MCPX_REG_WRITE(NV_PAPU_EPRST, rReset.uValue);

  00034	8b 4d e4	 mov	 ecx, DWORD PTR _rReset$[ebp]
  00037	89 0d fc ff 85
	fe		 mov	 DWORD PTR ds:-24772612, ecx

; 918  : 
; 919  :     //
; 920  :     // setup the scratch space management and dsp download 
; 921  :     //
; 922  : 
; 923  :     if(fInitial = !m_pEpDspManager)

  0003d	8b 55 cc	 mov	 edx, DWORD PTR _this$[ebp]
  00040	33 c0		 xor	 eax, eax
  00042	83 7a 10 00	 cmp	 DWORD PTR [edx+16], 0
  00046	0f 94 c0	 sete	 al
  00049	89 45 fc	 mov	 DWORD PTR _fInitial$[ebp], eax
  0004c	83 7d fc 00	 cmp	 DWORD PTR _fInitial$[ebp], 0
  00050	74 70		 je	 SHORT $L35889

; 924  :     {
; 925  :         if(!(m_pEpDspManager = NEW(CMcpxEPDspManager))) 

  00052	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BC@KDHAIHNE@CMcpxEPDspManager?$AA@
  00057	68 9d 03 00 00	 push	 925			; 0000039dH
  0005c	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0DL@GNOKBCIE@c?3?2xbox?2private?2windows?2directx?2@
  00061	6a 0c		 push	 12			; 0000000cH
  00063	e8 00 00 00 00	 call	 ??2@YAPAXIPBDK0@Z	; operator new
  00068	83 c4 10	 add	 esp, 16			; 00000010H
  0006b	89 45 d0	 mov	 DWORD PTR $T36531[ebp], eax
  0006e	83 7d d0 00	 cmp	 DWORD PTR $T36531[ebp], 0
  00072	74 0d		 je	 SHORT $L36532
  00074	8b 4d d0	 mov	 ecx, DWORD PTR $T36531[ebp]
  00077	e8 00 00 00 00	 call	 ??0CMcpxEPDspManager@DirectSound@@QAE@XZ ; DirectSound::CMcpxEPDspManager::CMcpxEPDspManager
  0007c	89 45 c8	 mov	 DWORD PTR tv82[ebp], eax
  0007f	eb 07		 jmp	 SHORT $L36533
$L36532:
  00081	c7 45 c8 00 00
	00 00		 mov	 DWORD PTR tv82[ebp], 0
$L36533:
  00088	8b 4d cc	 mov	 ecx, DWORD PTR _this$[ebp]
  0008b	8b 55 c8	 mov	 edx, DWORD PTR tv82[ebp]
  0008e	89 51 10	 mov	 DWORD PTR [ecx+16], edx
  00091	83 7d c8 00	 cmp	 DWORD PTR tv82[ebp], 0
  00095	75 19		 jne	 SHORT $L35892

; 926  :         {
; 927  :             ASSERTMSG("Failed to alloc Dsp and scratch classes");

  00097	68 9f 03 00 00	 push	 927			; 0000039fH
  0009c	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0DL@GNOKBCIE@c?3?2xbox?2private?2windows?2directx?2@
  000a1	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0CI@DCFHDMOM@Failed?5to?5alloc?5Dsp?5and?5scratch?5@
  000a6	6a 01		 push	 1
  000a8	e8 00 00 00 00	 call	 ?Assert@CDebug@DirectSound@@SAXHPBD0I@Z ; DirectSound::CDebug::Assert
  000ad	83 c4 10	 add	 esp, 16			; 00000010H
$L35892:

; 928  :         }
; 929  : 
; 930  :         m_pEpDspManager->Initialize(m_pGpDspManager);

  000b0	8b 45 cc	 mov	 eax, DWORD PTR _this$[ebp]
  000b3	8b 48 0c	 mov	 ecx, DWORD PTR [eax+12]
  000b6	51		 push	 ecx
  000b7	8b 55 cc	 mov	 edx, DWORD PTR _this$[ebp]
  000ba	8b 4a 10	 mov	 ecx, DWORD PTR [edx+16]
  000bd	e8 00 00 00 00	 call	 ?Initialize@CMcpxEPDspManager@DirectSound@@QAEXPAVCMcpxGPDspManager@2@@Z ; DirectSound::CMcpxEPDspManager::Initialize
$L35889:

; 931  :     }
; 932  :     
; 933  :     //
; 934  :     // Output buffer SGE table base address for output buffers
; 935  :     //
; 936  : 
; 937  :     MCPX_REG_WRITE(NV_PAPU_EPFADDR, m_ctxMemory[MCPX_MEM_EPOUTPUTSGE].PhysicalAddress);

  000c2	a1 a4 00 00 00	 mov	 eax, DWORD PTR ?m_ctxMemory@CMcpxCore@DirectSound@@2PAUMCPX_ALLOC_CONTEXT@@A+164
  000c7	a3 4c 20 80 fe	 mov	 DWORD PTR ds:-25157556, eax

; 938  : 
; 939  :     //
; 940  :     // Initialize the get/put pointers
; 941  :     //
; 942  : 
; 943  :     MCPX_REG_WRITE(NV_PAPU_EPGET, 0);

  000cc	c7 05 00 ff 85
	fe 00 00 00 00	 mov	 DWORD PTR ds:-24772864, 0

; 944  :     MCPX_REG_WRITE(NV_PAPU_EPPUT, 0);

  000d6	c7 05 04 ff 85
	fe 00 00 00 00	 mov	 DWORD PTR ds:-24772860, 0

; 945  : 
; 946  :     //
; 947  :     // Tell the hw how big the output SGE array needs to be
; 948  :     //
; 949  : 
; 950  :     dwTotalSgeCount = m_ctxMemory[MCPX_MEM_EPOUTPUT].Size / PAGE_SIZE;

  000e0	8b 0d 18 00 00
	00		 mov	 ecx, DWORD PTR ?m_ctxMemory@CMcpxCore@DirectSound@@2PAUMCPX_ALLOC_CONTEXT@@A+24
  000e6	c1 e9 0c	 shr	 ecx, 12			; 0000000cH
  000e9	89 4d f0	 mov	 DWORD PTR _dwTotalSgeCount$[ebp], ecx

; 951  : 
; 952  :     ASSERT(!(dwTotalSgeCount & 0xFFFF0000));

  000ec	68 b8 03 00 00	 push	 952			; 000003b8H
  000f1	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0DL@GNOKBCIE@c?3?2xbox?2private?2windows?2directx?2@
  000f6	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0CA@HJHFIAGH@?$CB?$CIdwTotalSgeCount?5?$CG?50xFFFF0000?$CJ?$AA@
  000fb	8b 55 f0	 mov	 edx, DWORD PTR _dwTotalSgeCount$[ebp]
  000fe	81 e2 00 00 ff
	ff		 and	 edx, -65536		; ffff0000H
  00104	f7 da		 neg	 edx
  00106	1b d2		 sbb	 edx, edx
  00108	f7 da		 neg	 edx
  0010a	52		 push	 edx
  0010b	e8 00 00 00 00	 call	 ?Assert@CDebug@DirectSound@@SAXHPBD0I@Z ; DirectSound::CDebug::Assert
  00110	83 c4 10	 add	 esp, 16			; 00000010H

; 953  : 	MCPX_REG_WRITE(NV_PAPU_EPFMAXSGE, dwTotalSgeCount - 1);

  00113	8b 45 f0	 mov	 eax, DWORD PTR _dwTotalSgeCount$[ebp]
  00116	83 e8 01	 sub	 eax, 1
  00119	a3 e0 20 80 fe	 mov	 DWORD PTR ds:-25157408, eax

; 954  : 
; 955  :     //
; 956  :     // Set up the actual PRDs (aka SGEs) in the hardware-owned PRD table
; 957  :     //
; 958  : 
; 959  :     pPrd = (MCP1_PRD *)m_ctxMemory[MCPX_MEM_EPOUTPUTSGE].VirtualAddress;

  0011e	8b 0d a0 00 00
	00		 mov	 ecx, DWORD PTR ?m_ctxMemory@CMcpxCore@DirectSound@@2PAUMCPX_ALLOC_CONTEXT@@A+160
  00124	89 4d ec	 mov	 DWORD PTR _pPrd$[ebp], ecx

; 960  : 
; 961  :     for(i = 0, dwSgeOffset = 0; i < MCPX_EPOUTPUT_COUNT; i++)

  00127	c7 45 f8 00 00
	00 00		 mov	 DWORD PTR _i$[ebp], 0
  0012e	c7 45 e8 00 00
	00 00		 mov	 DWORD PTR _dwSgeOffset$[ebp], 0
  00135	eb 09		 jmp	 SHORT $L35904
$L35905:
  00137	8b 55 f8	 mov	 edx, DWORD PTR _i$[ebp]
  0013a	83 c2 01	 add	 edx, 1
  0013d	89 55 f8	 mov	 DWORD PTR _i$[ebp], edx
$L35904:
  00140	83 7d f8 02	 cmp	 DWORD PTR _i$[ebp], 2
  00144	0f 83 b5 00 00
	00		 jae	 $L35906

; 962  :     {
; 963  :         for(z = 0; z < m_adwEPOutputBufferSizes[i] / PAGE_SIZE; z++)

  0014a	c7 45 dc 00 00
	00 00		 mov	 DWORD PTR _z$[ebp], 0
  00151	eb 09		 jmp	 SHORT $L35907
$L35908:
  00153	8b 45 dc	 mov	 eax, DWORD PTR _z$[ebp]
  00156	83 c0 01	 add	 eax, 1
  00159	89 45 dc	 mov	 DWORD PTR _z$[ebp], eax
$L35907:
  0015c	8b 4d f8	 mov	 ecx, DWORD PTR _i$[ebp]
  0015f	8b 14 8d 00 00
	00 00		 mov	 edx, DWORD PTR ?m_adwEPOutputBufferSizes@CMcpxCore@DirectSound@@2QBKB[ecx*4]
  00166	c1 ea 0c	 shr	 edx, 12			; 0000000cH
  00169	39 55 dc	 cmp	 DWORD PTR _z$[ebp], edx
  0016c	73 55		 jae	 SHORT $L35909

; 964  :         {
; 965  :             dwAddress = m_ctxMemory[MCPX_MEM_EPOUTPUT].PhysicalAddress + ((dwSgeOffset + z) * PAGE_SIZE);

  0016e	8b 45 e8	 mov	 eax, DWORD PTR _dwSgeOffset$[ebp]
  00171	03 45 dc	 add	 eax, DWORD PTR _z$[ebp]
  00174	c1 e0 0c	 shl	 eax, 12			; 0000000cH
  00177	8b 0d 14 00 00
	00		 mov	 ecx, DWORD PTR ?m_ctxMemory@CMcpxCore@DirectSound@@2PAUMCPX_ALLOC_CONTEXT@@A+20
  0017d	03 c8		 add	 ecx, eax
  0017f	89 4d e0	 mov	 DWORD PTR _dwAddress$[ebp], ecx

; 966  :             
; 967  :             pPrd[dwSgeOffset + z].uAddr = dwAddress;

  00182	8b 55 e8	 mov	 edx, DWORD PTR _dwSgeOffset$[ebp]
  00185	03 55 dc	 add	 edx, DWORD PTR _z$[ebp]
  00188	8b 45 ec	 mov	 eax, DWORD PTR _pPrd$[ebp]
  0018b	8b 4d e0	 mov	 ecx, DWORD PTR _dwAddress$[ebp]
  0018e	89 0c d0	 mov	 DWORD PTR [eax+edx*8], ecx

; 968  :             pPrd[dwSgeOffset + z].Control.uValue = 0;

  00191	8b 55 e8	 mov	 edx, DWORD PTR _dwSgeOffset$[ebp]
  00194	03 55 dc	 add	 edx, DWORD PTR _z$[ebp]
  00197	8b 45 ec	 mov	 eax, DWORD PTR _pPrd$[ebp]
  0019a	c7 44 d0 04 00
	00 00 00	 mov	 DWORD PTR [eax+edx*8+4], 0

; 969  :             pPrd[dwSgeOffset + z].Control.Owner = NV_PSSL_PRD_CONTROL_OWN_HW;

  001a2	8b 4d e8	 mov	 ecx, DWORD PTR _dwSgeOffset$[ebp]
  001a5	03 4d dc	 add	 ecx, DWORD PTR _z$[ebp]
  001a8	8b 55 ec	 mov	 edx, DWORD PTR _pPrd$[ebp]
  001ab	8b 44 ca 04	 mov	 eax, DWORD PTR [edx+ecx*8+4]
  001af	25 ff ff ff fe	 and	 eax, -16777217		; feffffffH
  001b4	8b 4d e8	 mov	 ecx, DWORD PTR _dwSgeOffset$[ebp]
  001b7	03 4d dc	 add	 ecx, DWORD PTR _z$[ebp]
  001ba	8b 55 ec	 mov	 edx, DWORD PTR _pPrd$[ebp]
  001bd	89 44 ca 04	 mov	 DWORD PTR [edx+ecx*8+4], eax

; 970  :         }

  001c1	eb 90		 jmp	 SHORT $L35908
$L35909:

; 971  :         
; 972  :         MCPX_REG_WRITE(NV_PAPU_EPOFBASE0 + (0x10 * i), dwSgeOffset * PAGE_SIZE);

  001c3	8b 45 e8	 mov	 eax, DWORD PTR _dwSgeOffset$[ebp]
  001c6	c1 e0 0c	 shl	 eax, 12			; 0000000cH
  001c9	8b 4d f8	 mov	 ecx, DWORD PTR _i$[ebp]
  001cc	c1 e1 04	 shl	 ecx, 4
  001cf	89 81 24 40 80
	fe		 mov	 DWORD PTR [ecx-25149404], eax

; 973  :         MCPX_REG_WRITE(NV_PAPU_EPOFEND0 + (0x10 * i), dwSgeOffset * PAGE_SIZE + m_adwEPOutputBufferSizes[i]); 

  001d5	8b 55 e8	 mov	 edx, DWORD PTR _dwSgeOffset$[ebp]
  001d8	c1 e2 0c	 shl	 edx, 12			; 0000000cH
  001db	8b 45 f8	 mov	 eax, DWORD PTR _i$[ebp]
  001de	03 14 85 00 00
	00 00		 add	 edx, DWORD PTR ?m_adwEPOutputBufferSizes@CMcpxCore@DirectSound@@2QBKB[eax*4]
  001e5	8b 4d f8	 mov	 ecx, DWORD PTR _i$[ebp]
  001e8	c1 e1 04	 shl	 ecx, 4
  001eb	89 91 28 40 80
	fe		 mov	 DWORD PTR [ecx-25149400], edx

; 974  : 
; 975  :         dwSgeOffset += z;

  001f1	8b 55 e8	 mov	 edx, DWORD PTR _dwSgeOffset$[ebp]
  001f4	03 55 dc	 add	 edx, DWORD PTR _z$[ebp]
  001f7	89 55 e8	 mov	 DWORD PTR _dwSgeOffset$[ebp], edx

; 976  :     }

  001fa	e9 38 ff ff ff	 jmp	 $L35905
$L35906:

; 977  : 
; 978  :     if(fInitial)

  001ff	83 7d fc 00	 cmp	 DWORD PTR _fInitial$[ebp], 0
  00203	0f 84 ac 00 00
	00		 je	 $L35914

; 979  :     {
; 980  :         //
; 981  :         // update the DSP dolby code loader table with the output buffer offsets
; 982  :         //
; 983  : 
; 984  :         m_pEpDspManager->AC3SetAnalogOutput(MCPX_EPOUTPUT_AC97_ANALOG, m_adwEPOutputBufferSizes[MCPX_EPOUTPUT_AC97_ANALOG]);

  00209	a1 00 00 00 00	 mov	 eax, DWORD PTR ?m_adwEPOutputBufferSizes@CMcpxCore@DirectSound@@2QBKB
  0020e	50		 push	 eax
  0020f	6a 00		 push	 0
  00211	8b 4d cc	 mov	 ecx, DWORD PTR _this$[ebp]
  00214	8b 49 10	 mov	 ecx, DWORD PTR [ecx+16]
  00217	e8 00 00 00 00	 call	 ?AC3SetAnalogOutput@CMcpxEPDspManager@DirectSound@@QAEXKK@Z ; DirectSound::CMcpxEPDspManager::AC3SetAnalogOutput

; 985  : 
; 986  :         //
; 987  :         // Now the digital fifo. Its base offset is right after the analog FIFO
; 988  :         // update the loader table
; 989  :         //
; 990  : 
; 991  :         m_pEpDspManager->AC3SetDigitalOutput(MCPX_EPOUTPUT_AC97_DIGITAL, m_adwEPOutputBufferSizes[MCPX_EPOUTPUT_AC97_DIGITAL]);

  0021c	8b 15 04 00 00
	00		 mov	 edx, DWORD PTR ?m_adwEPOutputBufferSizes@CMcpxCore@DirectSound@@2QBKB+4
  00222	52		 push	 edx
  00223	6a 01		 push	 1
  00225	8b 45 cc	 mov	 eax, DWORD PTR _this$[ebp]
  00228	8b 48 10	 mov	 ecx, DWORD PTR [eax+16]
  0022b	e8 00 00 00 00	 call	 ?AC3SetDigitalOutput@CMcpxEPDspManager@DirectSound@@QAEXKK@Z ; DirectSound::CMcpxEPDspManager::AC3SetDigitalOutput

; 992  : 
; 993  :         //
; 994  :         // add the pages used for multipass buffer output from the GP, into the GP scratch
; 995  :         // we do this here since the EpDspManager->Initialize() needs to run first and add 
; 996  :         // its AC3 pages at the end of scratch first. It needs to happen in this order
; 997  :         //
; 998  : 
; 999  :         m_pGpDspManager->SetMultipassBuffer(&m_ctxMemory[MCPX_MEM_GPMULTIPASS], MCPX_HW_MULTIPASS_NUM_PAGES);   

  00230	6a 01		 push	 1
  00232	68 b0 00 00 00	 push	 OFFSET FLAT:?m_ctxMemory@CMcpxCore@DirectSound@@2PAUMCPX_ALLOC_CONTEXT@@A+176
  00237	8b 4d cc	 mov	 ecx, DWORD PTR _this$[ebp]
  0023a	8b 49 0c	 mov	 ecx, DWORD PTR [ecx+12]
  0023d	e8 00 00 00 00	 call	 ?SetMultipassBuffer@CMcpxGPDspManager@DirectSound@@QAEXPAUMCPX_ALLOC_CONTEXT@@K@Z ; DirectSound::CMcpxGPDspManager::SetMultipassBuffer

; 1000 : 
; 1001 :         //
; 1002 :         // based on the speaker config, setup the dolby DSP code to do the right thing
; 1003 :         //
; 1004 : 
; 1005 :         if(!DSSPEAKER_IS_SURROUND(m_pSettings->m_dwSpeakerConfig))

  00242	8b 55 cc	 mov	 edx, DWORD PTR _this$[ebp]
  00245	8b 42 04	 mov	 eax, DWORD PTR [edx+4]
  00248	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  0024b	81 e1 ff ff 00
	00		 and	 ecx, 65535		; 0000ffffH
  00251	83 f9 02	 cmp	 ecx, 2
  00254	74 5f		 je	 SHORT $L35914
  00256	8b 55 cc	 mov	 edx, DWORD PTR _this$[ebp]
  00259	8b 42 04	 mov	 eax, DWORD PTR [edx+4]
  0025c	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  0025f	81 e1 00 00 01
	00		 and	 ecx, 65536		; 00010000H
  00265	85 c9		 test	 ecx, ecx
  00267	75 4c		 jne	 SHORT $L35914

; 1006 :         {
; 1007 :             pTable = m_pEpDspManager->GetDolbyConfigTable();

  00269	8b 55 cc	 mov	 edx, DWORD PTR _this$[ebp]
  0026c	8b 4a 10	 mov	 ecx, DWORD PTR [edx+16]
  0026f	e8 00 00 00 00	 call	 ?GetDolbyConfigTable@CMcpxEPDspManager@DirectSound@@QAEPAUDOLBY_CONFIG_TABLE@@XZ ; DirectSound::CMcpxEPDspManager::GetDolbyConfigTable
  00274	89 45 d4	 mov	 DWORD PTR _pTable$[ebp], eax

; 1008 : 
; 1009 :             pTable->do_surround_encode = FALSE;

  00277	8b 45 d4	 mov	 eax, DWORD PTR _pTable$[ebp]
  0027a	c7 40 04 00 00
	00 00		 mov	 DWORD PTR [eax+4], 0

; 1010 :             pTable->do_game_encode = FALSE;

  00281	8b 4d d4	 mov	 ecx, DWORD PTR _pTable$[ebp]
  00284	c7 41 08 00 00
	00 00		 mov	 DWORD PTR [ecx+8], 0

; 1011 : 
; 1012 :             if(DSSPEAKER_BASIC(m_pSettings->m_dwSpeakerConfig) == DSSPEAKER_MONO) 

  0028b	8b 55 cc	 mov	 edx, DWORD PTR _this$[ebp]
  0028e	8b 42 04	 mov	 eax, DWORD PTR [edx+4]
  00291	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  00294	81 e1 ff ff 00
	00		 and	 ecx, 65535		; 0000ffffH
  0029a	83 f9 01	 cmp	 ecx, 1
  0029d	75 0c		 jne	 SHORT $L35918

; 1013 :             {
; 1014 :                 pTable->do_downmix_encode = 1;

  0029f	8b 55 d4	 mov	 edx, DWORD PTR _pTable$[ebp]
  002a2	c7 42 0c 01 00
	00 00		 mov	 DWORD PTR [edx+12], 1

; 1015 :             } 
; 1016 :             else 

  002a9	eb 0a		 jmp	 SHORT $L35914
$L35918:

; 1017 :             {
; 1018 :                 pTable->do_downmix_encode = 2;

  002ab	8b 45 d4	 mov	 eax, DWORD PTR _pTable$[ebp]
  002ae	c7 40 0c 02 00
	00 00		 mov	 DWORD PTR [eax+12], 2
$L35914:

; 1019 :             }
; 1020 :         }
; 1021 :     }
; 1022 : 
; 1023 :     //
; 1024 :     // setup cfg reg
; 1025 :     //
; 1026 : 
; 1027 :     MCPX_REG_WRITE(NV_PAPU_EPDCFG, 0);

  002b5	c7 05 5c ff 85
	fe 00 00 00 00	 mov	 DWORD PTR ds:-24772772, 0

; 1028 : 
; 1029 :     //
; 1030 :     // setup RDY reg
; 1031 :     //
; 1032 : 
; 1033 :     rControl.uValue = 0;

  002bf	c7 45 d8 00 00
	00 00		 mov	 DWORD PTR _rControl$[ebp], 0

; 1034 :     rControl.Idle = NV_PAPU_EPIDRDY_EPSETIDLE_SET;

  002c6	8b 4d d8	 mov	 ecx, DWORD PTR _rControl$[ebp]
  002c9	83 c9 01	 or	 ecx, 1
  002cc	89 4d d8	 mov	 DWORD PTR _rControl$[ebp], ecx

; 1035 :     rControl.IntrNotify = NV_PAPU_EPIDRDY_EPSETNINT_NOT_SET;

  002cf	8b 55 d8	 mov	 edx, DWORD PTR _rControl$[ebp]
  002d2	83 e2 f7	 and	 edx, -9			; fffffff7H
  002d5	89 55 d8	 mov	 DWORD PTR _rControl$[ebp], edx

; 1036 : 
; 1037 :     MCPX_REG_WRITE(NV_PAPU_EPIDRDY, rControl.uValue);

  002d8	8b 45 d8	 mov	 eax, DWORD PTR _rControl$[ebp]
  002db	a3 10 ff 85 fe	 mov	 DWORD PTR ds:-24772848, eax

; 1038 :     
; 1039 :     //
; 1040 :     // clear the EPISTS bit
; 1041 :     //
; 1042 : 
; 1043 :     MCPX_REG_WRITE(NV_PAPU_EPISTS, 0xFFFFFFFF);

  002e0	c7 05 14 ff 85
	fe ff ff ff ff	 mov	 DWORD PTR ds:-24772844, -1

; 1044 : 
; 1045 :     //
; 1046 :     // turn EP dsp core on..
; 1047 :     // BUGBUG nvidia writes a 0x1 as the last thing to turn on the EP (??)
; 1048 :     //
; 1049 : 
; 1050 :     rReset.DSP = NV_PAPU_EPRST_EPDSPRST_DISABLED;

  002ea	8b 4d e4	 mov	 ecx, DWORD PTR _rReset$[ebp]
  002ed	83 c9 02	 or	 ecx, 2
  002f0	89 4d e4	 mov	 DWORD PTR _rReset$[ebp], ecx

; 1051 :     MCPX_REG_WRITE(NV_PAPU_EPRST,rReset.uValue);

  002f3	8b 55 e4	 mov	 edx, DWORD PTR _rReset$[ebp]
  002f6	89 15 fc ff 85
	fe		 mov	 DWORD PTR ds:-24772612, edx

; 1052 : 
; 1053 :     DPF_LEAVE_VOID();
; 1054 : }

  002fc	8b e5		 mov	 esp, ebp
  002fe	5d		 pop	 ebp
  002ff	c3		 ret	 0
?SetupEncodeProcessor@CMcpxCore@DirectSound@@IAEXXZ ENDP ; DirectSound::CMcpxCore::SetupEncodeProcessor
DSOUND	ENDS
EXTRN	?Initialize@CAc97Device@DirectSound@@QAEJK@Z:NEAR ; DirectSound::CAc97Device::Initialize
EXTRN	?CreateChannel@CAc97Device@DirectSound@@QAEJW4AC97CHANNELTYPE@@PAPAVCAc97Channel@2@@Z:NEAR ; DirectSound::CAc97Device::CreateChannel
EXTRN	?Initialize@CAc97Channel@DirectSound@@QAEJKP6GXPAX@Z0@Z:NEAR ; DirectSound::CAc97Channel::Initialize
EXTRN	?AttachPacket@CAc97Channel@DirectSound@@QAEXKK@Z:NEAR ; DirectSound::CAc97Channel::AttachPacket
EXTRN	?SetMode@CAc97Channel@DirectSound@@QAEXK@Z:NEAR	; DirectSound::CAc97Channel::SetMode
; Function compile flags: /Odt
;	COMDAT ?SetupAc97@CMcpxCore@DirectSound@@IAEJXZ
DSOUND	SEGMENT
_this$ = -20
_hr$ = -16
_dwBufferAddress$ = -12
_adwBufferSizes$ = -4
?SetupAc97@CMcpxCore@DirectSound@@IAEJXZ PROC NEAR	; DirectSound::CMcpxCore::SetupAc97, COMDAT
; _this$ = ecx

; 1082 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 14	 sub	 esp, 20			; 00000014H
  00006	89 4d ec	 mov	 DWORD PTR _this$[ebp], ecx

; 1083 :     HRESULT                 hr              = DS_OK;

  00009	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _hr$[ebp], 0

; 1084 :     DWORD                   dwBufferAddress;
; 1085 :     LPCDWORD                adwBufferSizes;
; 1086 :     DWORD                   i;
; 1087 : 
; 1088 :     DPF_ENTER();
; 1089 : 
; 1090 : #ifndef MCPX_BOOT_LIB
; 1091 : 
; 1092 :     dwBufferAddress = m_ctxMemory[MCPX_MEM_EPOUTPUT].PhysicalAddress;

  00010	a1 14 00 00 00	 mov	 eax, DWORD PTR ?m_ctxMemory@CMcpxCore@DirectSound@@2PAUMCPX_ALLOC_CONTEXT@@A+20
  00015	89 45 f4	 mov	 DWORD PTR _dwBufferAddress$[ebp], eax

; 1093 :     adwBufferSizes = m_adwEPOutputBufferSizes;

  00018	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _adwBufferSizes$[ebp], OFFSET FLAT:?m_adwEPOutputBufferSizes@CMcpxCore@DirectSound@@2QBKB ; DirectSound::CMcpxCore::m_adwEPOutputBufferSizes

; 1094 : 
; 1095 : #else
; 1096 : 
; 1097 :     dwBufferAddress = m_ctxMemory[MCPX_MEM_GPOUTPUT].PhysicalAddress;
; 1098 :     adwBufferSizes = m_adwGPOutputBufferSizes;
; 1099 : 
; 1100 : #endif // MCPX_BOOT_LIB
; 1101 : 
; 1102 :     //
; 1103 :     // Initialize the AC97
; 1104 :     //
; 1105 : 
; 1106 :     hr = m_Ac97.Initialize(AC97_OBJECTF_DIRECTISR);

  0001f	6a 01		 push	 1
  00021	8b 4d ec	 mov	 ecx, DWORD PTR _this$[ebp]
  00024	83 c1 14	 add	 ecx, 20			; 00000014H
  00027	e8 00 00 00 00	 call	 ?Initialize@CAc97Device@DirectSound@@QAEJK@Z ; DirectSound::CAc97Device::Initialize
  0002c	89 45 f0	 mov	 DWORD PTR _hr$[ebp], eax

; 1107 : 
; 1108 :     //
; 1109 :     // Create AC97 output channels.  If Dolby Digital isn't turned on in the
; 1110 :     // speaker config, both the analog and digital channels will read from
; 1111 :     // the analog buffer.
; 1112 :     //
; 1113 : 
; 1114 :     if(SUCCEEDED(hr))

  0002f	83 7d f0 00	 cmp	 DWORD PTR _hr$[ebp], 0
  00033	7c 12		 jl	 SHORT $L35938

; 1115 :     {
; 1116 :         hr = m_Ac97.CreateChannel(AC97_CHANNELTYPE_ANALOG);

  00035	6a 00		 push	 0
  00037	6a 00		 push	 0
  00039	8b 4d ec	 mov	 ecx, DWORD PTR _this$[ebp]
  0003c	83 c1 14	 add	 ecx, 20			; 00000014H
  0003f	e8 00 00 00 00	 call	 ?CreateChannel@CAc97Device@DirectSound@@QAEJW4AC97CHANNELTYPE@@PAPAVCAc97Channel@2@@Z ; DirectSound::CAc97Device::CreateChannel
  00044	89 45 f0	 mov	 DWORD PTR _hr$[ebp], eax
$L35938:

; 1117 :     }
; 1118 : 
; 1119 :     if(SUCCEEDED(hr))

  00047	83 7d f0 00	 cmp	 DWORD PTR _hr$[ebp], 0
  0004b	7c 14		 jl	 SHORT $L35940

; 1120 :     {
; 1121 :         hr = m_Ac97.m_apChannels[AC97_CHANNELTYPE_ANALOG]->Initialize();

  0004d	6a 00		 push	 0
  0004f	6a 00		 push	 0
  00051	6a 00		 push	 0
  00053	8b 4d ec	 mov	 ecx, DWORD PTR _this$[ebp]
  00056	8b 49 14	 mov	 ecx, DWORD PTR [ecx+20]
  00059	e8 00 00 00 00	 call	 ?Initialize@CAc97Channel@DirectSound@@QAEJKP6GXPAX@Z0@Z ; DirectSound::CAc97Channel::Initialize
  0005e	89 45 f0	 mov	 DWORD PTR _hr$[ebp], eax
$L35940:

; 1122 :     }
; 1123 : 
; 1124 :     if(SUCCEEDED(hr))

  00061	83 7d f0 00	 cmp	 DWORD PTR _hr$[ebp], 0
  00065	7c 15		 jl	 SHORT $L35942

; 1125 :     {
; 1126 :         m_Ac97.m_apChannels[AC97_CHANNELTYPE_ANALOG]->AttachPacket(dwBufferAddress, adwBufferSizes[AC97_CHANNELTYPE_ANALOG]);

  00067	8b 55 fc	 mov	 edx, DWORD PTR _adwBufferSizes$[ebp]
  0006a	8b 02		 mov	 eax, DWORD PTR [edx]
  0006c	50		 push	 eax
  0006d	8b 4d f4	 mov	 ecx, DWORD PTR _dwBufferAddress$[ebp]
  00070	51		 push	 ecx
  00071	8b 55 ec	 mov	 edx, DWORD PTR _this$[ebp]
  00074	8b 4a 14	 mov	 ecx, DWORD PTR [edx+20]
  00077	e8 00 00 00 00	 call	 ?AttachPacket@CAc97Channel@DirectSound@@QAEXKK@Z ; DirectSound::CAc97Channel::AttachPacket
$L35942:

; 1127 :     }
; 1128 : 
; 1129 :     if(SUCCEEDED(hr))

  0007c	83 7d f0 00	 cmp	 DWORD PTR _hr$[ebp], 0
  00080	7c 12		 jl	 SHORT $L35944

; 1130 :     {
; 1131 :         hr = m_Ac97.CreateChannel(AC97_CHANNELTYPE_DIGITAL);

  00082	6a 00		 push	 0
  00084	6a 01		 push	 1
  00086	8b 4d ec	 mov	 ecx, DWORD PTR _this$[ebp]
  00089	83 c1 14	 add	 ecx, 20			; 00000014H
  0008c	e8 00 00 00 00	 call	 ?CreateChannel@CAc97Device@DirectSound@@QAEJW4AC97CHANNELTYPE@@PAPAVCAc97Channel@2@@Z ; DirectSound::CAc97Device::CreateChannel
  00091	89 45 f0	 mov	 DWORD PTR _hr$[ebp], eax
$L35944:

; 1132 :     }
; 1133 : 
; 1134 :     if(SUCCEEDED(hr))

  00094	83 7d f0 00	 cmp	 DWORD PTR _hr$[ebp], 0
  00098	7c 14		 jl	 SHORT $L35946

; 1135 :     {
; 1136 :         hr = m_Ac97.m_apChannels[AC97_CHANNELTYPE_DIGITAL]->Initialize();

  0009a	6a 00		 push	 0
  0009c	6a 00		 push	 0
  0009e	6a 00		 push	 0
  000a0	8b 45 ec	 mov	 eax, DWORD PTR _this$[ebp]
  000a3	8b 48 18	 mov	 ecx, DWORD PTR [eax+24]
  000a6	e8 00 00 00 00	 call	 ?Initialize@CAc97Channel@DirectSound@@QAEJKP6GXPAX@Z0@Z ; DirectSound::CAc97Channel::Initialize
  000ab	89 45 f0	 mov	 DWORD PTR _hr$[ebp], eax
$L35946:

; 1137 :     }
; 1138 : 
; 1139 :     if(SUCCEEDED(hr))

  000ae	83 7d f0 00	 cmp	 DWORD PTR _hr$[ebp], 0
  000b2	7c 64		 jl	 SHORT $L35948

; 1140 :     {
; 1141 : 
; 1142 : #ifndef MCPX_BOOT_LIB
; 1143 : 
; 1144 :         if(DSSPEAKER_IS_AC3(m_pSettings->m_dwSpeakerConfig))

  000b4	8b 4d ec	 mov	 ecx, DWORD PTR _this$[ebp]
  000b7	8b 51 04	 mov	 edx, DWORD PTR [ecx+4]
  000ba	8b 42 08	 mov	 eax, DWORD PTR [edx+8]
  000bd	25 00 00 01 00	 and	 eax, 65536		; 00010000H
  000c2	85 c0		 test	 eax, eax
  000c4	74 2d		 je	 SHORT $L35949

; 1145 :         {
; 1146 :             m_Ac97.m_apChannels[AC97_CHANNELTYPE_DIGITAL]->AttachPacket(dwBufferAddress + adwBufferSizes[AC97_CHANNELTYPE_ANALOG], adwBufferSizes[AC97_CHANNELTYPE_DIGITAL]);

  000c6	8b 4d fc	 mov	 ecx, DWORD PTR _adwBufferSizes$[ebp]
  000c9	8b 51 04	 mov	 edx, DWORD PTR [ecx+4]
  000cc	52		 push	 edx
  000cd	8b 45 fc	 mov	 eax, DWORD PTR _adwBufferSizes$[ebp]
  000d0	8b 4d f4	 mov	 ecx, DWORD PTR _dwBufferAddress$[ebp]
  000d3	03 08		 add	 ecx, DWORD PTR [eax]
  000d5	51		 push	 ecx
  000d6	8b 55 ec	 mov	 edx, DWORD PTR _this$[ebp]
  000d9	8b 4a 18	 mov	 ecx, DWORD PTR [edx+24]
  000dc	e8 00 00 00 00	 call	 ?AttachPacket@CAc97Channel@DirectSound@@QAEXKK@Z ; DirectSound::CAc97Channel::AttachPacket

; 1147 :             m_Ac97.m_apChannels[AC97_CHANNELTYPE_DIGITAL]->SetMode(DSAC97_MODE_ENCODED);

  000e1	68 02 00 00 02	 push	 33554434		; 02000002H
  000e6	8b 45 ec	 mov	 eax, DWORD PTR _this$[ebp]
  000e9	8b 48 18	 mov	 ecx, DWORD PTR [eax+24]
  000ec	e8 00 00 00 00	 call	 ?SetMode@CAc97Channel@DirectSound@@QAEXK@Z ; DirectSound::CAc97Channel::SetMode

; 1148 :         }
; 1149 :         else

  000f1	eb 25		 jmp	 SHORT $L35948
$L35949:

; 1150 : 
; 1151 : #endif // MCPX_BOOT_LIB
; 1152 : 
; 1153 :         {
; 1154 :             m_Ac97.m_apChannels[AC97_CHANNELTYPE_DIGITAL]->AttachPacket(dwBufferAddress, adwBufferSizes[AC97_CHANNELTYPE_ANALOG]);

  000f3	8b 4d fc	 mov	 ecx, DWORD PTR _adwBufferSizes$[ebp]
  000f6	8b 11		 mov	 edx, DWORD PTR [ecx]
  000f8	52		 push	 edx
  000f9	8b 45 f4	 mov	 eax, DWORD PTR _dwBufferAddress$[ebp]
  000fc	50		 push	 eax
  000fd	8b 4d ec	 mov	 ecx, DWORD PTR _this$[ebp]
  00100	8b 49 18	 mov	 ecx, DWORD PTR [ecx+24]
  00103	e8 00 00 00 00	 call	 ?AttachPacket@CAc97Channel@DirectSound@@QAEXKK@Z ; DirectSound::CAc97Channel::AttachPacket

; 1155 :             m_Ac97.m_apChannels[AC97_CHANNELTYPE_DIGITAL]->SetMode(DSAC97_MODE_PCM);

  00108	68 00 00 00 02	 push	 33554432		; 02000000H
  0010d	8b 55 ec	 mov	 edx, DWORD PTR _this$[ebp]
  00110	8b 4a 18	 mov	 ecx, DWORD PTR [edx+24]
  00113	e8 00 00 00 00	 call	 ?SetMode@CAc97Channel@DirectSound@@QAEXK@Z ; DirectSound::CAc97Channel::SetMode
$L35948:

; 1156 :         }
; 1157 :     }
; 1158 : 
; 1159 :     DPF_LEAVE_HRESULT(hr);
; 1160 : 
; 1161 : 	return hr;

  00118	8b 45 f0	 mov	 eax, DWORD PTR _hr$[ebp]

; 1162 : }

  0011b	8b e5		 mov	 esp, ebp
  0011d	5d		 pop	 ebp
  0011e	c3		 ret	 0
?SetupAc97@CMcpxCore@DirectSound@@IAEJXZ ENDP		; DirectSound::CMcpxCore::SetupAc97
DSOUND	ENDS
PUBLIC	??0CAutoIrql@DirectSound@@QAE@XZ		; DirectSound::CAutoIrql::CAutoIrql
PUBLIC	??1CAutoIrql@DirectSound@@QAE@XZ		; DirectSound::CAutoIrql::~CAutoIrql
; Function compile flags: /Odt
;	COMDAT ?SetInterruptState@CMcpxCore@DirectSound@@IAEXH@Z
DSOUND	SEGMENT
_this$ = -20
___AutoIrql$ = -16
_rInterruptMask$ = -8
_fEnabled$ = 8
?SetInterruptState@CMcpxCore@DirectSound@@IAEXH@Z PROC NEAR ; DirectSound::CMcpxCore::SetInterruptState, COMDAT
; _this$ = ecx

; 1188 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 14	 sub	 esp, 20			; 00000014H
  00006	89 4d ec	 mov	 DWORD PTR _this$[ebp], ecx

; 1189 :     R_INTR                  rInterruptMask;
; 1190 : 
; 1191 :     DPF_ENTER();
; 1192 :     AutoIrql();

  00009	8d 4d f0	 lea	 ecx, DWORD PTR ___AutoIrql$[ebp]
  0000c	e8 00 00 00 00	 call	 ??0CAutoIrql@DirectSound@@QAE@XZ ; DirectSound::CAutoIrql::CAutoIrql

; 1193 : 
; 1194 :     MCPX_REG_READ(NV_PAPU_IEN, &rInterruptMask.uValue);

  00011	a1 04 10 80 fe	 mov	 eax, DWORD PTR ds:-25161724
  00016	89 45 f8	 mov	 DWORD PTR _rInterruptMask$[ebp], eax

; 1195 : 
; 1196 :     rInterruptMask.General = fEnabled ? NV_PAPU_IEN_GINTEN_ENABLED : NV_PAPU_IEN_GINTEN_DISABLED;

  00019	33 c9		 xor	 ecx, ecx
  0001b	83 7d 08 00	 cmp	 DWORD PTR _fEnabled$[ebp], 0
  0001f	0f 95 c1	 setne	 cl
  00022	83 e1 01	 and	 ecx, 1
  00025	8b 55 f8	 mov	 edx, DWORD PTR _rInterruptMask$[ebp]
  00028	83 e2 fe	 and	 edx, -2			; fffffffeH
  0002b	0b d1		 or	 edx, ecx
  0002d	89 55 f8	 mov	 DWORD PTR _rInterruptMask$[ebp], edx

; 1197 : 
; 1198 :     MCPX_REG_WRITE(NV_PAPU_IEN, rInterruptMask.uValue);

  00030	8b 45 f8	 mov	 eax, DWORD PTR _rInterruptMask$[ebp]
  00033	a3 04 10 80 fe	 mov	 DWORD PTR ds:-25161724, eax

; 1199 : 
; 1200 :     // DPF_BLAB("Interrupts %s", fEnabled ? "enabled" : "disabled");
; 1201 : 
; 1202 :     DPF_LEAVE_VOID();
; 1203 : }

  00038	8d 4d f0	 lea	 ecx, DWORD PTR ___AutoIrql$[ebp]
  0003b	e8 00 00 00 00	 call	 ??1CAutoIrql@DirectSound@@QAE@XZ ; DirectSound::CAutoIrql::~CAutoIrql
  00040	8b e5		 mov	 esp, ebp
  00042	5d		 pop	 ebp
  00043	c2 04 00	 ret	 4
?SetInterruptState@CMcpxCore@DirectSound@@IAEXH@Z ENDP	; DirectSound::CMcpxCore::SetInterruptState
DSOUND	ENDS
PUBLIC	??0CIrql@DirectSound@@QAE@XZ			; DirectSound::CIrql::CIrql
PUBLIC	?Raise@CIrql@DirectSound@@QAEXXZ		; DirectSound::CIrql::Raise
; Function compile flags: /Odt
; File c:\xbox\private\windows\directx\dsound\common\drvhlp.h
;	COMDAT ??0CAutoIrql@DirectSound@@QAE@XZ
DSOUND	SEGMENT
_this$ = -4
??0CAutoIrql@DirectSound@@QAE@XZ PROC NEAR		; DirectSound::CAutoIrql::CAutoIrql, COMDAT
; _this$ = ecx

; 77   :     {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx
  00007	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0000a	e8 00 00 00 00	 call	 ??0CIrql@DirectSound@@QAE@XZ ; DirectSound::CIrql::CIrql

; 78   :         Raise();

  0000f	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00012	e8 00 00 00 00	 call	 ?Raise@CIrql@DirectSound@@QAEXXZ ; DirectSound::CIrql::Raise

; 79   :     }

  00017	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0001a	8b e5		 mov	 esp, ebp
  0001c	5d		 pop	 ebp
  0001d	c3		 ret	 0
??0CAutoIrql@DirectSound@@QAE@XZ ENDP			; DirectSound::CAutoIrql::CAutoIrql
; Function compile flags: /Odt
DSOUND	ENDS
;	COMDAT ??0CIrql@DirectSound@@QAE@XZ
DSOUND	SEGMENT
_this$ = -4
??0CIrql@DirectSound@@QAE@XZ PROC NEAR			; DirectSound::CIrql::CIrql, COMDAT
; _this$ = ecx

; 40   :     {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 41   :         m_fRaised = FALSE;

  00007	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000a	c7 40 04 00 00
	00 00		 mov	 DWORD PTR [eax+4], 0

; 42   :     }

  00011	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00014	8b e5		 mov	 esp, ebp
  00016	5d		 pop	 ebp
  00017	c3		 ret	 0
??0CIrql@DirectSound@@QAE@XZ ENDP			; DirectSound::CIrql::CIrql
DSOUND	ENDS
EXTRN	__imp_@KfRaiseIrql@4:NEAR
; Function compile flags: /Odt
;	COMDAT ?Raise@CIrql@DirectSound@@QAEXXZ
DSOUND	SEGMENT
_this$ = -4
?Raise@CIrql@DirectSound@@QAEXXZ PROC NEAR		; DirectSound::CIrql::Raise, COMDAT
; _this$ = ecx

; 45   :     {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 46   :         if(m_fRaised = (KeGetCurrentIrql() < DISPATCH_LEVEL))

  00007	e8 00 00 00 00	 call	 _KeGetCurrentIrql@0
  0000c	0f b6 c0	 movzx	 eax, al
  0000f	33 c9		 xor	 ecx, ecx
  00011	83 f8 02	 cmp	 eax, 2
  00014	0f 9c c1	 setl	 cl
  00017	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  0001a	89 4a 04	 mov	 DWORD PTR [edx+4], ecx
  0001d	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00020	83 78 04 00	 cmp	 DWORD PTR [eax+4], 0
  00024	74 0d		 je	 SHORT $L30264

; 47   :         {
; 48   :             m_irql = KfRaiseIrql(DISPATCH_LEVEL);

  00026	b1 02		 mov	 cl, 2
  00028	ff 15 00 00 00
	00		 call	 DWORD PTR __imp_@KfRaiseIrql@4
  0002e	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00031	88 01		 mov	 BYTE PTR [ecx], al
$L30264:

; 49   :         }
; 50   :     }

  00033	8b e5		 mov	 esp, ebp
  00035	5d		 pop	 ebp
  00036	c3		 ret	 0
?Raise@CIrql@DirectSound@@QAEXXZ ENDP			; DirectSound::CIrql::Raise
; Function compile flags: /Odt
; File c:\xbox\private\ntos\inc\i386.h
DSOUND	ENDS
;	COMDAT _KeGetCurrentIrql@0
DSOUND	SEGMENT
_KeGetCurrentIrql@0 PROC NEAR				; COMDAT

; 1496 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 1497 : #if defined(_NTSYSTEM_)
; 1498 :     return KeGetPcr()->Irql;
; 1499 : #else
; 1500 :     __asm {  movzx eax, byte ptr fs:[0] KPCR.Irql }

  00003	64 0f b6 05 24
	00 00 00	 movzx	 eax, BYTE PTR fs:36

; 1501 : #endif
; 1502 : }    

  0000b	5d		 pop	 ebp
  0000c	c3		 ret	 0
_KeGetCurrentIrql@0 ENDP
DSOUND	ENDS
PUBLIC	?Lower@CIrql@DirectSound@@QAEXXZ		; DirectSound::CIrql::Lower
; Function compile flags: /Odt
; File c:\xbox\private\windows\directx\dsound\common\drvhlp.h
;	COMDAT ??1CAutoIrql@DirectSound@@QAE@XZ
DSOUND	SEGMENT
_this$ = -4
??1CAutoIrql@DirectSound@@QAE@XZ PROC NEAR		; DirectSound::CAutoIrql::~CAutoIrql, COMDAT
; _this$ = ecx

; 82   :     {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 83   :         Lower();

  00007	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0000a	e8 00 00 00 00	 call	 ?Lower@CIrql@DirectSound@@QAEXXZ ; DirectSound::CIrql::Lower

; 84   :     }

  0000f	8b e5		 mov	 esp, ebp
  00011	5d		 pop	 ebp
  00012	c3		 ret	 0
??1CAutoIrql@DirectSound@@QAE@XZ ENDP			; DirectSound::CAutoIrql::~CAutoIrql
DSOUND	ENDS
EXTRN	__imp_@KfLowerIrql@4:NEAR
; Function compile flags: /Odt
;	COMDAT ?Lower@CIrql@DirectSound@@QAEXXZ
DSOUND	SEGMENT
_this$ = -4
?Lower@CIrql@DirectSound@@QAEXXZ PROC NEAR		; DirectSound::CIrql::Lower, COMDAT
; _this$ = ecx

; 53   :     {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 54   :         if(m_fRaised)

  00007	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000a	83 78 04 00	 cmp	 DWORD PTR [eax+4], 0
  0000e	74 15		 je	 SHORT $L30269

; 55   :         {
; 56   :             KfLowerIrql(m_irql);

  00010	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00013	8a 09		 mov	 cl, BYTE PTR [ecx]
  00015	ff 15 00 00 00
	00		 call	 DWORD PTR __imp_@KfLowerIrql@4

; 57   :             m_fRaised = FALSE;

  0001b	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  0001e	c7 42 04 00 00
	00 00		 mov	 DWORD PTR [edx+4], 0
$L30269:

; 58   :         }
; 59   :     }

  00025	8b e5		 mov	 esp, ebp
  00027	5d		 pop	 ebp
  00028	c3		 ret	 0
?Lower@CIrql@DirectSound@@QAEXXZ ENDP			; DirectSound::CIrql::Lower
; Function compile flags: /Odt
; File c:\xbox\private\windows\directx\dsound\dsound\mcpxcore.cpp
DSOUND	ENDS
;	COMDAT ?SetPrivLockState@CMcpxCore@DirectSound@@IAEXH@Z
DSOUND	SEGMENT
_this$ = -16
___AutoIrql$ = -12
_dwPrivLock$ = -4
_fLocked$ = 8
?SetPrivLockState@CMcpxCore@DirectSound@@IAEXH@Z PROC NEAR ; DirectSound::CMcpxCore::SetPrivLockState, COMDAT
; _this$ = ecx

; 1229 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 10	 sub	 esp, 16			; 00000010H
  00006	89 4d f0	 mov	 DWORD PTR _this$[ebp], ecx

; 1230 :     DWORD                   dwPrivLock;
; 1231 : 
; 1232 :     DPF_ENTER();
; 1233 :     AutoIrql();

  00009	8d 4d f4	 lea	 ecx, DWORD PTR ___AutoIrql$[ebp]
  0000c	e8 00 00 00 00	 call	 ??0CAutoIrql@DirectSound@@QAE@XZ ; DirectSound::CAutoIrql::CAutoIrql

; 1234 : 
; 1235 :     MCPX_REG_READ(NV_PAPU_FEPRIVLOCK, &dwPrivLock);

  00011	a1 10 15 80 fe	 mov	 eax, DWORD PTR ds:-25160432
  00016	89 45 fc	 mov	 DWORD PTR _dwPrivLock$[ebp], eax

; 1236 : 
; 1237 :     dwPrivLock = MCPX_SET_REG_VALUE(dwPrivLock, fLocked ? NV_PAPU_FEPRIVLOCK_VALUE_LOCKED : NV_PAPU_FEPRIVLOCK_VALUE_UNLOCKED, NV_PAPU_FEPRIVLOCK_VALUE);

  00019	8b 4d fc	 mov	 ecx, DWORD PTR _dwPrivLock$[ebp]
  0001c	83 e1 fe	 and	 ecx, -2			; fffffffeH
  0001f	33 d2		 xor	 edx, edx
  00021	83 7d 08 00	 cmp	 DWORD PTR _fLocked$[ebp], 0
  00025	0f 95 c2	 setne	 dl
  00028	83 e2 01	 and	 edx, 1
  0002b	0b ca		 or	 ecx, edx
  0002d	89 4d fc	 mov	 DWORD PTR _dwPrivLock$[ebp], ecx

; 1238 : 
; 1239 :     MCPX_REG_WRITE(NV_PAPU_FEPRIVLOCK, dwPrivLock);

  00030	8b 45 fc	 mov	 eax, DWORD PTR _dwPrivLock$[ebp]
  00033	a3 10 15 80 fe	 mov	 DWORD PTR ds:-25160432, eax

; 1240 : 
; 1241 :     // DPF_BLAB("Priv lock %s", fLocked ? "locked" : "unlocked");
; 1242 : 
; 1243 :     DPF_LEAVE_VOID();
; 1244 : }

  00038	8d 4d f4	 lea	 ecx, DWORD PTR ___AutoIrql$[ebp]
  0003b	e8 00 00 00 00	 call	 ??1CAutoIrql@DirectSound@@QAE@XZ ; DirectSound::CAutoIrql::~CAutoIrql
  00040	8b e5		 mov	 esp, ebp
  00042	5d		 pop	 ebp
  00043	c2 04 00	 ret	 4
?SetPrivLockState@CMcpxCore@DirectSound@@IAEXH@Z ENDP	; DirectSound::CMcpxCore::SetPrivLockState
DSOUND	ENDS
PUBLIC	??_C@_0BB@OCPBFOOA@Invalid?5FE?5state?$AA@	; `string'
;	COMDAT ??_C@_0BB@OCPBFOOA@Invalid?5FE?5state?$AA@
DSOUND_RD	SEGMENT
??_C@_0BB@OCPBFOOA@Invalid?5FE?5state?$AA@ DB 'Invalid FE state', 00H ; `string'
; Function compile flags: /Odt
DSOUND_RD	ENDS
;	COMDAT ?SetFrontEndState@CMcpxCore@DirectSound@@IAEXW4MCPX_FE_STATE@@@Z
DSOUND	SEGMENT
tv68 = -20
_this$ = -16
___AutoIrql$ = -12
_rFeControl$ = -4
_nState$ = 8
?SetFrontEndState@CMcpxCore@DirectSound@@IAEXW4MCPX_FE_STATE@@@Z PROC NEAR ; DirectSound::CMcpxCore::SetFrontEndState, COMDAT
; _this$ = ecx

; 1270 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 14	 sub	 esp, 20			; 00000014H
  00006	89 4d f0	 mov	 DWORD PTR _this$[ebp], ecx

; 1271 :     R_FE_CONTROL            rFeControl;
; 1272 : 
; 1273 :     DPF_ENTER();
; 1274 :     AutoIrql();

  00009	8d 4d f4	 lea	 ecx, DWORD PTR ___AutoIrql$[ebp]
  0000c	e8 00 00 00 00	 call	 ??0CAutoIrql@DirectSound@@QAE@XZ ; DirectSound::CAutoIrql::CAutoIrql

; 1275 : 
; 1276 :     MCPX_REG_READ(NV_PAPU_FECTL, &rFeControl.uValue);

  00011	a1 00 11 80 fe	 mov	 eax, DWORD PTR ds:-25161472
  00016	89 45 fc	 mov	 DWORD PTR _rFeControl$[ebp], eax

; 1277 : 
; 1278 :     switch(nState) 
; 1279 :     {

  00019	8b 4d 08	 mov	 ecx, DWORD PTR _nState$[ebp]
  0001c	89 4d ec	 mov	 DWORD PTR tv68[ebp], ecx
  0001f	83 7d ec 03	 cmp	 DWORD PTR tv68[ebp], 3
  00023	77 7b		 ja	 SHORT $L35985
  00025	8b 55 ec	 mov	 edx, DWORD PTR tv68[ebp]
  00028	ff 24 95 00 00
	00 00		 jmp	 DWORD PTR $L36564[edx*4]
$L35981:

; 1280 :         case MCPX_FE_STATE_HALTED:
; 1281 :             // DPF_BLAB("FE state set to HALTED");
; 1282 :             
; 1283 :             rFeControl.Mode = NV_PAPU_FECTL_FEMETHMODE_HALTED;

  0002f	8b 45 fc	 mov	 eax, DWORD PTR _rFeControl$[ebp]
  00032	25 1f ff ff ff	 and	 eax, -225		; ffffff1fH
  00037	0d 80 00 00 00	 or	 eax, 128		; 00000080H
  0003c	89 45 fc	 mov	 DWORD PTR _rFeControl$[ebp], eax

; 1284 : 
; 1285 :             break;

  0003f	eb 78		 jmp	 SHORT $L35978
$L35982:

; 1286 : 
; 1287 :         case MCPX_FE_STATE_FREE_RUNNING:
; 1288 :             // DPF_BLAB("FE state set to FREE_RUNNING");
; 1289 :             
; 1290 :             rFeControl.Mode = NV_PAPU_FECTL_FEMETHMODE_FREE_RUNNING;

  00041	8b 4d fc	 mov	 ecx, DWORD PTR _rFeControl$[ebp]
  00044	81 e1 1f ff ff
	ff		 and	 ecx, -225		; ffffff1fH
  0004a	89 4d fc	 mov	 DWORD PTR _rFeControl$[ebp], ecx

; 1291 : 
; 1292 :             break;

  0004d	eb 6a		 jmp	 SHORT $L35978
$L35983:

; 1293 : 
; 1294 :         case MCPX_FE_STATE_ISO:
; 1295 :             // DPF_BLAB("FE state set to ISO");
; 1296 :             
; 1297 :             rFeControl.WriteISO = NV_PAPU_FECTL_FEMWTYP_ISO;

  0004f	8b 55 fc	 mov	 edx, DWORD PTR _rFeControl$[ebp]
  00052	83 ca 04	 or	 edx, 4
  00055	89 55 fc	 mov	 DWORD PTR _rFeControl$[ebp], edx

; 1298 :             rFeControl.ReadISO = NV_PAPU_FECTL_FEMRTYP_ISO;

  00058	8b 45 fc	 mov	 eax, DWORD PTR _rFeControl$[ebp]
  0005b	83 c8 02	 or	 eax, 2
  0005e	89 45 fc	 mov	 DWORD PTR _rFeControl$[ebp], eax

; 1299 :             rFeControl.NotifyISO = NV_PAPU_FECTL_FENTYP_ISO;

  00061	8b 4d fc	 mov	 ecx, DWORD PTR _rFeControl$[ebp]
  00064	83 c9 01	 or	 ecx, 1
  00067	89 4d fc	 mov	 DWORD PTR _rFeControl$[ebp], ecx

; 1300 :             rFeControl.PIOClass = NV_PAPU_FECTL_FEPIOCLASS_ISO;

  0006a	8b 55 fc	 mov	 edx, DWORD PTR _rFeControl$[ebp]
  0006d	81 ca 00 10 00
	00		 or	 edx, 4096		; 00001000H
  00073	89 55 fc	 mov	 DWORD PTR _rFeControl$[ebp], edx

; 1301 : 
; 1302 :             break;

  00076	eb 41		 jmp	 SHORT $L35978
$L35984:

; 1303 : 
; 1304 :         case MCPX_FE_STATE_NON_ISO:
; 1305 :             // DPF_BLAB("FE state set to NON_ISO");
; 1306 :             
; 1307 :             rFeControl.WriteISO = NV_PAPU_FECTL_FEMWTYP_NON_ISO;

  00078	8b 45 fc	 mov	 eax, DWORD PTR _rFeControl$[ebp]
  0007b	83 e0 fb	 and	 eax, -5			; fffffffbH
  0007e	89 45 fc	 mov	 DWORD PTR _rFeControl$[ebp], eax

; 1308 :             rFeControl.ReadISO = NV_PAPU_FECTL_FEMRTYP_NON_ISO;

  00081	8b 4d fc	 mov	 ecx, DWORD PTR _rFeControl$[ebp]
  00084	83 e1 fd	 and	 ecx, -3			; fffffffdH
  00087	89 4d fc	 mov	 DWORD PTR _rFeControl$[ebp], ecx

; 1309 :             rFeControl.NotifyISO = NV_PAPU_FECTL_FENTYP_NON_ISO;

  0008a	8b 55 fc	 mov	 edx, DWORD PTR _rFeControl$[ebp]
  0008d	83 e2 fe	 and	 edx, -2			; fffffffeH
  00090	89 55 fc	 mov	 DWORD PTR _rFeControl$[ebp], edx

; 1310 :             rFeControl.PIOClass = NV_PAPU_FECTL_FEPIOCLASS_NON_ISO;

  00093	8b 45 fc	 mov	 eax, DWORD PTR _rFeControl$[ebp]
  00096	25 ff ef ff ff	 and	 eax, -4097		; ffffefffH
  0009b	89 45 fc	 mov	 DWORD PTR _rFeControl$[ebp], eax

; 1311 : 
; 1312 :             break;

  0009e	eb 19		 jmp	 SHORT $L35978
$L35985:

; 1313 : 
; 1314 :         default:
; 1315 :             ASSERTMSG("Invalid FE state");

  000a0	68 23 05 00 00	 push	 1315			; 00000523H
  000a5	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0DL@GNOKBCIE@c?3?2xbox?2private?2windows?2directx?2@
  000aa	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BB@OCPBFOOA@Invalid?5FE?5state?$AA@
  000af	6a 01		 push	 1
  000b1	e8 00 00 00 00	 call	 ?Assert@CDebug@DirectSound@@SAXHPBD0I@Z ; DirectSound::CDebug::Assert
  000b6	83 c4 10	 add	 esp, 16			; 00000010H
$L35978:

; 1316 : 
; 1317 :             break;
; 1318 :     }
; 1319 : 
; 1320 :     MCPX_REG_WRITE(NV_PAPU_FECTL, rFeControl.uValue);

  000b9	8b 4d fc	 mov	 ecx, DWORD PTR _rFeControl$[ebp]
  000bc	89 0d 00 11 80
	fe		 mov	 DWORD PTR ds:-25161472, ecx

; 1321 : 
; 1322 :     DPF_LEAVE_VOID();
; 1323 : }

  000c2	8d 4d f4	 lea	 ecx, DWORD PTR ___AutoIrql$[ebp]
  000c5	e8 00 00 00 00	 call	 ??1CAutoIrql@DirectSound@@QAE@XZ ; DirectSound::CAutoIrql::~CAutoIrql
  000ca	8b e5		 mov	 esp, ebp
  000cc	5d		 pop	 ebp
  000cd	c2 04 00	 ret	 4
$L36564:
  000d0	00 00 00 00	 DD	 $L35981
  000d4	00 00 00 00	 DD	 $L35982
  000d8	00 00 00 00	 DD	 $L35983
  000dc	00 00 00 00	 DD	 $L35984
?SetFrontEndState@CMcpxCore@DirectSound@@IAEXW4MCPX_FE_STATE@@@Z ENDP ; DirectSound::CMcpxCore::SetFrontEndState
DSOUND	ENDS
PUBLIC	??_C@_0BB@EKGFJNO@Invalid?5SE?5state?$AA@	; `string'
;	COMDAT ??_C@_0BB@EKGFJNO@Invalid?5SE?5state?$AA@
DSOUND_RD	SEGMENT
??_C@_0BB@EKGFJNO@Invalid?5SE?5state?$AA@ DB 'Invalid SE state', 00H ; `string'
; Function compile flags: /Odt
DSOUND_RD	ENDS
;	COMDAT ?SetSetupEngineState@CMcpxCore@DirectSound@@IAEXW4MCPX_SE_STATE@@@Z
DSOUND	SEGMENT
tv68 = -20
_this$ = -16
___AutoIrql$ = -12
_rSeControl$ = -4
_nState$ = 8
?SetSetupEngineState@CMcpxCore@DirectSound@@IAEXW4MCPX_SE_STATE@@@Z PROC NEAR ; DirectSound::CMcpxCore::SetSetupEngineState, COMDAT
; _this$ = ecx

; 1349 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 14	 sub	 esp, 20			; 00000014H
  00006	89 4d f0	 mov	 DWORD PTR _this$[ebp], ecx

; 1350 :     R_SE_CONTROL            rSeControl;
; 1351 : 
; 1352 :     DPF_ENTER();
; 1353 :     AutoIrql();

  00009	8d 4d f4	 lea	 ecx, DWORD PTR ___AutoIrql$[ebp]
  0000c	e8 00 00 00 00	 call	 ??0CAutoIrql@DirectSound@@QAE@XZ ; DirectSound::CAutoIrql::CAutoIrql

; 1354 : 
; 1355 :     MCPX_REG_READ(NV_PAPU_SECTL, &rSeControl.uValue);

  00011	a1 00 20 80 fe	 mov	 eax, DWORD PTR ds:-25157632
  00016	89 45 fc	 mov	 DWORD PTR _rSeControl$[ebp], eax

; 1356 : 
; 1357 :     switch(nState)
; 1358 :     {

  00019	8b 4d 08	 mov	 ecx, DWORD PTR _nState$[ebp]
  0001c	89 4d ec	 mov	 DWORD PTR tv68[ebp], ecx
  0001f	83 7d ec 05	 cmp	 DWORD PTR tv68[ebp], 5
  00023	77 76		 ja	 SHORT $L36006
  00025	8b 55 ec	 mov	 edx, DWORD PTR tv68[ebp]
  00028	ff 24 95 00 00
	00 00		 jmp	 DWORD PTR $L36568[edx*4]
$L36000:

; 1359 :         case MCPX_SE_STATE_OFF:
; 1360 :             // DPF_BLAB("SE state set to OFF");
; 1361 :             
; 1362 :             rSeControl.GSCUpdate = NV_PAPU_SECTL_XCNTMODE_OFF;

  0002f	8b 45 fc	 mov	 eax, DWORD PTR _rSeControl$[ebp]
  00032	83 e0 e7	 and	 eax, -25		; ffffffe7H
  00035	89 45 fc	 mov	 DWORD PTR _rSeControl$[ebp], eax

; 1363 : 
; 1364 :             break;

  00038	eb 7a		 jmp	 SHORT $L35997
$L36001:

; 1365 : 
; 1366 :         case MCPX_SE_STATE_AC_SYNC:
; 1367 :             // DPF_BLAB("SE state set to AC_SYNC");
; 1368 :             
; 1369 :             rSeControl.GSCUpdate = NV_PAPU_SECTL_XCNTMODE_AC_SYNC;

  0003a	8b 4d fc	 mov	 ecx, DWORD PTR _rSeControl$[ebp]
  0003d	83 e1 e7	 and	 ecx, -25		; ffffffe7H
  00040	83 c9 08	 or	 ecx, 8
  00043	89 4d fc	 mov	 DWORD PTR _rSeControl$[ebp], ecx

; 1370 : 
; 1371 :             break;

  00046	eb 6c		 jmp	 SHORT $L35997
$L36002:

; 1372 : 
; 1373 :         case MCPX_SE_STATE_SW:
; 1374 :             // DPF_BLAB("SE state set to SW");
; 1375 :             
; 1376 :             rSeControl.GSCUpdate = NV_PAPU_SECTL_XCNTMODE_SW;

  00048	8b 55 fc	 mov	 edx, DWORD PTR _rSeControl$[ebp]
  0004b	83 e2 e7	 and	 edx, -25		; ffffffe7H
  0004e	83 ca 10	 or	 edx, 16			; 00000010H
  00051	89 55 fc	 mov	 DWORD PTR _rSeControl$[ebp], edx

; 1377 : 
; 1378 :             break;

  00054	eb 5e		 jmp	 SHORT $L35997
$L36003:

; 1379 : 
; 1380 :         case MCPX_SE_STATE_FREE_RUNNING:
; 1381 :             // DPF_BLAB("SE state set to FREE_RUNNING");
; 1382 :             
; 1383 :             rSeControl.GSCUpdate = NV_PAPU_SECTL_XCNTMODE_FREE_RUNNING;

  00056	8b 45 fc	 mov	 eax, DWORD PTR _rSeControl$[ebp]
  00059	83 c8 18	 or	 eax, 24			; 00000018H
  0005c	89 45 fc	 mov	 DWORD PTR _rSeControl$[ebp], eax

; 1384 : 
; 1385 :             break;

  0005f	eb 53		 jmp	 SHORT $L35997
$L36004:

; 1386 : 
; 1387 :         case MCPX_SE_STATE_ISO:
; 1388 :             // DPF_BLAB("SE state set to ISO");
; 1389 :             
; 1390 :             rSeControl.SampleReadISO = NV_PAPU_SECTL_SESRTYP_ISO;

  00061	8b 4d fc	 mov	 ecx, DWORD PTR _rSeControl$[ebp]
  00064	83 c9 04	 or	 ecx, 4
  00067	89 4d fc	 mov	 DWORD PTR _rSeControl$[ebp], ecx

; 1391 :             rSeControl.WriteISO = NV_PAPU_SECTL_SEPWTYP_ISO;

  0006a	8b 55 fc	 mov	 edx, DWORD PTR _rSeControl$[ebp]
  0006d	83 ca 02	 or	 edx, 2
  00070	89 55 fc	 mov	 DWORD PTR _rSeControl$[ebp], edx

; 1392 :             rSeControl.ReadISO = NV_PAPU_SECTL_SEPRTYP_ISO;

  00073	8b 45 fc	 mov	 eax, DWORD PTR _rSeControl$[ebp]
  00076	83 c8 01	 or	 eax, 1
  00079	89 45 fc	 mov	 DWORD PTR _rSeControl$[ebp], eax

; 1393 : 
; 1394 :             break;

  0007c	eb 36		 jmp	 SHORT $L35997
$L36005:

; 1395 : 
; 1396 :         case MCPX_SE_STATE_NON_ISO:
; 1397 :             // DPF_BLAB("SE state set to NON_ISO");
; 1398 :             
; 1399 :             rSeControl.SampleReadISO = NV_PAPU_SECTL_SESRTYP_NON_ISO;

  0007e	8b 4d fc	 mov	 ecx, DWORD PTR _rSeControl$[ebp]
  00081	83 e1 fb	 and	 ecx, -5			; fffffffbH
  00084	89 4d fc	 mov	 DWORD PTR _rSeControl$[ebp], ecx

; 1400 :             rSeControl.WriteISO = NV_PAPU_SECTL_SEPWTYP_NON_ISO;

  00087	8b 55 fc	 mov	 edx, DWORD PTR _rSeControl$[ebp]
  0008a	83 e2 fd	 and	 edx, -3			; fffffffdH
  0008d	89 55 fc	 mov	 DWORD PTR _rSeControl$[ebp], edx

; 1401 :             rSeControl.ReadISO = NV_PAPU_SECTL_SEPRTYP_NON_ISO;

  00090	8b 45 fc	 mov	 eax, DWORD PTR _rSeControl$[ebp]
  00093	83 e0 fe	 and	 eax, -2			; fffffffeH
  00096	89 45 fc	 mov	 DWORD PTR _rSeControl$[ebp], eax

; 1402 : 
; 1403 :             break;

  00099	eb 19		 jmp	 SHORT $L35997
$L36006:

; 1404 : 
; 1405 :         default:
; 1406 :             ASSERTMSG("Invalid SE state");

  0009b	68 7e 05 00 00	 push	 1406			; 0000057eH
  000a0	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0DL@GNOKBCIE@c?3?2xbox?2private?2windows?2directx?2@
  000a5	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BB@EKGFJNO@Invalid?5SE?5state?$AA@
  000aa	6a 01		 push	 1
  000ac	e8 00 00 00 00	 call	 ?Assert@CDebug@DirectSound@@SAXHPBD0I@Z ; DirectSound::CDebug::Assert
  000b1	83 c4 10	 add	 esp, 16			; 00000010H
$L35997:

; 1407 : 
; 1408 :             break;
; 1409 :     }
; 1410 : 
; 1411 :     MCPX_REG_WRITE(NV_PAPU_SECTL, rSeControl.uValue);

  000b4	8b 4d fc	 mov	 ecx, DWORD PTR _rSeControl$[ebp]
  000b7	89 0d 00 20 80
	fe		 mov	 DWORD PTR ds:-25157632, ecx

; 1412 : 
; 1413 :     DPF_LEAVE_VOID();
; 1414 : }

  000bd	8d 4d f4	 lea	 ecx, DWORD PTR ___AutoIrql$[ebp]
  000c0	e8 00 00 00 00	 call	 ??1CAutoIrql@DirectSound@@QAE@XZ ; DirectSound::CAutoIrql::~CAutoIrql
  000c5	8b e5		 mov	 esp, ebp
  000c7	5d		 pop	 ebp
  000c8	c2 04 00	 ret	 4
$L36568:
  000cb	00 00 00 00	 DD	 $L36000
  000cf	00 00 00 00	 DD	 $L36001
  000d3	00 00 00 00	 DD	 $L36002
  000d7	00 00 00 00	 DD	 $L36003
  000db	00 00 00 00	 DD	 $L36004
  000df	00 00 00 00	 DD	 $L36005
?SetSetupEngineState@CMcpxCore@DirectSound@@IAEXW4MCPX_SE_STATE@@@Z ENDP ; DirectSound::CMcpxCore::SetSetupEngineState
DSOUND	ENDS
PUBLIC	??_C@_0CH@LIAEJNAM@?$CB?$CIdwPhysicalAddress?5?$CG?5?$CIPAGE_SIZE@ ; `string'
PUBLIC	?GetPhysicalMemoryProperties@CMcpxCore@DirectSound@@SGKPAXKPAK1@Z ; DirectSound::CMcpxCore::GetPhysicalMemoryProperties
EXTRN	__imp__MmGetPhysicalAddress@4:NEAR
;	COMDAT ??_C@_0CH@LIAEJNAM@?$CB?$CIdwPhysicalAddress?5?$CG?5?$CIPAGE_SIZE@
DSOUND_RD	SEGMENT
??_C@_0CH@LIAEJNAM@?$CB?$CIdwPhysicalAddress?5?$CG?5?$CIPAGE_SIZE@ DB '!('
	DB	'dwPhysicalAddress & (PAGE_SIZE - 1))', 00H	; `string'
; Function compile flags: /Odt
DSOUND_RD	ENDS
;	COMDAT ?GetPhysicalMemoryProperties@CMcpxCore@DirectSound@@SGKPAXKPAK1@Z
DSOUND	SEGMENT
tv85 = -20
_dwContiguousLength$ = -16
_dwPhysicalAddress$ = -12
_dwBasePhysicalAddress$ = -8
_dwBasePageOffset$ = -4
_pvBuffer$ = 8
_dwBufferSize$ = 12
_pdwPageOffset$ = 16
_pdwContiguousLength$ = 20
?GetPhysicalMemoryProperties@CMcpxCore@DirectSound@@SGKPAXKPAK1@Z PROC NEAR ; DirectSound::CMcpxCore::GetPhysicalMemoryProperties, COMDAT

; 1448 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 14	 sub	 esp, 20			; 00000014H

; 1449 :     DWORD                   dwBasePhysicalAddress;
; 1450 :     DWORD                   dwBasePageOffset;
; 1451 :     DWORD                   dwContiguousLength;
; 1452 :     DWORD                   dwPhysicalAddress;
; 1453 : 
; 1454 :     DPF_ENTER();
; 1455 : 
; 1456 :     //
; 1457 :     // Get the base physical address
; 1458 :     //
; 1459 : 
; 1460 :     dwBasePhysicalAddress = MmGetPhysicalAddress(pvBuffer);

  00006	8b 45 08	 mov	 eax, DWORD PTR _pvBuffer$[ebp]
  00009	50		 push	 eax
  0000a	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__MmGetPhysicalAddress@4
  00010	89 45 f8	 mov	 DWORD PTR _dwBasePhysicalAddress$[ebp], eax

; 1461 : 
; 1462 :     //
; 1463 :     // Get the base page offset
; 1464 :     //
; 1465 : 
; 1466 :     dwBasePageOffset = BYTE_OFFSET(pvBuffer);

  00013	8b 4d 08	 mov	 ecx, DWORD PTR _pvBuffer$[ebp]
  00016	81 e1 ff 0f 00
	00		 and	 ecx, 4095		; 00000fffH
  0001c	89 4d fc	 mov	 DWORD PTR _dwBasePageOffset$[ebp], ecx

; 1467 : 
; 1468 :     if(pdwPageOffset)

  0001f	83 7d 10 00	 cmp	 DWORD PTR _pdwPageOffset$[ebp], 0
  00023	74 08		 je	 SHORT $L36022

; 1469 :     {
; 1470 :         *pdwPageOffset = dwBasePageOffset;

  00025	8b 55 10	 mov	 edx, DWORD PTR _pdwPageOffset$[ebp]
  00028	8b 45 fc	 mov	 eax, DWORD PTR _dwBasePageOffset$[ebp]
  0002b	89 02		 mov	 DWORD PTR [edx], eax
$L36022:

; 1471 :     }
; 1472 : 
; 1473 :     //
; 1474 :     // Find the count of contiguous bytes in the remaining pages
; 1475 :     //
; 1476 : 
; 1477 :     if(pdwContiguousLength)

  0002d	83 7d 14 00	 cmp	 DWORD PTR _pdwContiguousLength$[ebp], 0
  00031	0f 84 82 00 00
	00		 je	 $L36023

; 1478 :     {
; 1479 :         dwContiguousLength = PAGE_SIZE - dwBasePageOffset; 

  00037	b9 00 10 00 00	 mov	 ecx, 4096		; 00001000H
  0003c	2b 4d fc	 sub	 ecx, DWORD PTR _dwBasePageOffset$[ebp]
  0003f	89 4d f0	 mov	 DWORD PTR _dwContiguousLength$[ebp], ecx
$L36025:

; 1480 : 
; 1481 :         while(dwContiguousLength < dwBufferSize)

  00042	8b 55 f0	 mov	 edx, DWORD PTR _dwContiguousLength$[ebp]
  00045	3b 55 0c	 cmp	 edx, DWORD PTR _dwBufferSize$[ebp]
  00048	73 51		 jae	 SHORT $L36026

; 1482 :         {
; 1483 :             dwPhysicalAddress = MmGetPhysicalAddress((LPBYTE)pvBuffer + dwContiguousLength);

  0004a	8b 45 08	 mov	 eax, DWORD PTR _pvBuffer$[ebp]
  0004d	03 45 f0	 add	 eax, DWORD PTR _dwContiguousLength$[ebp]
  00050	50		 push	 eax
  00051	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__MmGetPhysicalAddress@4
  00057	89 45 f4	 mov	 DWORD PTR _dwPhysicalAddress$[ebp], eax

; 1484 :             ASSERT(!(dwPhysicalAddress & (PAGE_SIZE - 1)));

  0005a	68 cc 05 00 00	 push	 1484			; 000005ccH
  0005f	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0DL@GNOKBCIE@c?3?2xbox?2private?2windows?2directx?2@
  00064	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0CH@LIAEJNAM@?$CB?$CIdwPhysicalAddress?5?$CG?5?$CIPAGE_SIZE@
  00069	8b 4d f4	 mov	 ecx, DWORD PTR _dwPhysicalAddress$[ebp]
  0006c	81 e1 ff 0f 00
	00		 and	 ecx, 4095		; 00000fffH
  00072	f7 d9		 neg	 ecx
  00074	1b c9		 sbb	 ecx, ecx
  00076	f7 d9		 neg	 ecx
  00078	51		 push	 ecx
  00079	e8 00 00 00 00	 call	 ?Assert@CDebug@DirectSound@@SAXHPBD0I@Z ; DirectSound::CDebug::Assert
  0007e	83 c4 10	 add	 esp, 16			; 00000010H

; 1485 : 
; 1486 :             if(dwBasePhysicalAddress + dwContiguousLength != dwPhysicalAddress)

  00081	8b 55 f8	 mov	 edx, DWORD PTR _dwBasePhysicalAddress$[ebp]
  00084	03 55 f0	 add	 edx, DWORD PTR _dwContiguousLength$[ebp]
  00087	3b 55 f4	 cmp	 edx, DWORD PTR _dwPhysicalAddress$[ebp]
  0008a	74 02		 je	 SHORT $L36029

; 1487 :             {
; 1488 :                 break;

  0008c	eb 0d		 jmp	 SHORT $L36026
$L36029:

; 1489 :             }
; 1490 : 
; 1491 :             dwContiguousLength += PAGE_SIZE;

  0008e	8b 45 f0	 mov	 eax, DWORD PTR _dwContiguousLength$[ebp]
  00091	05 00 10 00 00	 add	 eax, 4096		; 00001000H
  00096	89 45 f0	 mov	 DWORD PTR _dwContiguousLength$[ebp], eax

; 1492 :         }

  00099	eb a7		 jmp	 SHORT $L36025
$L36026:

; 1493 : 
; 1494 :         *pdwContiguousLength = min(dwContiguousLength, dwBufferSize);

  0009b	8b 4d f0	 mov	 ecx, DWORD PTR _dwContiguousLength$[ebp]
  0009e	3b 4d 0c	 cmp	 ecx, DWORD PTR _dwBufferSize$[ebp]
  000a1	73 08		 jae	 SHORT $L36572
  000a3	8b 55 f0	 mov	 edx, DWORD PTR _dwContiguousLength$[ebp]
  000a6	89 55 ec	 mov	 DWORD PTR tv85[ebp], edx
  000a9	eb 06		 jmp	 SHORT $L36573
$L36572:
  000ab	8b 45 0c	 mov	 eax, DWORD PTR _dwBufferSize$[ebp]
  000ae	89 45 ec	 mov	 DWORD PTR tv85[ebp], eax
$L36573:
  000b1	8b 4d 14	 mov	 ecx, DWORD PTR _pdwContiguousLength$[ebp]
  000b4	8b 55 ec	 mov	 edx, DWORD PTR tv85[ebp]
  000b7	89 11		 mov	 DWORD PTR [ecx], edx
$L36023:

; 1495 :     }
; 1496 : 
; 1497 :     DPF_LEAVE(dwBasePhysicalAddress);
; 1498 : 
; 1499 :     return dwBasePhysicalAddress;

  000b9	8b 45 f8	 mov	 eax, DWORD PTR _dwBasePhysicalAddress$[ebp]

; 1500 : }

  000bc	8b e5		 mov	 esp, ebp
  000be	5d		 pop	 ebp
  000bf	c2 10 00	 ret	 16			; 00000010H
?GetPhysicalMemoryProperties@CMcpxCore@DirectSound@@SGKPAXKPAK1@Z ENDP ; DirectSound::CMcpxCore::GetPhysicalMemoryProperties
DSOUND	ENDS
PUBLIC	?MapTransfer@CMcpxCore@DirectSound@@SGKPAPAXPAK1@Z ; DirectSound::CMcpxCore::MapTransfer
; Function compile flags: /Odt
;	COMDAT ?MapTransfer@CMcpxCore@DirectSound@@SGKPAPAXPAK1@Z
DSOUND	SEGMENT
tv72 = -16
_dwPhysicalAddress$ = -12
_dwBytesMapped$ = -8
_dwPageOffset$ = -4
_ppvBuffer$ = 8
_pdwBufferSize$ = 12
_pdwBytesMapped$ = 16
?MapTransfer@CMcpxCore@DirectSound@@SGKPAPAXPAK1@Z PROC NEAR ; DirectSound::CMcpxCore::MapTransfer, COMDAT

; 1530 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 10	 sub	 esp, 16			; 00000010H

; 1531 :     DWORD                   dwPhysicalAddress;
; 1532 :     DWORD                   dwPageOffset;
; 1533 :     DWORD                   dwBytesMapped;
; 1534 : 
; 1535 :     DPF_ENTER();
; 1536 : 
; 1537 :     dwPhysicalAddress = GetPhysicalMemoryProperties(*ppvBuffer, *pdwBufferSize, &dwPageOffset, NULL);

  00006	6a 00		 push	 0
  00008	8d 45 fc	 lea	 eax, DWORD PTR _dwPageOffset$[ebp]
  0000b	50		 push	 eax
  0000c	8b 4d 0c	 mov	 ecx, DWORD PTR _pdwBufferSize$[ebp]
  0000f	8b 11		 mov	 edx, DWORD PTR [ecx]
  00011	52		 push	 edx
  00012	8b 45 08	 mov	 eax, DWORD PTR _ppvBuffer$[ebp]
  00015	8b 08		 mov	 ecx, DWORD PTR [eax]
  00017	51		 push	 ecx
  00018	e8 00 00 00 00	 call	 ?GetPhysicalMemoryProperties@CMcpxCore@DirectSound@@SGKPAXKPAK1@Z ; DirectSound::CMcpxCore::GetPhysicalMemoryProperties
  0001d	89 45 f4	 mov	 DWORD PTR _dwPhysicalAddress$[ebp], eax

; 1538 : 
; 1539 :     dwBytesMapped = min(PAGE_SIZE - dwPageOffset, *pdwBufferSize);

  00020	ba 00 10 00 00	 mov	 edx, 4096		; 00001000H
  00025	2b 55 fc	 sub	 edx, DWORD PTR _dwPageOffset$[ebp]
  00028	8b 45 0c	 mov	 eax, DWORD PTR _pdwBufferSize$[ebp]
  0002b	3b 10		 cmp	 edx, DWORD PTR [eax]
  0002d	73 0d		 jae	 SHORT $L36577
  0002f	b9 00 10 00 00	 mov	 ecx, 4096		; 00001000H
  00034	2b 4d fc	 sub	 ecx, DWORD PTR _dwPageOffset$[ebp]
  00037	89 4d f0	 mov	 DWORD PTR tv72[ebp], ecx
  0003a	eb 08		 jmp	 SHORT $L36578
$L36577:
  0003c	8b 55 0c	 mov	 edx, DWORD PTR _pdwBufferSize$[ebp]
  0003f	8b 02		 mov	 eax, DWORD PTR [edx]
  00041	89 45 f0	 mov	 DWORD PTR tv72[ebp], eax
$L36578:
  00044	8b 4d f0	 mov	 ecx, DWORD PTR tv72[ebp]
  00047	89 4d f8	 mov	 DWORD PTR _dwBytesMapped$[ebp], ecx

; 1540 : 
; 1541 :     *ppvBuffer = (LPBYTE)*ppvBuffer + dwBytesMapped;

  0004a	8b 55 08	 mov	 edx, DWORD PTR _ppvBuffer$[ebp]
  0004d	8b 02		 mov	 eax, DWORD PTR [edx]
  0004f	03 45 f8	 add	 eax, DWORD PTR _dwBytesMapped$[ebp]
  00052	8b 4d 08	 mov	 ecx, DWORD PTR _ppvBuffer$[ebp]
  00055	89 01		 mov	 DWORD PTR [ecx], eax

; 1542 :     *pdwBufferSize -= dwBytesMapped;

  00057	8b 55 0c	 mov	 edx, DWORD PTR _pdwBufferSize$[ebp]
  0005a	8b 02		 mov	 eax, DWORD PTR [edx]
  0005c	2b 45 f8	 sub	 eax, DWORD PTR _dwBytesMapped$[ebp]
  0005f	8b 4d 0c	 mov	 ecx, DWORD PTR _pdwBufferSize$[ebp]
  00062	89 01		 mov	 DWORD PTR [ecx], eax

; 1543 : 
; 1544 :     if(pdwBytesMapped)

  00064	83 7d 10 00	 cmp	 DWORD PTR _pdwBytesMapped$[ebp], 0
  00068	74 08		 je	 SHORT $L36039

; 1545 :     {
; 1546 :         *pdwBytesMapped = dwBytesMapped;

  0006a	8b 55 10	 mov	 edx, DWORD PTR _pdwBytesMapped$[ebp]
  0006d	8b 45 f8	 mov	 eax, DWORD PTR _dwBytesMapped$[ebp]
  00070	89 02		 mov	 DWORD PTR [edx], eax
$L36039:

; 1547 :     }
; 1548 : 
; 1549 :     DPF_LEAVE(dwPhysicalAddress);
; 1550 : 
; 1551 :     return dwPhysicalAddress;

  00072	8b 45 f4	 mov	 eax, DWORD PTR _dwPhysicalAddress$[ebp]

; 1552 : }

  00075	8b e5		 mov	 esp, ebp
  00077	5d		 pop	 ebp
  00078	c2 0c 00	 ret	 12			; 0000000cH
?MapTransfer@CMcpxCore@DirectSound@@SGKPAPAXPAK1@Z ENDP	; DirectSound::CMcpxCore::MapTransfer
DSOUND	ENDS
PUBLIC	??_C@_0BK@CBDMAJHB@?$CBpContext?9?$DOVirtualAddress?$AA@ ; `string'
PUBLIC	??_C@_0BL@OPIFOBLC@?$CBpContext?9?$DOPhysicalAddress?$AA@ ; `string'
PUBLIC	??_C@_0P@JHHBFHG@pContext?9?$DOSize?$AA@	; `string'
PUBLIC	??_C@_0M@GEEDHOHN@dwAlignment?$AA@		; `string'
PUBLIC	??_C@_04ELFAHOMP@BYTE?$AA@			; `string'
PUBLIC	??_C@_0DB@DPMEBCA@?$CB?$CIpContext?9?$DOPhysicalAddress?5?$CG?5?$CId@ ; `string'
EXTRN	?TrackingPhysicalAlloc@CMemoryManager@DirectSound@@SGPAXPBDK0KKKH@Z:NEAR ; DirectSound::CMemoryManager::TrackingPhysicalAlloc
;	COMDAT ??_C@_0BK@CBDMAJHB@?$CBpContext?9?$DOVirtualAddress?$AA@
DSOUND_RD	SEGMENT
??_C@_0BK@CBDMAJHB@?$CBpContext?9?$DOVirtualAddress?$AA@ DB '!pContext->V'
	DB	'irtualAddress', 00H				; `string'
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BL@OPIFOBLC@?$CBpContext?9?$DOPhysicalAddress?$AA@
DSOUND_RD	SEGMENT
??_C@_0BL@OPIFOBLC@?$CBpContext?9?$DOPhysicalAddress?$AA@ DB '!pContext->'
	DB	'PhysicalAddress', 00H			; `string'
DSOUND_RD	ENDS
;	COMDAT ??_C@_0P@JHHBFHG@pContext?9?$DOSize?$AA@
DSOUND_RD	SEGMENT
??_C@_0P@JHHBFHG@pContext?9?$DOSize?$AA@ DB 'pContext->Size', 00H ; `string'
DSOUND_RD	ENDS
;	COMDAT ??_C@_0M@GEEDHOHN@dwAlignment?$AA@
DSOUND_RD	SEGMENT
??_C@_0M@GEEDHOHN@dwAlignment?$AA@ DB 'dwAlignment', 00H ; `string'
DSOUND_RD	ENDS
;	COMDAT ??_C@_04ELFAHOMP@BYTE?$AA@
DSOUND_RD	SEGMENT
??_C@_04ELFAHOMP@BYTE?$AA@ DB 'BYTE', 00H		; `string'
DSOUND_RD	ENDS
;	COMDAT ??_C@_0DB@DPMEBCA@?$CB?$CIpContext?9?$DOPhysicalAddress?5?$CG?5?$CId@
DSOUND_RD	SEGMENT
??_C@_0DB@DPMEBCA@?$CB?$CIpContext?9?$DOPhysicalAddress?5?$CG?5?$CId@ DB '!'
	DB	'(pContext->PhysicalAddress & (dwAlignment - 1))', 00H ; `string'
; Function compile flags: /Odt
DSOUND_RD	ENDS
;	COMDAT ?AllocateContext@CMcpxCore@DirectSound@@SGJPAUMCPX_ALLOC_CONTEXT@@KK@Z
DSOUND	SEGMENT
_hr$ = -4
_pContext$ = 8
_dwAlignment$ = 12
_dwFlags$ = 16
?AllocateContext@CMcpxCore@DirectSound@@SGJPAUMCPX_ALLOC_CONTEXT@@KK@Z PROC NEAR ; DirectSound::CMcpxCore::AllocateContext, COMDAT

; 1583 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx

; 1584 :     HRESULT                 hr;
; 1585 :     
; 1586 :     DPF_ENTER();
; 1587 : 
; 1588 :     ASSERT(!pContext->VirtualAddress);

  00004	68 34 06 00 00	 push	 1588			; 00000634H
  00009	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0DL@GNOKBCIE@c?3?2xbox?2private?2windows?2directx?2@
  0000e	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BK@CBDMAJHB@?$CBpContext?9?$DOVirtualAddress?$AA@
  00013	8b 45 08	 mov	 eax, DWORD PTR _pContext$[ebp]
  00016	33 c9		 xor	 ecx, ecx
  00018	83 38 00	 cmp	 DWORD PTR [eax], 0
  0001b	0f 95 c1	 setne	 cl
  0001e	51		 push	 ecx
  0001f	e8 00 00 00 00	 call	 ?Assert@CDebug@DirectSound@@SAXHPBD0I@Z ; DirectSound::CDebug::Assert
  00024	83 c4 10	 add	 esp, 16			; 00000010H

; 1589 :     ASSERT(!pContext->PhysicalAddress);

  00027	68 35 06 00 00	 push	 1589			; 00000635H
  0002c	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0DL@GNOKBCIE@c?3?2xbox?2private?2windows?2directx?2@
  00031	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BL@OPIFOBLC@?$CBpContext?9?$DOPhysicalAddress?$AA@
  00036	8b 55 08	 mov	 edx, DWORD PTR _pContext$[ebp]
  00039	33 c0		 xor	 eax, eax
  0003b	83 7a 04 00	 cmp	 DWORD PTR [edx+4], 0
  0003f	0f 95 c0	 setne	 al
  00042	50		 push	 eax
  00043	e8 00 00 00 00	 call	 ?Assert@CDebug@DirectSound@@SAXHPBD0I@Z ; DirectSound::CDebug::Assert
  00048	83 c4 10	 add	 esp, 16			; 00000010H

; 1590 :     ASSERT(pContext->Size);

  0004b	68 36 06 00 00	 push	 1590			; 00000636H
  00050	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0DL@GNOKBCIE@c?3?2xbox?2private?2windows?2directx?2@
  00055	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0P@JHHBFHG@pContext?9?$DOSize?$AA@
  0005a	8b 4d 08	 mov	 ecx, DWORD PTR _pContext$[ebp]
  0005d	33 d2		 xor	 edx, edx
  0005f	83 79 08 00	 cmp	 DWORD PTR [ecx+8], 0
  00063	0f 94 c2	 sete	 dl
  00066	52		 push	 edx
  00067	e8 00 00 00 00	 call	 ?Assert@CDebug@DirectSound@@SAXHPBD0I@Z ; DirectSound::CDebug::Assert
  0006c	83 c4 10	 add	 esp, 16			; 00000010H

; 1591 :     ASSERT(dwAlignment);

  0006f	68 37 06 00 00	 push	 1591			; 00000637H
  00074	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0DL@GNOKBCIE@c?3?2xbox?2private?2windows?2directx?2@
  00079	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0M@GEEDHOHN@dwAlignment?$AA@
  0007e	33 c0		 xor	 eax, eax
  00080	83 7d 0c 00	 cmp	 DWORD PTR _dwAlignment$[ebp], 0
  00084	0f 94 c0	 sete	 al
  00087	50		 push	 eax
  00088	e8 00 00 00 00	 call	 ?Assert@CDebug@DirectSound@@SAXHPBD0I@Z ; DirectSound::CDebug::Assert
  0008d	83 c4 10	 add	 esp, 16			; 00000010H

; 1592 : 
; 1593 :     if(SUCCEEDED(hr = HRFROMP(pContext->VirtualAddress = PHYSALLOC(BYTE, pContext->Size, dwAlignment, dwFlags))))

  00090	6a 01		 push	 1
  00092	8b 4d 10	 mov	 ecx, DWORD PTR _dwFlags$[ebp]
  00095	51		 push	 ecx
  00096	8b 55 0c	 mov	 edx, DWORD PTR _dwAlignment$[ebp]
  00099	52		 push	 edx
  0009a	8b 45 08	 mov	 eax, DWORD PTR _pContext$[ebp]
  0009d	8b 48 08	 mov	 ecx, DWORD PTR [eax+8]
  000a0	51		 push	 ecx
  000a1	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_04ELFAHOMP@BYTE?$AA@
  000a6	68 39 06 00 00	 push	 1593			; 00000639H
  000ab	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0DL@GNOKBCIE@c?3?2xbox?2private?2windows?2directx?2@
  000b0	e8 00 00 00 00	 call	 ?TrackingPhysicalAlloc@CMemoryManager@DirectSound@@SGPAXPBDK0KKKH@Z ; DirectSound::CMemoryManager::TrackingPhysicalAlloc
  000b5	8b 55 08	 mov	 edx, DWORD PTR _pContext$[ebp]
  000b8	89 02		 mov	 DWORD PTR [edx], eax
  000ba	8b 45 08	 mov	 eax, DWORD PTR _pContext$[ebp]
  000bd	33 c9		 xor	 ecx, ecx
  000bf	83 38 00	 cmp	 DWORD PTR [eax], 0
  000c2	0f 95 c1	 setne	 cl
  000c5	49		 dec	 ecx
  000c6	81 e1 0e 00 07
	80		 and	 ecx, -2147024882	; 8007000eH
  000cc	89 4d fc	 mov	 DWORD PTR _hr$[ebp], ecx
  000cf	83 7d fc 00	 cmp	 DWORD PTR _hr$[ebp], 0
  000d3	7c 3e		 jl	 SHORT $L36055

; 1594 :     {
; 1595 :         pContext->PhysicalAddress = MmGetPhysicalAddress(pContext->VirtualAddress);

  000d5	8b 55 08	 mov	 edx, DWORD PTR _pContext$[ebp]
  000d8	8b 02		 mov	 eax, DWORD PTR [edx]
  000da	50		 push	 eax
  000db	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__MmGetPhysicalAddress@4
  000e1	8b 4d 08	 mov	 ecx, DWORD PTR _pContext$[ebp]
  000e4	89 41 04	 mov	 DWORD PTR [ecx+4], eax

; 1596 :         ASSERT(!(pContext->PhysicalAddress & (dwAlignment - 1)));

  000e7	68 3c 06 00 00	 push	 1596			; 0000063cH
  000ec	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0DL@GNOKBCIE@c?3?2xbox?2private?2windows?2directx?2@
  000f1	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0DB@DPMEBCA@?$CB?$CIpContext?9?$DOPhysicalAddress?5?$CG?5?$CId@
  000f6	8b 55 0c	 mov	 edx, DWORD PTR _dwAlignment$[ebp]
  000f9	83 ea 01	 sub	 edx, 1
  000fc	8b 45 08	 mov	 eax, DWORD PTR _pContext$[ebp]
  000ff	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00102	23 ca		 and	 ecx, edx
  00104	f7 d9		 neg	 ecx
  00106	1b c9		 sbb	 ecx, ecx
  00108	f7 d9		 neg	 ecx
  0010a	51		 push	 ecx
  0010b	e8 00 00 00 00	 call	 ?Assert@CDebug@DirectSound@@SAXHPBD0I@Z ; DirectSound::CDebug::Assert
  00110	83 c4 10	 add	 esp, 16			; 00000010H
$L36055:

; 1597 :     }
; 1598 : 
; 1599 :     DPF_LEAVE_HRESULT(hr);
; 1600 : 
; 1601 :     return hr;

  00113	8b 45 fc	 mov	 eax, DWORD PTR _hr$[ebp]

; 1602 : }

  00116	8b e5		 mov	 esp, ebp
  00118	5d		 pop	 ebp
  00119	c2 0c 00	 ret	 12			; 0000000cH
?AllocateContext@CMcpxCore@DirectSound@@SGJPAUMCPX_ALLOC_CONTEXT@@KK@Z ENDP ; DirectSound::CMcpxCore::AllocateContext
DSOUND	ENDS
;	COMDAT ?dwDelta@?1??ResetGlobalCounters@CMcpxCore@DirectSound@@IAEXXZ@4KB
DSOUND_RD	SEGMENT
?dwDelta@?1??ResetGlobalCounters@CMcpxCore@DirectSound@@IAEXXZ@4KB DD 01H DUP (?) ; `DirectSound::CMcpxCore::ResetGlobalCounters'::`2'::dwDelta
DSOUND_RD	ENDS
;	COMDAT ?$S1@?1??ResetGlobalCounters@CMcpxCore@DirectSound@@IAEXXZ@4IA
DSOUND_URW	SEGMENT
?$S1@?1??ResetGlobalCounters@CMcpxCore@DirectSound@@IAEXXZ@4IA DD 01H DUP (?) ; `DirectSound::CMcpxCore::ResetGlobalCounters'::`2'::$S1
; Function compile flags: /Odt
DSOUND_URW	ENDS
;	COMDAT ?ResetGlobalCounters@CMcpxCore@DirectSound@@IAEXXZ
DSOUND	SEGMENT
_this$ = -4
?ResetGlobalCounters@CMcpxCore@DirectSound@@IAEXXZ PROC NEAR ; DirectSound::CMcpxCore::ResetGlobalCounters, COMDAT
; _this$ = ecx

; 1628 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 1629 :     static const DWORD      dwDelta = m_adwEPOutputBufferSizes[MCPX_EPOUTPUT_AC97_ANALOG] / 4;

  00007	a1 00 00 00 00	 mov	 eax, DWORD PTR ?$S1@?1??ResetGlobalCounters@CMcpxCore@DirectSound@@IAEXXZ@4IA
  0000c	83 e0 01	 and	 eax, 1
  0000f	85 c0		 test	 eax, eax
  00011	75 1e		 jne	 SHORT $L36066
  00013	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?$S1@?1??ResetGlobalCounters@CMcpxCore@DirectSound@@IAEXXZ@4IA
  00019	83 c9 01	 or	 ecx, 1
  0001c	89 0d 00 00 00
	00		 mov	 DWORD PTR ?$S1@?1??ResetGlobalCounters@CMcpxCore@DirectSound@@IAEXXZ@4IA, ecx
  00022	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?m_adwEPOutputBufferSizes@CMcpxCore@DirectSound@@2QBKB
  00028	c1 ea 02	 shr	 edx, 2
  0002b	89 15 00 00 00
	00		 mov	 DWORD PTR ?dwDelta@?1??ResetGlobalCounters@CMcpxCore@DirectSound@@IAEXXZ@4KB, edx
$L36066:

; 1630 : 
; 1631 :     DPF_ENTER();
; 1632 : 
; 1633 :     MCPX_REG_WRITE(NV_PAPU_IGSCNT, dwDelta); 

  00031	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwDelta@?1??ResetGlobalCounters@CMcpxCore@DirectSound@@IAEXXZ@4KB
  00036	a3 08 20 80 fe	 mov	 DWORD PTR ds:-25157624, eax

; 1634 :     MCPX_REG_WRITE(NV_PAPU_XGSCNT, 0);

  0003b	c7 05 0c 20 80
	fe 00 00 00 00	 mov	 DWORD PTR ds:-25157620, 0

; 1635 :     MCPX_REG_WRITE(NV_PAPU_DGSCNT, dwDelta);

  00045	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?dwDelta@?1??ResetGlobalCounters@CMcpxCore@DirectSound@@IAEXXZ@4KB
  0004b	89 0d 10 20 80
	fe		 mov	 DWORD PTR ds:-25157616, ecx

; 1636 :     MCPX_REG_WRITE(NV_PAPU_WGSCNT, dwDelta / 2);

  00051	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?dwDelta@?1??ResetGlobalCounters@CMcpxCore@DirectSound@@IAEXXZ@4KB
  00057	d1 ea		 shr	 edx, 1
  00059	89 15 14 20 80
	fe		 mov	 DWORD PTR ds:-25157612, edx

; 1637 :     MCPX_REG_WRITE(NV_PAPU_RGSCNT, dwDelta - 1);

  0005f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?dwDelta@?1??ResetGlobalCounters@CMcpxCore@DirectSound@@IAEXXZ@4KB
  00064	83 e8 01	 sub	 eax, 1
  00067	a3 18 20 80 fe	 mov	 DWORD PTR ds:-25157608, eax

; 1638 :     MCPX_REG_WRITE(NV_PAPU_PGSCNT, 0);

  0006c	c7 05 1c 20 80
	fe 00 00 00 00	 mov	 DWORD PTR ds:-25157604, 0

; 1639 : 
; 1640 :     MCPX_REG_WRITE(NV_PAPU_EGSCNT, 6 * MCPX_HW_EP_STEP_SIZE);

  00076	c7 05 20 20 80
	fe 00 06 00 00	 mov	 DWORD PTR ds:-25157600, 1536 ; 00000600H

; 1641 :     MCPX_REG_WRITE(NV_PAPU_DEGSCNT, MCPX_HW_EP_STEP_SIZE);

  00080	c7 05 24 20 80
	fe 00 01 00 00	 mov	 DWORD PTR ds:-25157596, 256 ; 00000100H

; 1642 :     MCPX_REG_WRITE(NV_PAPU_ECNTSTP, MCPX_HW_EP_STEP_SIZE);

  0008a	c7 05 28 20 80
	fe 00 01 00 00	 mov	 DWORD PTR ds:-25157592, 256 ; 00000100H

; 1643 : 
; 1644 :     MCPX_REG_WRITE(NV_PAPU_EPOFCUR0, 1536);

  00094	c7 05 2c 40 80
	fe 00 06 00 00	 mov	 DWORD PTR ds:-25149396, 1536 ; 00000600H

; 1645 :     MCPX_REG_WRITE(NV_PAPU_EPOFCUR1, m_adwEPOutputBufferSizes[MCPX_EPOUTPUT_AC97_ANALOG] + 6144);

  0009e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?m_adwEPOutputBufferSizes@CMcpxCore@DirectSound@@2QBKB
  000a4	81 c1 00 18 00
	00		 add	 ecx, 6144		; 00001800H
  000aa	89 0d 3c 40 80
	fe		 mov	 DWORD PTR ds:-25149380, ecx

; 1646 : 
; 1647 :     DPF_LEAVE_VOID();
; 1648 : }

  000b0	8b e5		 mov	 esp, ebp
  000b2	5d		 pop	 ebp
  000b3	c3		 ret	 0
?ResetGlobalCounters@CMcpxCore@DirectSound@@IAEXXZ ENDP	; DirectSound::CMcpxCore::ResetGlobalCounters
DSOUND	ENDS
PUBLIC	??_C@_0CF@OPOAAKHG@KeGetCurrentIrql?$CI?$CJ?5?$DN?$DN?5DISPATCH_L@ ; `string'
PUBLIC	??_C@_0BO@GPPNHMML@?$CI1?$CJ?5?$DM?$DN?5PIO_METHOD_QUEUE_CLEAR?$AA@ ; `string'
PUBLIC	??0CMcpxNotifier@DirectSound@@QAE@XZ		; DirectSound::CMcpxNotifier::CMcpxNotifier
PUBLIC	?Initialize@CMcpxNotifier@DirectSound@@QAEXKK@Z	; DirectSound::CMcpxNotifier::Initialize
PUBLIC	?GetStatus@CMcpxNotifier@DirectSound@@QAEHK@Z	; DirectSound::CMcpxNotifier::GetStatus
PUBLIC	?Reset@CMcpxNotifier@DirectSound@@QAEXXZ	; DirectSound::CMcpxNotifier::Reset
;	COMDAT ??_C@_0CF@OPOAAKHG@KeGetCurrentIrql?$CI?$CJ?5?$DN?$DN?5DISPATCH_L@
DSOUND_RD	SEGMENT
??_C@_0CF@OPOAAKHG@KeGetCurrentIrql?$CI?$CJ?5?$DN?$DN?5DISPATCH_L@ DB 'Ke'
	DB	'GetCurrentIrql() == DISPATCH_LEVEL', 00H	; `string'
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BO@GPPNHMML@?$CI1?$CJ?5?$DM?$DN?5PIO_METHOD_QUEUE_CLEAR?$AA@
DSOUND_RD	SEGMENT
??_C@_0BO@GPPNHMML@?$CI1?$CJ?5?$DM?$DN?5PIO_METHOD_QUEUE_CLEAR?$AA@ DB '('
	DB	'1) <= PIO_METHOD_QUEUE_CLEAR', 00H		; `string'
; Function compile flags: /Odt
DSOUND_RD	ENDS
;	COMDAT ?IdleVoiceProcessor@CMcpxCore@DirectSound@@QAEHH@Z
DSOUND	SEGMENT
_this$ = -36
$T36588 = -32
___AutoIrql$ = -28
_dwTimeout$ = -20
_rFeControl$ = -16
_Notifier$ = -12
_rSeControl$ = -4
_fIdle$ = 8
?IdleVoiceProcessor@CMcpxCore@DirectSound@@QAEHH@Z PROC NEAR ; DirectSound::CMcpxCore::IdleVoiceProcessor, COMDAT
; _this$ = ecx

; 1674 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 24	 sub	 esp, 36			; 00000024H
  00006	89 4d dc	 mov	 DWORD PTR _this$[ebp], ecx

; 1675 :     DWORD                   dwTimeout   = MCPX_HW_FRAME_LENGTH_US;

  00009	c7 45 ec 9b 02
	00 00		 mov	 DWORD PTR _dwTimeout$[ebp], 667 ; 0000029bH

; 1676 :     R_FE_CONTROL            rFeControl;
; 1677 :     R_SE_CONTROL            rSeControl;
; 1678 :     CMcpxNotifier           Notifier;

  00010	8d 4d f4	 lea	 ecx, DWORD PTR _Notifier$[ebp]
  00013	e8 00 00 00 00	 call	 ??0CMcpxNotifier@DirectSound@@QAE@XZ ; DirectSound::CMcpxNotifier::CMcpxNotifier

; 1679 : 
; 1680 :     DPF_ENTER();
; 1681 :     AutoIrql();

  00018	8d 4d e4	 lea	 ecx, DWORD PTR ___AutoIrql$[ebp]
  0001b	e8 00 00 00 00	 call	 ??0CAutoIrql@DirectSound@@QAE@XZ ; DirectSound::CAutoIrql::CAutoIrql

; 1682 : 
; 1683 :     if(fIdle)

  00020	83 7d 08 00	 cmp	 DWORD PTR _fIdle$[ebp], 0
  00024	0f 84 0a 01 00
	00		 je	 $L36098

; 1684 :     {
; 1685 :         //
; 1686 :         // Check the current FE and SE states.  If they're not running, we
; 1687 :         // don't need to idle the VP.
; 1688 :         //
; 1689 : 
; 1690 :         fIdle = FALSE;

  0002a	c7 45 08 00 00
	00 00		 mov	 DWORD PTR _fIdle$[ebp], 0

; 1691 :         
; 1692 :         MCPX_REG_READ(NV_PAPU_FECTL, &rFeControl.uValue);

  00031	a1 00 11 80 fe	 mov	 eax, DWORD PTR ds:-25161472
  00036	89 45 f0	 mov	 DWORD PTR _rFeControl$[ebp], eax

; 1693 :         
; 1694 :         if(NV_PAPU_FECTL_FEMETHMODE_FREE_RUNNING == rFeControl.Mode)

  00039	8b 4d f0	 mov	 ecx, DWORD PTR _rFeControl$[ebp]
  0003c	c1 e9 05	 shr	 ecx, 5
  0003f	83 e1 07	 and	 ecx, 7
  00042	85 c9		 test	 ecx, ecx
  00044	0f 85 e8 00 00
	00		 jne	 $L36100

; 1695 :         {
; 1696 :             MCPX_REG_READ(NV_PAPU_SECTL, &rSeControl.uValue)

  0004a	8b 15 00 20 80
	fe		 mov	 edx, DWORD PTR ds:-25157632
  00050	89 55 fc	 mov	 DWORD PTR _rSeControl$[ebp], edx

; 1697 :     
; 1698 :             if(NV_PAPU_SECTL_XCNTMODE_OFF != rSeControl.GSCUpdate)

  00053	8b 45 fc	 mov	 eax, DWORD PTR _rSeControl$[ebp]
  00056	c1 e8 03	 shr	 eax, 3
  00059	83 e0 03	 and	 eax, 3
  0005c	85 c0		 test	 eax, eax
  0005e	0f 84 ce 00 00
	00		 je	 $L36100

; 1699 :             {
; 1700 :                 fIdle = TRUE;

  00064	c7 45 08 01 00
	00 00		 mov	 DWORD PTR _fIdle$[ebp], 1

; 1701 :     
; 1702 :                 //
; 1703 :                 // Turn off the VP
; 1704 :                 //
; 1705 :     
; 1706 :                 MCPX_CHECK_VOICE_FIFO(1);

  0006b	68 aa 06 00 00	 push	 1706			; 000006aaH
  00070	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0DL@GNOKBCIE@c?3?2xbox?2private?2windows?2directx?2@
  00075	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0CF@OPOAAKHG@KeGetCurrentIrql?$CI?$CJ?5?$DN?$DN?5DISPATCH_L@
  0007a	e8 00 00 00 00	 call	 _KeGetCurrentIrql@0
  0007f	0f b6 c8	 movzx	 ecx, al
  00082	33 d2		 xor	 edx, edx
  00084	83 f9 02	 cmp	 ecx, 2
  00087	0f 95 c2	 setne	 dl
  0008a	52		 push	 edx
  0008b	e8 00 00 00 00	 call	 ?Assert@CDebug@DirectSound@@SAXHPBD0I@Z ; DirectSound::CDebug::Assert
  00090	83 c4 10	 add	 esp, 16			; 00000010H
  00093	68 aa 06 00 00	 push	 1706			; 000006aaH
  00098	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0DL@GNOKBCIE@c?3?2xbox?2private?2windows?2directx?2@
  0009d	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BO@GPPNHMML@?$CI1?$CJ?5?$DM?$DN?5PIO_METHOD_QUEUE_CLEAR?$AA@
  000a2	6a 00		 push	 0
  000a4	e8 00 00 00 00	 call	 ?Assert@CDebug@DirectSound@@SAXHPBD0I@Z ; DirectSound::CDebug::Assert
  000a9	83 c4 10	 add	 esp, 16			; 00000010H
$L36106:
  000ac	b8 10 00 00 00	 mov	 eax, 16			; 00000010H
  000b1	8b 88 00 00 82
	fe		 mov	 ecx, DWORD PTR [eax-25034752]
  000b7	c1 e9 02	 shr	 ecx, 2
  000ba	83 f9 01	 cmp	 ecx, 1
  000bd	73 02		 jae	 SHORT $L36107
  000bf	eb eb		 jmp	 SHORT $L36106
$L36107:

; 1707 :                 MCPX_VOICE_WRITE(SetProcessorMode, NV1BA0_PIO_SET_MODE_PARAMETER_OFF);

  000c1	ba 0c 01 00 00	 mov	 edx, 268		; 0000010cH
  000c6	c7 82 00 00 82
	fe 00 00 00 00	 mov	 DWORD PTR [edx-25034752], 0

; 1708 : 
; 1709 :                 //
; 1710 :                 // Wait for the VP to tell us it's idle
; 1711 :                 //
; 1712 : 
; 1713 :                 if(m_ctxMemory[MCPX_MEM_NOTIFIERS].VirtualAddress)

  000d0	83 3d 40 00 00
	00 00		 cmp	 DWORD PTR ?m_ctxMemory@CMcpxCore@DirectSound@@2PAUMCPX_ALLOC_CONTEXT@@A+64, 0
  000d7	74 4f		 je	 SHORT $L36112

; 1714 :                 {
; 1715 :                     Notifier.Initialize(0, 1);

  000d9	6a 01		 push	 1
  000db	6a 00		 push	 0
  000dd	8d 4d f4	 lea	 ecx, DWORD PTR _Notifier$[ebp]
  000e0	e8 00 00 00 00	 call	 ?Initialize@CMcpxNotifier@DirectSound@@QAEXKK@Z ; DirectSound::CMcpxNotifier::Initialize

; 1716 :     
; 1717 :                     MCPX_VOICE_WRITE(Synchronize, NV1BA0_PIO_SYNCHRONIZE_PARAMETER_WAIT_FOR_IDLE_WRITE_PE_NOTIFY);

  000e5	b8 04 01 00 00	 mov	 eax, 260		; 00000104H
  000ea	c7 80 00 00 82
	fe 02 00 00 00	 mov	 DWORD PTR [eax-25034752], 2
$L36116:

; 1718 : 
; 1719 :                     while(!Notifier.GetStatus(0))

  000f4	6a 00		 push	 0
  000f6	8d 4d f4	 lea	 ecx, DWORD PTR _Notifier$[ebp]
  000f9	e8 00 00 00 00	 call	 ?GetStatus@CMcpxNotifier@DirectSound@@QAEHK@Z ; DirectSound::CMcpxNotifier::GetStatus
  000fe	85 c0		 test	 eax, eax
  00100	75 1c		 jne	 SHORT $L36117

; 1720 :                     {
; 1721 :                         KeStallExecutionProcessor(1);

  00102	6a 01		 push	 1
  00104	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__KeStallExecutionProcessor@4

; 1722 : 
; 1723 :                         if(!dwTimeout--)

  0010a	8b 4d ec	 mov	 ecx, DWORD PTR _dwTimeout$[ebp]
  0010d	8b 55 ec	 mov	 edx, DWORD PTR _dwTimeout$[ebp]
  00110	83 ea 01	 sub	 edx, 1
  00113	89 55 ec	 mov	 DWORD PTR _dwTimeout$[ebp], edx
  00116	85 c9		 test	 ecx, ecx
  00118	75 02		 jne	 SHORT $L36118

; 1724 :                         {
; 1725 :                             break;

  0011a	eb 02		 jmp	 SHORT $L36117
$L36118:

; 1726 :                         }
; 1727 :                     }

  0011c	eb d6		 jmp	 SHORT $L36116
$L36117:

; 1728 : 
; 1729 :                     Notifier.Reset();

  0011e	8d 4d f4	 lea	 ecx, DWORD PTR _Notifier$[ebp]
  00121	e8 00 00 00 00	 call	 ?Reset@CMcpxNotifier@DirectSound@@QAEXXZ ; DirectSound::CMcpxNotifier::Reset

; 1730 :                 }
; 1731 :                 else

  00126	eb 0a		 jmp	 SHORT $L36100
$L36112:

; 1732 :                 {
; 1733 :                     KeStallExecutionProcessor(dwTimeout);

  00128	8b 45 ec	 mov	 eax, DWORD PTR _dwTimeout$[ebp]
  0012b	50		 push	 eax
  0012c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__KeStallExecutionProcessor@4
$L36100:

; 1734 :                 }
; 1735 :             }
; 1736 :         }
; 1737 :     }
; 1738 :     else

  00132	eb 65		 jmp	 SHORT $L36120
$L36098:

; 1739 :     {
; 1740 :         //
; 1741 :         // Turn the VP back on
; 1742 :         //
; 1743 :         
; 1744 :         MCPX_CHECK_VOICE_FIFO(1);

  00134	68 d0 06 00 00	 push	 1744			; 000006d0H
  00139	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0DL@GNOKBCIE@c?3?2xbox?2private?2windows?2directx?2@
  0013e	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0CF@OPOAAKHG@KeGetCurrentIrql?$CI?$CJ?5?$DN?$DN?5DISPATCH_L@
  00143	e8 00 00 00 00	 call	 _KeGetCurrentIrql@0
  00148	0f b6 c8	 movzx	 ecx, al
  0014b	33 d2		 xor	 edx, edx
  0014d	83 f9 02	 cmp	 ecx, 2
  00150	0f 95 c2	 setne	 dl
  00153	52		 push	 edx
  00154	e8 00 00 00 00	 call	 ?Assert@CDebug@DirectSound@@SAXHPBD0I@Z ; DirectSound::CDebug::Assert
  00159	83 c4 10	 add	 esp, 16			; 00000010H
  0015c	68 d0 06 00 00	 push	 1744			; 000006d0H
  00161	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0DL@GNOKBCIE@c?3?2xbox?2private?2windows?2directx?2@
  00166	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BO@GPPNHMML@?$CI1?$CJ?5?$DM?$DN?5PIO_METHOD_QUEUE_CLEAR?$AA@
  0016b	6a 00		 push	 0
  0016d	e8 00 00 00 00	 call	 ?Assert@CDebug@DirectSound@@SAXHPBD0I@Z ; DirectSound::CDebug::Assert
  00172	83 c4 10	 add	 esp, 16			; 00000010H
$L36122:
  00175	b8 10 00 00 00	 mov	 eax, 16			; 00000010H
  0017a	8b 88 00 00 82
	fe		 mov	 ecx, DWORD PTR [eax-25034752]
  00180	c1 e9 02	 shr	 ecx, 2
  00183	83 f9 01	 cmp	 ecx, 1
  00186	73 02		 jae	 SHORT $L36123
  00188	eb eb		 jmp	 SHORT $L36122
$L36123:

; 1745 :         MCPX_VOICE_WRITE(SetProcessorMode, NV1BA0_PIO_SET_MODE_PARAMETER_RUN);

  0018a	ba 0c 01 00 00	 mov	 edx, 268		; 0000010cH
  0018f	c7 82 00 00 82
	fe 01 00 00 00	 mov	 DWORD PTR [edx-25034752], 1
$L36120:

; 1746 :     }        
; 1747 : 
; 1748 :     DPF_LEAVE(fIdle);
; 1749 : 
; 1750 :     return fIdle;

  00199	8b 45 08	 mov	 eax, DWORD PTR _fIdle$[ebp]
  0019c	89 45 e0	 mov	 DWORD PTR $T36588[ebp], eax
  0019f	8d 4d e4	 lea	 ecx, DWORD PTR ___AutoIrql$[ebp]
  001a2	e8 00 00 00 00	 call	 ??1CAutoIrql@DirectSound@@QAE@XZ ; DirectSound::CAutoIrql::~CAutoIrql
  001a7	8b 45 e0	 mov	 eax, DWORD PTR $T36588[ebp]

; 1751 : }

  001aa	8b e5		 mov	 esp, ebp
  001ac	5d		 pop	 ebp
  001ad	c2 04 00	 ret	 4
?IdleVoiceProcessor@CMcpxCore@DirectSound@@QAEHH@Z ENDP	; DirectSound::CMcpxCore::IdleVoiceProcessor
DSOUND	ENDS
PUBLIC	?Free@CMcpxNotifier@DirectSound@@QAEXXZ		; DirectSound::CMcpxNotifier::Free
; Function compile flags: /Odt
; File c:\xbox\private\windows\directx\dsound\dsound\mcpxcore.h
;	COMDAT ??0CMcpxNotifier@DirectSound@@QAE@XZ
DSOUND	SEGMENT
_this$ = -4
??0CMcpxNotifier@DirectSound@@QAE@XZ PROC NEAR		; DirectSound::CMcpxNotifier::CMcpxNotifier, COMDAT
; _this$ = ecx

; 414  :     {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 415  :         Free();

  00007	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0000a	e8 00 00 00 00	 call	 ?Free@CMcpxNotifier@DirectSound@@QAEXXZ ; DirectSound::CMcpxNotifier::Free

; 416  :     }

  0000f	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00012	8b e5		 mov	 esp, ebp
  00014	5d		 pop	 ebp
  00015	c3		 ret	 0
??0CMcpxNotifier@DirectSound@@QAE@XZ ENDP		; DirectSound::CMcpxNotifier::CMcpxNotifier
DSOUND	ENDS
PUBLIC	??_C@_0DJ@JNKFENGM@c?3?2xbox?2private?2windows?2directx?2@ ; `string'
PUBLIC	??_C@_0O@JCBGLFIF@?$CBm_paNotifier?$AA@		; `string'
PUBLIC	??_C@_0BD@JLKNBNJM@?$CBm_dwNotifierCount?$AA@	; `string'
;	COMDAT ??_C@_0DJ@JNKFENGM@c?3?2xbox?2private?2windows?2directx?2@
DSOUND_RD	SEGMENT
??_C@_0DJ@JNKFENGM@c?3?2xbox?2private?2windows?2directx?2@ DB 'c:\xbox\pr'
	DB	'ivate\windows\directx\dsound\dsound\mcpxcore.h', 00H ; `string'
DSOUND_RD	ENDS
;	COMDAT ??_C@_0O@JCBGLFIF@?$CBm_paNotifier?$AA@
DSOUND_RD	SEGMENT
??_C@_0O@JCBGLFIF@?$CBm_paNotifier?$AA@ DB '!m_paNotifier', 00H ; `string'
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BD@JLKNBNJM@?$CBm_dwNotifierCount?$AA@
DSOUND_RD	SEGMENT
??_C@_0BD@JLKNBNJM@?$CBm_dwNotifierCount?$AA@ DB '!m_dwNotifierCount', 00H ; `string'
; Function compile flags: /Odt
DSOUND_RD	ENDS
;	COMDAT ?Initialize@CMcpxNotifier@DirectSound@@QAEXKK@Z
DSOUND	SEGMENT
_this$ = -4
_dwBaseNotifierIndex$ = 8
_dwNotifierCount$ = 12
?Initialize@CMcpxNotifier@DirectSound@@QAEXKK@Z PROC NEAR ; DirectSound::CMcpxNotifier::Initialize, COMDAT
; _this$ = ecx

; 419  :     {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 420  :         ASSERT(!m_paNotifier);

  00007	68 a4 01 00 00	 push	 420			; 000001a4H
  0000c	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0DJ@JNKFENGM@c?3?2xbox?2private?2windows?2directx?2@
  00011	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0O@JCBGLFIF@?$CBm_paNotifier?$AA@
  00016	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00019	33 c9		 xor	 ecx, ecx
  0001b	83 38 00	 cmp	 DWORD PTR [eax], 0
  0001e	0f 95 c1	 setne	 cl
  00021	51		 push	 ecx
  00022	e8 00 00 00 00	 call	 ?Assert@CDebug@DirectSound@@SAXHPBD0I@Z ; DirectSound::CDebug::Assert
  00027	83 c4 10	 add	 esp, 16			; 00000010H

; 421  :         ASSERT(!m_dwNotifierCount);

  0002a	68 a5 01 00 00	 push	 421			; 000001a5H
  0002f	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0DJ@JNKFENGM@c?3?2xbox?2private?2windows?2directx?2@
  00034	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BD@JLKNBNJM@?$CBm_dwNotifierCount?$AA@
  00039	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  0003c	33 c0		 xor	 eax, eax
  0003e	83 7a 04 00	 cmp	 DWORD PTR [edx+4], 0
  00042	0f 95 c0	 setne	 al
  00045	50		 push	 eax
  00046	e8 00 00 00 00	 call	 ?Assert@CDebug@DirectSound@@SAXHPBD0I@Z ; DirectSound::CDebug::Assert
  0004b	83 c4 10	 add	 esp, 16			; 00000010H

; 422  : 
; 423  :         m_paNotifier = (PMCPX_HW_NOTIFICATION)CMcpxCore::m_ctxMemory[MCPX_MEM_NOTIFIERS].VirtualAddress + dwBaseNotifierIndex;

  0004e	8b 4d 08	 mov	 ecx, DWORD PTR _dwBaseNotifierIndex$[ebp]
  00051	c1 e1 04	 shl	 ecx, 4
  00054	8b 15 40 00 00
	00		 mov	 edx, DWORD PTR ?m_ctxMemory@CMcpxCore@DirectSound@@2PAUMCPX_ALLOC_CONTEXT@@A+64
  0005a	03 d1		 add	 edx, ecx
  0005c	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0005f	89 10		 mov	 DWORD PTR [eax], edx

; 424  :         m_dwNotifierCount = dwNotifierCount;

  00061	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00064	8b 55 0c	 mov	 edx, DWORD PTR _dwNotifierCount$[ebp]
  00067	89 51 04	 mov	 DWORD PTR [ecx+4], edx

; 425  : 
; 426  :         Reset();

  0006a	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  0006d	e8 00 00 00 00	 call	 ?Reset@CMcpxNotifier@DirectSound@@QAEXXZ ; DirectSound::CMcpxNotifier::Reset

; 427  :     }

  00072	8b e5		 mov	 esp, ebp
  00074	5d		 pop	 ebp
  00075	c2 08 00	 ret	 8
?Initialize@CMcpxNotifier@DirectSound@@QAEXKK@Z ENDP	; DirectSound::CMcpxNotifier::Initialize
; Function compile flags: /Odt
DSOUND	ENDS
;	COMDAT ?Free@CMcpxNotifier@DirectSound@@QAEXXZ
DSOUND	SEGMENT
_this$ = -4
?Free@CMcpxNotifier@DirectSound@@QAEXXZ PROC NEAR	; DirectSound::CMcpxNotifier::Free, COMDAT
; _this$ = ecx

; 430  :     {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 431  :         m_paNotifier = NULL;

  00007	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000a	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], 0

; 432  :         m_dwNotifierCount = 0;

  00010	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00013	c7 41 04 00 00
	00 00		 mov	 DWORD PTR [ecx+4], 0

; 433  :     }

  0001a	8b e5		 mov	 esp, ebp
  0001c	5d		 pop	 ebp
  0001d	c3		 ret	 0
?Free@CMcpxNotifier@DirectSound@@QAEXXZ ENDP		; DirectSound::CMcpxNotifier::Free
DSOUND	ENDS
PUBLIC	??_C@_0N@BMLCBDGO@m_paNotifier?$AA@		; `string'
PUBLIC	??_C@_0CE@ELEAODJN@dwNotifierIndex?5?$DM?5m_dwNotifierCo@ ; `string'
PUBLIC	??_C@_0BL@MEDKFNKN@Unexpected?5notifier?5status?$AA@ ; `string'
;	COMDAT ??_C@_0N@BMLCBDGO@m_paNotifier?$AA@
DSOUND_RD	SEGMENT
??_C@_0N@BMLCBDGO@m_paNotifier?$AA@ DB 'm_paNotifier', 00H ; `string'
DSOUND_RD	ENDS
;	COMDAT ??_C@_0CE@ELEAODJN@dwNotifierIndex?5?$DM?5m_dwNotifierCo@
DSOUND_RD	SEGMENT
??_C@_0CE@ELEAODJN@dwNotifierIndex?5?$DM?5m_dwNotifierCo@ DB 'dwNotifierI'
	DB	'ndex < m_dwNotifierCount', 00H		; `string'
DSOUND_RD	ENDS
;	COMDAT ??_C@_0BL@MEDKFNKN@Unexpected?5notifier?5status?$AA@
DSOUND_RD	SEGMENT
??_C@_0BL@MEDKFNKN@Unexpected?5notifier?5status?$AA@ DB 'Unexpected notif'
	DB	'ier status', 00H				; `string'
; Function compile flags: /Odt
DSOUND_RD	ENDS
;	COMDAT ?GetStatus@CMcpxNotifier@DirectSound@@QAEHK@Z
DSOUND	SEGMENT
tv81 = -8
_this$ = -4
_dwNotifierIndex$ = 8
?GetStatus@CMcpxNotifier@DirectSound@@QAEHK@Z PROC NEAR	; DirectSound::CMcpxNotifier::GetStatus, COMDAT
; _this$ = ecx

; 436  :     {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 08	 sub	 esp, 8
  00006	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 437  :         ASSERT(m_paNotifier);

  00009	68 b5 01 00 00	 push	 437			; 000001b5H
  0000e	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0DJ@JNKFENGM@c?3?2xbox?2private?2windows?2directx?2@
  00013	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0N@BMLCBDGO@m_paNotifier?$AA@
  00018	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0001b	33 c9		 xor	 ecx, ecx
  0001d	83 38 00	 cmp	 DWORD PTR [eax], 0
  00020	0f 94 c1	 sete	 cl
  00023	51		 push	 ecx
  00024	e8 00 00 00 00	 call	 ?Assert@CDebug@DirectSound@@SAXHPBD0I@Z ; DirectSound::CDebug::Assert
  00029	83 c4 10	 add	 esp, 16			; 00000010H

; 438  :         ASSERT(dwNotifierIndex < m_dwNotifierCount);

  0002c	68 b6 01 00 00	 push	 438			; 000001b6H
  00031	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0DJ@JNKFENGM@c?3?2xbox?2private?2windows?2directx?2@
  00036	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0CE@ELEAODJN@dwNotifierIndex?5?$DM?5m_dwNotifierCo@
  0003b	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  0003e	8b 45 08	 mov	 eax, DWORD PTR _dwNotifierIndex$[ebp]
  00041	3b 42 04	 cmp	 eax, DWORD PTR [edx+4]
  00044	1b c9		 sbb	 ecx, ecx
  00046	41		 inc	 ecx
  00047	51		 push	 ecx
  00048	e8 00 00 00 00	 call	 ?Assert@CDebug@DirectSound@@SAXHPBD0I@Z ; DirectSound::CDebug::Assert
  0004d	83 c4 10	 add	 esp, 16			; 00000010H

; 439  :     
; 440  :         switch(m_paNotifier[dwNotifierIndex].Status)
; 441  :         {

  00050	8b 55 08	 mov	 edx, DWORD PTR _dwNotifierIndex$[ebp]
  00053	c1 e2 04	 shl	 edx, 4
  00056	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00059	8b 08		 mov	 ecx, DWORD PTR [eax]
  0005b	8a 54 11 0f	 mov	 dl, BYTE PTR [ecx+edx+15]
  0005f	88 55 f8	 mov	 BYTE PTR tv81[ebp], dl
  00062	80 7d f8 01	 cmp	 BYTE PTR tv81[ebp], 1
  00066	74 08		 je	 SHORT $L34189
  00068	80 7d f8 80	 cmp	 BYTE PTR tv81[ebp], 128	; 00000080H
  0006c	74 09		 je	 SHORT $L34190
  0006e	eb 0b		 jmp	 SHORT $L34191
$L34189:

; 442  :             case NV1BA0_NOTIFICATION_STATUS_DONE_SUCCESS:
; 443  :                 return TRUE;

  00070	b8 01 00 00 00	 mov	 eax, 1
  00075	eb 1f		 jmp	 SHORT $L34182
$L34190:

; 444  : 
; 445  :             case NV1BA0_NOTIFICATION_STATUS_IN_PROGRESS:
; 446  :                 return FALSE;

  00077	33 c0		 xor	 eax, eax
  00079	eb 1b		 jmp	 SHORT $L34182
$L34191:

; 447  : 
; 448  :             default:
; 449  :                 ASSERTMSG("Unexpected notifier status");

  0007b	68 c1 01 00 00	 push	 449			; 000001c1H
  00080	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0DJ@JNKFENGM@c?3?2xbox?2private?2windows?2directx?2@
  00085	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BL@MEDKFNKN@Unexpected?5notifier?5status?$AA@
  0008a	6a 01		 push	 1
  0008c	e8 00 00 00 00	 call	 ?Assert@CDebug@DirectSound@@SAXHPBD0I@Z ; DirectSound::CDebug::Assert
  00091	83 c4 10	 add	 esp, 16			; 00000010H

; 450  :                 return FALSE;

  00094	33 c0		 xor	 eax, eax
$L34182:

; 451  :         }
; 452  :     }

  00096	8b e5		 mov	 esp, ebp
  00098	5d		 pop	 ebp
  00099	c2 04 00	 ret	 4
?GetStatus@CMcpxNotifier@DirectSound@@QAEHK@Z ENDP	; DirectSound::CMcpxNotifier::GetStatus
DSOUND	ENDS
PUBLIC	??_C@_0BC@NHNIONPC@m_dwNotifierCount?$AA@	; `string'
;	COMDAT ??_C@_0BC@NHNIONPC@m_dwNotifierCount?$AA@
DSOUND_RD	SEGMENT
??_C@_0BC@NHNIONPC@m_dwNotifierCount?$AA@ DB 'm_dwNotifierCount', 00H ; `string'
; Function compile flags: /Odt
DSOUND_RD	ENDS
;	COMDAT ?Reset@CMcpxNotifier@DirectSound@@QAEXXZ
DSOUND	SEGMENT
_this$ = -8
_dwNotifierIndex$ = -4
?Reset@CMcpxNotifier@DirectSound@@QAEXXZ PROC NEAR	; DirectSound::CMcpxNotifier::Reset, COMDAT
; _this$ = ecx

; 463  :     {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 08	 sub	 esp, 8
  00006	89 4d f8	 mov	 DWORD PTR _this$[ebp], ecx

; 464  :         DWORD                   dwNotifierIndex;
; 465  :     
; 466  :         ASSERT(m_paNotifier);

  00009	68 d2 01 00 00	 push	 466			; 000001d2H
  0000e	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0DJ@JNKFENGM@c?3?2xbox?2private?2windows?2directx?2@
  00013	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0N@BMLCBDGO@m_paNotifier?$AA@
  00018	8b 45 f8	 mov	 eax, DWORD PTR _this$[ebp]
  0001b	33 c9		 xor	 ecx, ecx
  0001d	83 38 00	 cmp	 DWORD PTR [eax], 0
  00020	0f 94 c1	 sete	 cl
  00023	51		 push	 ecx
  00024	e8 00 00 00 00	 call	 ?Assert@CDebug@DirectSound@@SAXHPBD0I@Z ; DirectSound::CDebug::Assert
  00029	83 c4 10	 add	 esp, 16			; 00000010H

; 467  :         ASSERT(m_dwNotifierCount);

  0002c	68 d3 01 00 00	 push	 467			; 000001d3H
  00031	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0DJ@JNKFENGM@c?3?2xbox?2private?2windows?2directx?2@
  00036	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BC@NHNIONPC@m_dwNotifierCount?$AA@
  0003b	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  0003e	33 c0		 xor	 eax, eax
  00040	83 7a 04 00	 cmp	 DWORD PTR [edx+4], 0
  00044	0f 94 c0	 sete	 al
  00047	50		 push	 eax
  00048	e8 00 00 00 00	 call	 ?Assert@CDebug@DirectSound@@SAXHPBD0I@Z ; DirectSound::CDebug::Assert
  0004d	83 c4 10	 add	 esp, 16			; 00000010H

; 468  : 
; 469  :         for(dwNotifierIndex = 0; dwNotifierIndex < m_dwNotifierCount; dwNotifierIndex++)

  00050	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR _dwNotifierIndex$[ebp], 0
  00057	eb 09		 jmp	 SHORT $L34204
$L34205:
  00059	8b 4d fc	 mov	 ecx, DWORD PTR _dwNotifierIndex$[ebp]
  0005c	83 c1 01	 add	 ecx, 1
  0005f	89 4d fc	 mov	 DWORD PTR _dwNotifierIndex$[ebp], ecx
$L34204:
  00062	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00065	8b 45 fc	 mov	 eax, DWORD PTR _dwNotifierIndex$[ebp]
  00068	3b 42 04	 cmp	 eax, DWORD PTR [edx+4]
  0006b	73 12		 jae	 SHORT $L34201

; 470  :         {
; 471  :             m_paNotifier[dwNotifierIndex].Status = NV1BA0_NOTIFICATION_STATUS_IN_PROGRESS;

  0006d	8b 4d fc	 mov	 ecx, DWORD PTR _dwNotifierIndex$[ebp]
  00070	c1 e1 04	 shl	 ecx, 4
  00073	8b 55 f8	 mov	 edx, DWORD PTR _this$[ebp]
  00076	8b 02		 mov	 eax, DWORD PTR [edx]
  00078	c6 44 08 0f 80	 mov	 BYTE PTR [eax+ecx+15], 128 ; 00000080H

; 472  :         }

  0007d	eb da		 jmp	 SHORT $L34205
$L34201:

; 473  :     }

  0007f	8b e5		 mov	 esp, ebp
  00081	5d		 pop	 ebp
  00082	c3		 ret	 0
?Reset@CMcpxNotifier@DirectSound@@QAEXXZ ENDP		; DirectSound::CMcpxNotifier::Reset
; Function compile flags: /Odt
; File c:\xbox\private\windows\directx\dsound\common\refcount.h
DSOUND	ENDS
;	COMDAT ?__AddRef@DirectSound@@YGPAVCDirectSoundSettings@1@PAV21@@Z
DSOUND	SEGMENT
_p$ = 8
?__AddRef@DirectSound@@YGPAVCDirectSoundSettings@1@PAV21@@Z PROC NEAR ; DirectSound::__AddRef, COMDAT

; 68   :     {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 69   :         if(p)

  00003	83 7d 08 00	 cmp	 DWORD PTR _p$[ebp], 0
  00007	74 0c		 je	 SHORT $L36184

; 70   :         {
; 71   :             p->AddRef();

  00009	8b 45 08	 mov	 eax, DWORD PTR _p$[ebp]
  0000c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0000e	8b 55 08	 mov	 edx, DWORD PTR _p$[ebp]
  00011	52		 push	 edx
  00012	ff 51 04	 call	 DWORD PTR [ecx+4]
$L36184:

; 72   :         }
; 73   : 
; 74   :         return p;

  00015	8b 45 08	 mov	 eax, DWORD PTR _p$[ebp]

; 75   :     }

  00018	5d		 pop	 ebp
  00019	c2 04 00	 ret	 4
?__AddRef@DirectSound@@YGPAVCDirectSoundSettings@1@PAV21@@Z ENDP ; DirectSound::__AddRef
; Function compile flags: /Odt
DSOUND	ENDS
;	COMDAT ?__AddRef@DirectSound@@YGPAVCMcpxSlopMemoryHeap@1@PAV21@@Z
DSOUND	SEGMENT
_p$ = 8
?__AddRef@DirectSound@@YGPAVCMcpxSlopMemoryHeap@1@PAV21@@Z PROC NEAR ; DirectSound::__AddRef, COMDAT

; 68   :     {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 69   :         if(p)

  00003	83 7d 08 00	 cmp	 DWORD PTR _p$[ebp], 0
  00007	74 0c		 je	 SHORT $L36186

; 70   :         {
; 71   :             p->AddRef();

  00009	8b 45 08	 mov	 eax, DWORD PTR _p$[ebp]
  0000c	8b 08		 mov	 ecx, DWORD PTR [eax]
  0000e	8b 55 08	 mov	 edx, DWORD PTR _p$[ebp]
  00011	52		 push	 edx
  00012	ff 51 04	 call	 DWORD PTR [ecx+4]
$L36186:

; 72   :         }
; 73   : 
; 74   :         return p;

  00015	8b 45 08	 mov	 eax, DWORD PTR _p$[ebp]

; 75   :     }

  00018	5d		 pop	 ebp
  00019	c2 04 00	 ret	 4
?__AddRef@DirectSound@@YGPAVCMcpxSlopMemoryHeap@1@PAV21@@Z ENDP ; DirectSound::__AddRef
DSOUND	ENDS
END
