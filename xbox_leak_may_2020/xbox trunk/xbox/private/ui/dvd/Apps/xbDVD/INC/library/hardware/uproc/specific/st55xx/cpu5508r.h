
// FILE:      library\hardware\uproc\specific\st55xx\cpu5508r.h
// AUTHOR:    S. Herr
// COPYRIGHT: (c) 2000 VIONA Development GmbH & Co. KG.  All Rights Reserved.
// CREATED:   02.05.2000
//
// PURPOSE:   Register definitions for the STi5508 chip.
//
// HISTORY:

#ifndef CPU5508R_H
#define CPU5508R_H

// Include common register definitions
#include "cpu55xxr.h"

// MPEG video decoder.

#define ST5505REG_MPEG_VIDEO_SIZEOF	0x100
#define ST5508REG_MPEG_VIDEO_BASE	0x0
// For backward compatibility:
#define ST5505REG_MPEG_VIDEO_BASE2	0x0
#define ST5505REG_MPEG_VIDEO_BASE3	0x0
#define ST5505REG_MPEG_VIDEO_BASE4	0x0
#define ST5505REG_MPEG_VIDEO_BASE5	0x0


// MPEG audio decoder.

#define ST5505REG_MPEG_AUDIO_SIZEOF	0x80

#define ST5508REG_MPEG_AUDIO_BASE	0x200

// For backward compatibility:
#define ST5505REG_MPEG_AUDIO_BASE2	0x200
#define ST5505REG_MPEG_AUDIO_BASE3	0x200
#define ST5505REG_MPEG_AUDIO_BASE4	0x200
#define ST5505REG_MPEG_AUDIO_BASE5	0x200


// Karaoke processor


#define ST5508REG_KARAOKE_SIZEOF		0x30
#define ST5508REG_KARAOKE_BASE		0x700


// MPEG subpicture decoder.

#define ST5505REG_MPEG_SUB_SIZEOF	0x80
#define ST5508REG_MPEG_SUB_BASE		0x400

// For backward compatibility:
#define ST5505REG_MPEG_SUB_BASE2		0x400
#define ST5505REG_MPEG_SUB_BASE3		0x400
#define ST5505REG_MPEG_SUB_BASE4		0x400
#define ST5505REG_MPEG_SUB_BASE5		0x400


// Video encoder.

#define ST5505REG_DENC_SIZEOF			0x80

#define ST5508REG_DENC_BASE			0x600

// For backward compatibility:
#define ST5505REG_DENC_BASE2			0x600
#define ST5505REG_DENC_BASE3			0x600
#define ST5505REG_DENC_BASE4			0x600
#define ST5505REG_DENC_BASE5			0x600



// Front end.

#define ST5505REG_FRAM_DMA_BASE		0x20038000
#define ST5505REG_FRAM_DMA_SIZEOF	0x1000



// DMA controller.

#define ST5505REG_DMACTRL_SIZEOF		0x1000

#define ST5505REG_MPEGDMA0_BASE		0x20024000
#define ST5505REG_MPEGDMA1_BASE		0x20025000
#define ST5505REG_MPEGDMA2_BASE		0x20030000

#define ST5505REG_MPEGDMA_BURSTSIZE	0x00
#define ST5505REG_MPEGDMA_HOLDOFF	0x04
#define ST5505REG_MPEGDMA_ABORT		0x08
#define ST5505REG_MPEGDMA_WHICHDEC	0x0c
#define ST5505REG_MPEGDMA_STATUS		0x10
#define ST5505REG_MPEGDMA_INTACK		0x14
#define ST5505REG_MPEGDMA_SRCADD		0x18
#define ST5505REG_MPEGDMA_CNTRL		0x1c
#define ST5505REG_MPEGDMA_BLSIZE		0x20


// Teletext

#define ST5505REG_TELETEXT_BASE		0x2000a000


// Block Move

#define ST5505REG_BLOCKMOVE_BASE		0x20026000


// Synchronous Serial Channel.

#define ST5505REG_SSC_BASE				0x20009000
#define ST5505REG_SSC_SIZEOF			0x20

// Asynchronous Serial Channel.

#define ST5505REG_ASC_BASE(x)			(0x20003000 + 0x00001000 * x)
#define ST5505REG_ASC0_BASE			ST5505REG_ASC_BASE(0)
#define ST5505REG_ASC1_BASE			ST5505REG_ASC_BASE(1)
#define ST5505REG_ASC2_BASE			ST5505REG_ASC_BASE(2)
#define ST5505REG_ASC3_BASE			ST5505REG_ASC_BASE(3)
#define ST5505REG_ASC_SIZEOF			0x18


// PIO.

#define ST5505REG_PIO0_BASE			0x2000c000
#define ST5505REG_PIO1_BASE			0x2000d000
#define ST5505REG_PIO2_BASE			0x2000e000
#define ST5505REG_PIO3_BASE			0x2000f000
#define ST5505REG_PIO4_BASE			0x20010000
#define ST5505REG_PIO_SIZEOF			0x70



// IRQ

#define ST5508REG_INT_CONTROLLER_BASE				0x20000000
#define ST5508REG_INT_CONTROLLER_SIZEOF			0x200

#define ST5508REG_INT_LEVELCONTROLLER_BASE		0x20011000
#define ST5508REG_INT_LEVELCONTROLLER_SIZEOF		0x80


// The IRQ numbers are fixed. The interrupt level controller maps them onto 8 IRQ levels.

#define IRQ_NUM_PORT0			0
#define IRQ_NUM_PORT1			1
#define IRQ_NUM_PORT2			2
#define IRQ_NUM_PORT3			3
#define IRQ_NUM_PORT4			4

#define IRQ_NUM_SSC				5

#define IRQ_NUM_UNUSED			6

#define IRQ_NUM_ASC3				7
#define IRQ_NUM_ASC2				8
#define IRQ_NUM_ASC1				9
#define IRQ_NUM_ASC0				10

#define IRQ_NUM_PWM				11

#define IRQ_NUM_MPEG_DMA0		12
#define IRQ_NUM_MPEG_DMA1		13
#define IRQ_NUM_MPEG_DMA2		14

#define IRQ_NUM_BLOCK_MOVE		15

#define IRQ_NUM_MOIDEM_DMA		16

#define IRQ_NUM_EXTERNAL0		17
#define IRQ_NUM_EXTERNAL1		18
#define IRQ_NUM_EXTERNAL2		19

#define IRQ_NUM_AUDIO			20
#define IRQ_NUM_VIDEO			21

#define IRQ_NUM_SECTOR_PROC	22

#define IRQ_NUM_LINK				23


// 5508 cache control registers

#define ST5505REG_CACHE_CONTROL_BASE			0x4000
#define ST5505REG_CACHE_CONTROL_SIZEOF			0x1000

#define ST5508REG_CACHE_CACHABILITY_CONTROL0	0x0
#define ST5508REG_CACHE_CACHABILITY_CONTROL1	0x100
#define ST5508REG_CACHE_CACHABILITY_CONTROL2	0x200
#define ST5508REG_CACHE_CACHABILITY_CONTROL3	0x300

#define ST5508IDX_CACHE_BLOCK7					7
#define ST5508IDX_CACHE_BLOCK6					6
#define ST5508IDX_CACHE_BLOCK5					5
#define ST5508IDX_CACHE_BLOCK4					4
#define ST5508IDX_CACHE_BLOCK3					3
#define ST5508IDX_CACHE_BLOCK2					2
#define ST5508IDX_CACHE_BLOCK1					1
#define ST5508IDX_CACHE_BLOCK0					0

#define ST5508REG_DCACHE_NOT_SRAM				0x400

#define ST5508REG_CACHE_INVALIDATE_DCACHE		0x500
#define ST5508IDX_CACHE_INVALIDATE				0

#define ST5508REG_CACHE_FLUSH_DCACHE			0x600
#define ST5508IDX_CACHE_FLUSH						0

#define ST5508REG_CACHE_ENABLE_ICACHE			0x700

#define ST5508REG_CACHE_INVALIDATE_ICACHE		0x800

#define ST5508REG_CACHE_STATUS					0x900

#define ST5508REG_CACHE_LOCK_CONFIGURATION	0xa00
#define ST5508IDX_CACHE_LOCK						0


// Clock generator incl. Frequency Synthesizer

#define ST5508REG_CLOCK_GENERATOR_BASE			0x100
#define ST5508REG_CLOCK_GENERATOR_SIZEOF		0x100


// MPEG AV buffer control register

#define ST5508REG_MPEG_CONTROL_BASE				0xe000
#define ST5508REG_MPEG_CONTROL_SIZEOF			0x10


#endif
